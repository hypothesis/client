{"version":3,"sources":["../../bin/cli.js"],"names":[],"mappings":";;AAEA,a;;AAEA,IAAM,WAAW,QAAQ,UAAR,CAAjB;AACA,IAAM,IAAI,QAAQ,QAAR,CAAV;AACA,IAAM,oBAAoB,QAAQ,2BAAR,CAA1B;;AAEA,IAAM,OAAO,SAAS,QAAQ,IAAR,CAAa,KAAb,CAAmB,CAAnB,CAAT,CAAb;;AAEA;AACA,KAAK,IAAM,GAAX,IAAkB,IAAlB,EAAwB;AACpB,QAAM,QAAQ,KAAK,GAAL,CAAd;AACA,WAAO,KAAK,GAAL,CAAP;AACA,SAAK,EAAE,SAAF,CAAY,GAAZ,CAAL,IAAyB,KAAzB;AACH;;AAED;WACqB,CAAC,WAAD,EAAc,mBAAd,C,CAArB,yCAAyD,CAApD,IAAM,iBAAN;AACD,QAAI,UAAU,IAAd,EAAoB;AAChB,YAAI,CAAC,MAAM,OAAN,CAAc,KAAK,MAAL,CAAd,CAAL,EAAkC;AAC9B,iBAAK,MAAL,IAAe,CAAC,KAAK,MAAL,CAAD,CAAf;AACH;AACJ;AACJ;;AAED;AACA,IAAM,UAAU,KAAK,OAArB;AACA,OAAO,KAAK,OAAZ;;AAEA,IAAM,MAAM;AACR,YADQ,oBACC,MADD,EACS;AACb,YAAI,OAAJ,EAAa;AACT,gEAAkB,OAAO,GAAzB,4GAA8B,KAAnB,GAAmB;AAC1B,4BAAQ,GAAR,CAAY,GAAZ;AACH,iBAHQ;AAIZ,SALY;;AAOb,6DAAkB,OAAO,KAAzB,iHAAgC,KAArB,IAAqB;AAC5B,wBAAQ,KAAR,CAAc,IAAd;AACH,aATY;;AAWb,YAAI,OAAO,MAAP,KAAkB,CAAtB,EAAyB;AACrB,oBAAQ,QAAR,GAAmB,OAAO,MAA1B;AACH;AACJ,KAfO,EAAZ;;;AAkBA,kBAAkB,IAAlB,EAAwB,IAAI,QAA5B;;AAEA,OAAO,OAAP,GAAiB,GAAjB","file":"cli.js","sourcesContent":["\n\n'use strict';\n\nconst minimist = require('minimist');\nconst _ = require('lodash');\nconst checkDependencies = require('../lib/check-dependencies');\n\nconst argv = minimist(process.argv.slice(2));\n\n// camelCase the options\nfor (const key in argv) {\n    const value = argv[key];\n    delete argv[key];\n    argv[_.camelCase(key)] = value;\n}\n\n// Options of type array should always have array values\nfor (const option of ['scopeList', 'optionalScopeList']) {\n    if (option in argv) {\n        if (!Array.isArray(argv[option])) {\n            argv[option] = [argv[option]];\n        }\n    }\n}\n\n// We'll handle verbosity by the CLI here.\nconst verbose = argv.verbose;\ndelete argv.verbose;\n\nconst Cli = {\n    reporter(result) {\n        if (verbose) {\n            for (const msg of result.log) {\n                console.log(msg);\n            }\n        }\n\n        for (const msg of result.error) {\n            console.error(msg);\n        }\n\n        if (result.status !== 0) {\n            process.exitCode = result.status;\n        }\n    },\n};\n\ncheckDependencies(argv, Cli.reporter);\n\nmodule.exports = Cli;\n"]}