{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/boot/boot.js",
    "src/boot/index.js",
    "src/shared/settings.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA,YAEA,SAAS,kBAAiB,EAAK,GAC7B,GAAI,GAAO,EAAI,cAAc,OAC7B,GAAK,IAAM,aACX,EAAK,KAAO,WACZ,EAAK,KAAO,EACZ,EAAI,KAAK,YAAY,GAGvB,QAAS,cAAa,EAAK,GACzB,GAAI,GAAS,EAAI,cAAc,SAC/B,GAAO,KAAO,kBACd,EAAO,IAAM,EAIb,EAAO,OAAQ,EACf,EAAI,KAAK,YAAY,GAGvB,QAAS,cAAa,EAAK,EAAQ,GACjC,EAAO,QAAQ,SAAU,GACvB,GAAI,GAAM,EAAO,UAAY,SAAW,EAAO,SAAS,EACpD,GAAI,MAAM,SACZ,iBAAiB,EAAK,GAEtB,aAAa,EAAK,KAUxB,QAAS,sBAAqB,EAAK,GAGjC,IADgB,EAAI,cAAc,2CAClC,CAOA,GAAI,GAAa,EAAI,cAAc,OACnC,GAAW,IAAM,UACjB,EAAW,KAAO,EAAO,cACzB,EAAW,KAAO,6BAClB,EAAI,KAAK,YAAY,EAIrB,IAAI,GAAY,EAAI,cAAc,OAClC,GAAU,IAAM,oBAChB,EAAU,KAAO,EAAO,UAAY,gBACpC,EAAU,KAAO,mCACjB,EAAI,KAAK,YAAY,GAErB,aAAa,EAAK,GAEhB,8BACA,2BAGA,8BAEA,qBACA,uBACA,gCAOJ,QAAS,gBAAe,EAAK,GAC3B,aAAa,EAAK,GAEhB,0BACA,4BACA,0BACA,6BACA,8BACA,0BAGA,4BAEA,yBACA,4BACA,qBACA,uBACA,uBAIJ,QAAS,MAAK,EAAW,GACnB,EAAU,cAAc,kBAC1B,eAAe,EAAW,GAE1B,qBAAqB,EAAW,GAIpC,OAAO,QAAU;;;AC3GjB,YAaA,IAAI,MAAO,QAAQ,UACf,SAAW,QAAQ,sBAAsB,gBAAgB,SAE7D,MAAK,UACH,UAAW,SAAS,WAAa,iBACjC,SAAU,aACV,cAAe,SAAS,eAAiB;;;ACnB3C,YAIA,SAAS,QAAO,EAAM,GACpB,IAAK,GAAI,KAAK,GACR,EAAI,eAAe,KACrB,EAAK,GAAK,EAAI,GAGlB,OAAO,GAmBT,QAAS,iBAAgB,GAKvB,IAAK,GAJD,MACA,EACF,EAAS,iBAAiB,+BAEnB,EAAE,EAAG,EAAI,EAAiB,OAAQ,IAAK,CAC9C,GAAI,EACJ,KACE,EAAW,KAAK,MAAM,EAAiB,GAAG,aAC1C,MAAO,GACP,QAAQ,KAAK,0DAA2D,GACxE,KAEF,OAAO,EAAQ,GAGjB,MAAO,GAGT,OAAO,SACL,gBAAiB",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()",
    "'use strict';\n\nfunction injectStylesheet(doc, href) {\n  var link = doc.createElement('link');\n  link.rel = 'stylesheet';\n  link.type = 'text/css';\n  link.href = href;\n  doc.head.appendChild(link);\n}\n\nfunction injectScript(doc, src) {\n  var script = doc.createElement('script');\n  script.type = 'text/javascript';\n  script.src = src;\n\n  // Set 'async' to false to maintain execution order of scripts.\n  // See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script\n  script.async = false;\n  doc.head.appendChild(script);\n}\n\nfunction injectAssets(doc, config, assets) {\n  assets.forEach(function (path) {\n    var url = config.assetRoot + 'build/' + config.manifest[path];\n    if (url.match(/\\.css/)) {\n      injectStylesheet(doc, url);\n    } else {\n      injectScript(doc, url);\n    }\n  });\n}\n\n/**\n * Bootstrap the Hypothesis client.\n *\n * This triggers loading of the necessary resources for the client\n */\nfunction bootHypothesisClient(doc, config) {\n  // Detect presence of Hypothesis in the page\n  var appLinkEl = doc.querySelector('link[type=\"application/annotator+html\"]');\n  if (appLinkEl) {\n    return;\n  }\n\n  // Register the URL of the sidebar app which the Hypothesis client should load.\n  // The <link> tag is also used by browser extensions etc. to detect the\n  // presence of the Hypothesis client on the page.\n  var sidebarUrl = doc.createElement('link');\n  sidebarUrl.rel = 'sidebar';\n  sidebarUrl.href = config.sidebarAppUrl;\n  sidebarUrl.type = 'application/annotator+html';\n  doc.head.appendChild(sidebarUrl);\n\n  // Register the URL of the annotation client which is currently being used to drive\n  // annotation interactions.\n  var clientUrl = doc.createElement('link');\n  clientUrl.rel = 'hypothesis-client';\n  clientUrl.href = config.assetRoot + 'build/boot.js';\n  clientUrl.type = 'application/annotator+javascript';\n  doc.head.appendChild(clientUrl);\n\n  injectAssets(doc, config, [\n    // Vendor code and polyfills\n    'scripts/polyfills.bundle.js',\n    'scripts/jquery.bundle.js',\n\n    // Main entry point for the client\n    'scripts/annotator.bundle.js',\n\n    'styles/icomoon.css',\n    'styles/annotator.css',\n    'styles/pdfjs-overrides.css',\n  ]);\n}\n\n/**\n * Bootstrap the sidebar application which displays annotations.\n */\nfunction bootSidebarApp(doc, config) {\n  injectAssets(doc, config, [\n    // Vendor code and polyfills required by app.bundle.js\n    'scripts/raven.bundle.js',\n    'scripts/angular.bundle.js',\n    'scripts/katex.bundle.js',\n    'scripts/showdown.bundle.js',\n    'scripts/polyfills.bundle.js',\n    'scripts/unorm.bundle.js',\n\n    // The sidebar app\n    'scripts/sidebar.bundle.js',\n\n    'styles/angular-csp.css',\n    'styles/angular-toastr.css',\n    'styles/icomoon.css',\n    'styles/katex.min.css',\n    'styles/sidebar.css',\n  ]);\n}\n\nfunction boot(document_, config) {\n  if (document_.querySelector('hypothesis-app')) {\n    bootSidebarApp(document_, config);\n  } else {\n    bootHypothesisClient(document_, config);\n  }\n}\n\nmodule.exports = boot;\n",
    "'use strict';\n\n// This is the main entry point for the Hypothesis client in the host page\n// and the sidebar application.\n//\n// The same boot script is used for both entry points so that the browser\n// already has it cached when it encounters the reference in the sidebar\n// application.\n\n// Variables replaced by the build script\n\n/* global __MANIFEST__ */\n\nvar boot = require('./boot');\nvar settings = require('../shared/settings').jsonConfigsFrom(document);\n\nboot(document, {\n  assetRoot: settings.assetRoot || '__ASSET_ROOT__',\n  manifest: __MANIFEST__,\n  sidebarAppUrl: settings.sidebarAppUrl || '__SIDEBAR_APP_URL__',\n});\n",
    "'use strict';\n\n// `Object.assign()`-like helper. Used because this script needs to work\n// in IE 10/11 without polyfills.\nfunction assign(dest, src) {\n  for (var k in src) {\n    if (src.hasOwnProperty(k)) {\n      dest[k] = src[k];\n    }\n  }\n  return dest;\n}\n\n/**\n * Return a parsed `js-hypothesis-config` object from the document, or `{}`.\n *\n * Find all `<script class=\"js-hypothesis-config\">` tags in the given document,\n * parse them as JSON, and return the parsed object.\n *\n * If there are no `js-hypothesis-config` tags in the document then return\n * `{}`.\n *\n * If there are multiple `js-hypothesis-config` tags in the document then merge\n * them into a single returned object (when multiple scripts contain the same\n * setting names, scripts further down in the document override those further\n * up).\n *\n * @param {Document|Element} document - The root element to search.\n */\nfunction jsonConfigsFrom(document) {\n  var config = {};\n  var settingsElements =\n    document.querySelectorAll('script.js-hypothesis-config');\n\n  for (var i=0; i < settingsElements.length; i++) {\n    var settings;\n    try {\n      settings = JSON.parse(settingsElements[i].textContent);\n    } catch (err) {\n      console.warn('Could not parse settings from js-hypothesis-config tags', err);\n      settings = {};\n    }\n    assign(config, settings);\n  }\n\n  return config;\n}\n\nmodule.exports = {\n  jsonConfigsFrom: jsonConfigsFrom,\n};\n"
  ]
}