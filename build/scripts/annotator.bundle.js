(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){
function parents(e,n){var o=[];n=n||noop;do{o.push(e),e=e.parentNode}while(e&&e.tagName&&n(e));return o.slice(1)}function noop(e){return!0}module.exports=parents;

},{}],2:[function(require,module,exports){
!function(){"use strict";function e(){for(var r=[],o=0;o<arguments.length;o++){var f=arguments[o];if(f){var i=typeof f;if("string"===i||"number"===i)r.push(f);else if(Array.isArray(f))r.push(e.apply(null,f));else if("object"===i)for(var t in f)n.call(f,t)&&f[t]&&r.push(t)}}return r.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return e}):window.classNames=e}();

},{}],3:[function(require,module,exports){
(function (global){
function useNative(){try{var e=new NativeCustomEvent("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}var NativeCustomEvent=global.CustomEvent;module.exports=useNative()?NativeCustomEvent:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n};

}).call(this,window)

},{}],4:[function(require,module,exports){
"use strict";var keys=require("object-keys"),foreach=require("foreach"),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol(),toStr=Object.prototype.toString,isFunction=function(e){return"function"==typeof e&&"[object Function]"===toStr.call(e)},arePropertyDescriptorsSupported=function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var r in e)return!1;return e.x===e}catch(e){return!1}},supportsDescriptors=Object.defineProperty&&arePropertyDescriptorsSupported(),defineProperty=function(e,r,t,o){(!(r in e)||isFunction(o)&&o())&&(supportsDescriptors?Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value:t,writable:!0}):e[r]=t)},defineProperties=function(e,r){var t=arguments.length>2?arguments[2]:{},o=keys(r);hasSymbols&&(o=o.concat(Object.getOwnPropertySymbols(r))),foreach(o,function(o){defineProperty(e,o,r[o],t[o])})};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties;

},{"foreach":36,"object-keys":5}],5:[function(require,module,exports){
"use strict";var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,slice=Array.prototype.slice,isArgs=require("./isArguments"),isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(t){var e=t.constructor;return e&&e.prototype===t},excludedKeys={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!excludedKeys["$"+t]&&has.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{equalsConstructorPrototype(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(t){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(t);try{return equalsConstructorPrototype(t)}catch(t){return!1}},keysShim=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===toStr.call(t),o=isArgs(t),n=e&&"[object String]"===toStr.call(t),s=[];if(!e&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var u=hasProtoEnumBug&&r;if(n&&t.length>0&&!has.call(t,0))for(var i=0;i<t.length;++i)s.push(String(i));if(o&&t.length>0)for(var l=0;l<t.length;++l)s.push(String(l));else for(var c in t)u&&"prototype"===c||!has.call(t,c)||s.push(String(c));if(hasDontEnumBug)for(var a=equalsConstructorPrototypeIfNotBuggy(t),y=0;y<dontEnums.length;++y)a&&"constructor"===dontEnums[y]||!has.call(t,dontEnums[y])||s.push(dontEnums[y]);return s};keysShim.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return t(isArgs(e)?slice.call(e):e)}}}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim;

},{"./isArguments":6}],6:[function(require,module,exports){
"use strict";var toStr=Object.prototype.toString;module.exports=function(t){var e=toStr.call(t),o="[object Arguments]"===e;return o||(o="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===toStr.call(t.callee)),o};

},{}],7:[function(require,module,exports){
"use strict";function diff_match_patch(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;diff_match_patch.Diff,diff_match_patch.prototype.diff_main=function(t,e,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var h=i;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[DIFF_EQUAL,t]]:[];void 0===n&&(n=!0);var r=n,a=this.diff_commonPrefix(t,e),f=t.substring(0,a);t=t.substring(a),e=e.substring(a),a=this.diff_commonSuffix(t,e);var s=t.substring(t.length-a);t=t.substring(0,t.length-a),e=e.substring(0,e.length-a);var l=this.diff_compute_(t,e,r,h);return f&&l.unshift([DIFF_EQUAL,f]),s&&l.push([DIFF_EQUAL,s]),this.diff_cleanupMerge(l),l},diff_match_patch.prototype.diff_compute_=function(t,e,n,i){var h;if(!t)return[[DIFF_INSERT,e]];if(!e)return[[DIFF_DELETE,t]];var r=t.length>e.length?t:e,a=t.length>e.length?e:t,f=r.indexOf(a);if(-1!=f)return h=[[DIFF_INSERT,r.substring(0,f)],[DIFF_EQUAL,a],[DIFF_INSERT,r.substring(f+a.length)]],t.length>e.length&&(h[0][0]=h[2][0]=DIFF_DELETE),h;if(1==a.length)return[[DIFF_DELETE,t],[DIFF_INSERT,e]];var s=this.diff_halfMatch_(t,e);if(s){var l=s[0],_=s[1],c=s[2],g=s[3],o=s[4],p=this.diff_main(l,c,n,i),u=this.diff_main(_,g,n,i);return p.concat([[DIFF_EQUAL,o]],u)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,i):this.diff_bisect_(t,e,i)},diff_match_patch.prototype.diff_lineMode_=function(t,e,n){var i=this.diff_linesToChars_(t,e);t=i.chars1,e=i.chars2;var h=i.lineArray,r=this.diff_main(t,e,!1,n);this.diff_charsToLines_(r,h),this.diff_cleanupSemantic(r),r.push([DIFF_EQUAL,""]);for(var a=0,f=0,s=0,l="",_="";a<r.length;){switch(r[a][0]){case DIFF_INSERT:s++,_+=r[a][1];break;case DIFF_DELETE:f++,l+=r[a][1];break;case DIFF_EQUAL:if(f>=1&&s>=1){r.splice(a-f-s,f+s),a=a-f-s;for(var i=this.diff_main(l,_,!1,n),c=i.length-1;c>=0;c--)r.splice(a,0,i[c]);a+=i.length}s=0,f=0,l="",_=""}a++}return r.pop(),r},diff_match_patch.prototype.diff_bisect_=function(t,e,n){for(var i=t.length,h=e.length,r=Math.ceil((i+h)/2),a=r,f=2*r,s=new Array(f),l=new Array(f),_=0;_<f;_++)s[_]=-1,l[_]=-1;s[a+1]=0,l[a+1]=0;for(var c=i-h,g=c%2!=0,o=0,p=0,u=0,d=0,F=0;F<r&&!((new Date).getTime()>n);F++){for(var E=-F+o;E<=F-p;E+=2){var m,D=a+E;m=E==-F||E!=F&&s[D-1]<s[D+1]?s[D+1]:s[D-1]+1;for(var I=m-E;m<i&&I<h&&t.charAt(m)==e.charAt(I);)m++,I++;if(s[D]=m,m>i)p+=2;else if(I>h)o+=2;else if(g){var b=a+c-E;if(b>=0&&b<f&&-1!=l[b]){var v=i-l[b];if(m>=v)return this.diff_bisectSplit_(t,e,m,I,n)}}}for(var L=-F+u;L<=F-d;L+=2){var v,b=a+L;v=L==-F||L!=F&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1;for(var T=v-L;v<i&&T<h&&t.charAt(i-v-1)==e.charAt(h-T-1);)v++,T++;if(l[b]=v,v>i)d+=2;else if(T>h)u+=2;else if(!g){var D=a+c-L;if(D>=0&&D<f&&-1!=s[D]){var m=s[D],I=a+m-D;if(v=i-v,m>=v)return this.diff_bisectSplit_(t,e,m,I,n)}}}}return[[DIFF_DELETE,t],[DIFF_INSERT,e]]},diff_match_patch.prototype.diff_bisectSplit_=function(t,e,n,i,h){var r=t.substring(0,n),a=e.substring(0,i),f=t.substring(n),s=e.substring(i),l=this.diff_main(r,a,!1,h),_=this.diff_main(f,s,!1,h);return l.concat(_)},diff_match_patch.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,r=-1,a=i.length;r<t.length-1;){r=t.indexOf("\n",n),-1==r&&(r=t.length-1);var f=t.substring(n,r+1);n=r+1,(h.hasOwnProperty?h.hasOwnProperty(f):void 0!==h[f])?e+=String.fromCharCode(h[f]):(e+=String.fromCharCode(a),h[f]=a,i[a++]=f)}return e}var i=[],h={};return i[0]="",{chars1:n(t),chars2:n(e),lineArray:i}},diff_match_patch.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n][1],h=[],r=0;r<i.length;r++)h[r]=e[i.charCodeAt(r)];t[n][1]=h.join("")}},diff_match_patch.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),h=i,r=0;n<h;)t.substring(r,h)==e.substring(r,h)?(n=h,r=n):i=h,h=Math.floor((i-n)/2+n);return h},diff_match_patch.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),h=i,r=0;n<h;)t.substring(t.length-h,t.length-r)==e.substring(e.length-h,e.length-r)?(n=h,r=n):i=h,h=Math.floor((i-n)/2+n);return h},diff_match_patch.prototype.diff_commonOverlap_=function(t,e){var n=t.length,i=e.length;if(0==n||0==i)return 0;n>i?t=t.substring(n-i):n<i&&(e=e.substring(0,n));var h=Math.min(n,i);if(t==e)return h;for(var r=0,a=1;;){var f=t.substring(h-a),s=e.indexOf(f);if(-1==s)return r;a+=s,0!=s&&t.substring(h-a)!=e.substring(0,a)||(r=a,a++)}},diff_match_patch.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var i,h,r,f,s=t.substring(n,n+Math.floor(t.length/4)),l=-1,_="";-1!=(l=e.indexOf(s,l+1));){var c=a.diff_commonPrefix(t.substring(n),e.substring(l)),g=a.diff_commonSuffix(t.substring(0,n),e.substring(0,l));_.length<g+c&&(_=e.substring(l-g,l)+e.substring(l,l+c),i=t.substring(0,n-g),h=t.substring(n+c),r=e.substring(0,l-g),f=e.substring(l+c))}return 2*_.length>=t.length?[i,h,r,f,_]:null}if(this.Diff_Timeout<=0)return null;var i=t.length>e.length?t:e,h=t.length>e.length?e:t;if(i.length<4||2*h.length<i.length)return null;var r,a=this,f=n(i,h,Math.ceil(i.length/4)),s=n(i,h,Math.ceil(i.length/2));if(!f&&!s)return null;r=s?f&&f[4].length>s[4].length?f:s:f;var l,_,c,g;return t.length>e.length?(l=r[0],_=r[1],c=r[2],g=r[3]):(c=r[0],g=r[1],l=r[2],_=r[3]),[l,_,c,g,r[4]]},diff_match_patch.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],i=0,h=null,r=0,a=0,f=0,s=0,l=0;r<t.length;)t[r][0]==DIFF_EQUAL?(n[i++]=r,a=s,f=l,s=0,l=0,h=t[r][1]):(t[r][0]==DIFF_INSERT?s+=t[r][1].length:l+=t[r][1].length,h&&h.length<=Math.max(a,f)&&h.length<=Math.max(s,l)&&(t.splice(n[i-1],0,[DIFF_DELETE,h]),t[n[i-1]+1][0]=DIFF_INSERT,i--,i--,r=i>0?n[i-1]:-1,a=0,f=0,s=0,l=0,h=null,e=!0)),r++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),r=1;r<t.length;){if(t[r-1][0]==DIFF_DELETE&&t[r][0]==DIFF_INSERT){var _=t[r-1][1],c=t[r][1],g=this.diff_commonOverlap_(_,c),o=this.diff_commonOverlap_(c,_);g>=o?(g>=_.length/2||g>=c.length/2)&&(t.splice(r,0,[DIFF_EQUAL,c.substring(0,g)]),t[r-1][1]=_.substring(0,_.length-g),t[r+1][1]=c.substring(g),r++):(o>=_.length/2||o>=c.length/2)&&(t.splice(r,0,[DIFF_EQUAL,_.substring(0,o)]),t[r-1][0]=DIFF_INSERT,t[r-1][1]=c.substring(0,c.length-o),t[r+1][0]=DIFF_DELETE,t[r+1][1]=_.substring(o),r++),r++}r++}},diff_match_patch.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),i=e.charAt(0),h=n.match(diff_match_patch.nonAlphaNumericRegex_),r=i.match(diff_match_patch.nonAlphaNumericRegex_),a=h&&n.match(diff_match_patch.whitespaceRegex_),f=r&&i.match(diff_match_patch.whitespaceRegex_),s=a&&n.match(diff_match_patch.linebreakRegex_),l=f&&i.match(diff_match_patch.linebreakRegex_),_=s&&t.match(diff_match_patch.blanklineEndRegex_),c=l&&e.match(diff_match_patch.blanklineStartRegex_);return _||c?5:s||l?4:h&&!a&&f?3:a||f?2:h||r?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==DIFF_EQUAL&&t[n+1][0]==DIFF_EQUAL){var i=t[n-1][1],h=t[n][1],r=t[n+1][1],a=this.diff_commonSuffix(i,h);if(a){var f=h.substring(h.length-a);i=i.substring(0,i.length-a),h=f+h.substring(0,h.length-a),r=f+r}for(var s=i,l=h,_=r,c=e(i,h)+e(h,r);h.charAt(0)===r.charAt(0);){i+=h.charAt(0),h=h.substring(1)+r.charAt(0),r=r.substring(1);var g=e(i,h)+e(h,r);g>=c&&(c=g,s=i,l=h,_=r)}t[n-1][1]!=s&&(s?t[n-1][1]=s:(t.splice(n-1,1),n--),t[n][1]=l,_?t[n+1][1]=_:(t.splice(n+1,1),n--))}n++}},diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,diff_match_patch.whitespaceRegex_=/\s/,diff_match_patch.linebreakRegex_=/[\r\n]/,diff_match_patch.blanklineEndRegex_=/\n\r?\n$/,diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/,diff_match_patch.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],i=0,h=null,r=0,a=!1,f=!1,s=!1,l=!1;r<t.length;)t[r][0]==DIFF_EQUAL?(t[r][1].length<this.Diff_EditCost&&(s||l)?(n[i++]=r,a=s,f=l,h=t[r][1]):(i=0,h=null),s=l=!1):(t[r][0]==DIFF_DELETE?l=!0:s=!0,h&&(a&&f&&s&&l||h.length<this.Diff_EditCost/2&&a+f+s+l==3)&&(t.splice(n[i-1],0,[DIFF_DELETE,h]),t[n[i-1]+1][0]=DIFF_INSERT,i--,h=null,a&&f?(s=l=!0,i=0):(i--,r=i>0?n[i-1]:-1,s=l=!1),e=!0)),r++;e&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_cleanupMerge=function(t){t.push([DIFF_EQUAL,""]);for(var e,n=0,i=0,h=0,r="",a="";n<t.length;)switch(t[n][0]){case DIFF_INSERT:h++,a+=t[n][1],n++;break;case DIFF_DELETE:i++,r+=t[n][1],n++;break;case DIFF_EQUAL:i+h>1?(0!==i&&0!==h&&(e=this.diff_commonPrefix(a,r),0!==e&&(n-i-h>0&&t[n-i-h-1][0]==DIFF_EQUAL?t[n-i-h-1][1]+=a.substring(0,e):(t.splice(0,0,[DIFF_EQUAL,a.substring(0,e)]),n++),a=a.substring(e),r=r.substring(e)),0!==(e=this.diff_commonSuffix(a,r))&&(t[n][1]=a.substring(a.length-e)+t[n][1],a=a.substring(0,a.length-e),r=r.substring(0,r.length-e))),0===i?t.splice(n-h,i+h,[DIFF_INSERT,a]):0===h?t.splice(n-i,i+h,[DIFF_DELETE,r]):t.splice(n-i-h,i+h,[DIFF_DELETE,r],[DIFF_INSERT,a]),n=n-i-h+(i?1:0)+(h?1:0)+1):0!==n&&t[n-1][0]==DIFF_EQUAL?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,h=0,i=0,r="",a=""}""===t[t.length-1][1]&&t.pop();var f=!1;for(n=1;n<t.length-1;)t[n-1][0]==DIFF_EQUAL&&t[n+1][0]==DIFF_EQUAL&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),f=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),f=!0)),n++;f&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_xIndex=function(t,e){var n,i=0,h=0,r=0,a=0;for(n=0;n<t.length&&(t[n][0]!==DIFF_INSERT&&(i+=t[n][1].length),t[n][0]!==DIFF_DELETE&&(h+=t[n][1].length),!(i>e));n++)r=i,a=h;return t.length!=n&&t[n][0]===DIFF_DELETE?a:a+(e-r)},diff_match_patch.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,i=/</g,h=/>/g,r=/\n/g,a=0;a<t.length;a++){var f=t[a][0],s=t[a][1],l=s.replace(n,"&amp;").replace(i,"&lt;").replace(h,"&gt;").replace(r,"&para;<br>");switch(f){case DIFF_INSERT:e[a]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case DIFF_DELETE:e[a]='<del style="background:#ffe6e6;">'+l+"</del>";break;case DIFF_EQUAL:e[a]="<span>"+l+"</span>"}}return e.join("")},diff_match_patch.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)t[n][0]!==DIFF_INSERT&&(e[n]=t[n][1]);return e.join("")},diff_match_patch.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)t[n][0]!==DIFF_DELETE&&(e[n]=t[n][1]);return e.join("")},diff_match_patch.prototype.diff_levenshtein=function(t){for(var e=0,n=0,i=0,h=0;h<t.length;h++){var r=t[h][0],a=t[h][1];switch(r){case DIFF_INSERT:n+=a.length;break;case DIFF_DELETE:i+=a.length;break;case DIFF_EQUAL:e+=Math.max(n,i),n=0,i=0}}return e+=Math.max(n,i)},diff_match_patch.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case DIFF_INSERT:e[n]="+"+encodeURI(t[n][1]);break;case DIFF_DELETE:e[n]="-"+t[n][1].length;break;case DIFF_EQUAL:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},diff_match_patch.prototype.diff_fromDelta=function(t,e){for(var n=[],i=0,h=0,r=e.split(/\t/g),a=0;a<r.length;a++){var f=r[a].substring(1);switch(r[a].charAt(0)){case"+":try{n[i++]=[DIFF_INSERT,decodeURI(f)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var s=parseInt(f,10);if(isNaN(s)||s<0)throw new Error("Invalid number in diff_fromDelta: "+f);var l=t.substring(h,h+=s);"="==r[a].charAt(0)?n[i++]=[DIFF_EQUAL,l]:n[i++]=[DIFF_DELETE,l];break;default:if(r[a])throw new Error("Invalid diff operation in diff_fromDelta: "+r[a])}}if(h!=t.length)throw new Error("Delta length ("+h+") does not equal source text length ("+t.length+").");return n},diff_match_patch.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},diff_match_patch.prototype.match_bitap_=function(t,e,n){function i(t,i){var h=t/e.length,a=Math.abs(n-i);return r.Match_Distance?h+a/r.Match_Distance:a?1:h}if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var h=this.match_alphabet_(e),r=this,a=this.Match_Threshold,f=t.indexOf(e,n);-1!=f&&(a=Math.min(i(0,f),a),-1!=(f=t.lastIndexOf(e,n+e.length))&&(a=Math.min(i(0,f),a)));var s=1<<e.length-1;f=-1;for(var l,_,c,g=e.length+t.length,o=0;o<e.length;o++){for(l=0,_=g;l<_;)i(o,n+_)<=a?l=_:g=_,_=Math.floor((g-l)/2+l);g=_;var p=Math.max(1,n-_+1),u=Math.min(n+_,t.length)+e.length,d=Array(u+2);d[u+1]=(1<<o)-1;for(var F=u;F>=p;F--){var E=h[t.charAt(F-1)];if(d[F]=0===o?(d[F+1]<<1|1)&E:(d[F+1]<<1|1)&E|(c[F+1]|c[F])<<1|1|c[F+1],d[F]&s){var m=i(o,F-1);if(m<=a){if(a=m,!((f=F-1)>n))break;p=Math.max(1,2*n-f)}}}if(i(o+1,n)>a)break;c=d}return f},diff_match_patch.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(var n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},diff_match_patch.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var h=e.substring(t.start2-i,t.start2);h&&t.diffs.unshift([DIFF_EQUAL,h]);var r=e.substring(t.start2+t.length1,t.start2+t.length1+i);r&&t.diffs.push([DIFF_EQUAL,r]),t.start1-=h.length,t.start2-=h.length,t.length1+=h.length+r.length,t.length2+=h.length+r.length}},diff_match_patch.prototype.patch_make=function(t,e,n){var i,h;if("string"==typeof t&&"string"==typeof e&&void 0===n)i=t,h=this.diff_main(i,e,!0),h.length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(t&&"object"==typeof t&&void 0===e&&void 0===n)h=t,i=this.diff_text1(h);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===n)i=t,h=e;else{if("string"!=typeof t||"string"!=typeof e||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");i=t,h=n}if(0===h.length)return[];for(var r=[],a=new diff_match_patch.patch_obj,f=0,s=0,l=0,_=i,c=i,g=0;g<h.length;g++){var o=h[g][0],p=h[g][1];switch(f||o===DIFF_EQUAL||(a.start1=s,a.start2=l),o){case DIFF_INSERT:a.diffs[f++]=h[g],a.length2+=p.length,c=c.substring(0,l)+p+c.substring(l);break;case DIFF_DELETE:a.length1+=p.length,a.diffs[f++]=h[g],c=c.substring(0,l)+c.substring(l+p.length);break;case DIFF_EQUAL:p.length<=2*this.Patch_Margin&&f&&h.length!=g+1?(a.diffs[f++]=h[g],a.length1+=p.length,a.length2+=p.length):p.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(a,_),r.push(a),a=new diff_match_patch.patch_obj,f=0,_=c,s=l)}o!==DIFF_INSERT&&(s+=p.length),o!==DIFF_DELETE&&(l+=p.length)}return f&&(this.patch_addContext_(a,_),r.push(a)),r},diff_match_patch.prototype.patch_deepCopy=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],h=new diff_match_patch.patch_obj;h.diffs=[];for(var r=0;r<i.diffs.length;r++)h.diffs[r]=i.diffs[r].slice();h.start1=i.start1,h.start2=i.start2,h.length1=i.length1,h.length2=i.length2,e[n]=h}return e},diff_match_patch.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var i=0,h=[],r=0;r<t.length;r++){var a,f=t[r].start2+i,s=this.diff_text1(t[r].diffs),l=-1;if(s.length>this.Match_MaxBits?-1!=(a=this.match_main(e,s.substring(0,this.Match_MaxBits),f))&&(-1==(l=this.match_main(e,s.substring(s.length-this.Match_MaxBits),f+s.length-this.Match_MaxBits))||a>=l)&&(a=-1):a=this.match_main(e,s,f),-1==a)h[r]=!1,i-=t[r].length2-t[r].length1;else{h[r]=!0,i=a-f;var _;if(_=-1==l?e.substring(a,a+s.length):e.substring(a,l+this.Match_MaxBits),s==_)e=e.substring(0,a)+this.diff_text2(t[r].diffs)+e.substring(a+s.length);else{var c=this.diff_main(s,_,!1);if(s.length>this.Match_MaxBits&&this.diff_levenshtein(c)/s.length>this.Patch_DeleteThreshold)h[r]=!1;else{this.diff_cleanupSemanticLossless(c);for(var g,o=0,p=0;p<t[r].diffs.length;p++){var u=t[r].diffs[p];u[0]!==DIFF_EQUAL&&(g=this.diff_xIndex(c,o)),u[0]===DIFF_INSERT?e=e.substring(0,a+g)+u[1]+e.substring(a+g):u[0]===DIFF_DELETE&&(e=e.substring(0,a+g)+e.substring(a+this.diff_xIndex(c,o+u[1].length))),u[0]!==DIFF_DELETE&&(o+=u[1].length)}}}}}return e=e.substring(n.length,e.length-n.length),[e,h]},diff_match_patch.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;i<=e;i++)n+=String.fromCharCode(i);for(var i=0;i<t.length;i++)t[i].start1+=e,t[i].start2+=e;var h=t[0],r=h.diffs;if(0==r.length||r[0][0]!=DIFF_EQUAL)r.unshift([DIFF_EQUAL,n]),h.start1-=e,h.start2-=e,h.length1+=e,h.length2+=e;else if(e>r[0][1].length){var a=e-r[0][1].length;r[0][1]=n.substring(r[0][1].length)+r[0][1],h.start1-=a,h.start2-=a,h.length1+=a,h.length2+=a}if(h=t[t.length-1],r=h.diffs,0==r.length||r[r.length-1][0]!=DIFF_EQUAL)r.push([DIFF_EQUAL,n]),h.length1+=e,h.length2+=e;else if(e>r[r.length-1][1].length){var a=e-r[r.length-1][1].length;r[r.length-1][1]+=n.substring(0,a),h.length1+=a,h.length2+=a}return n},diff_match_patch.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,n=0;n<t.length;n++)if(!(t[n].length1<=e)){var i=t[n];t.splice(n--,1);for(var h=i.start1,r=i.start2,a="";0!==i.diffs.length;){var f=new diff_match_patch.patch_obj,s=!0;for(f.start1=h-a.length,f.start2=r-a.length,""!==a&&(f.length1=f.length2=a.length,f.diffs.push([DIFF_EQUAL,a]));0!==i.diffs.length&&f.length1<e-this.Patch_Margin;){var l=i.diffs[0][0],_=i.diffs[0][1];l===DIFF_INSERT?(f.length2+=_.length,r+=_.length,f.diffs.push(i.diffs.shift()),s=!1):l===DIFF_DELETE&&1==f.diffs.length&&f.diffs[0][0]==DIFF_EQUAL&&_.length>2*e?(f.length1+=_.length,h+=_.length,s=!1,f.diffs.push([l,_]),i.diffs.shift()):(_=_.substring(0,e-f.length1-this.Patch_Margin),f.length1+=_.length,h+=_.length,l===DIFF_EQUAL?(f.length2+=_.length,r+=_.length):s=!1,f.diffs.push([l,_]),_==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(_.length))}a=this.diff_text2(f.diffs),a=a.substring(a.length-this.Patch_Margin);var c=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==c&&(f.length1+=c.length,f.length2+=c.length,0!==f.diffs.length&&f.diffs[f.diffs.length-1][0]===DIFF_EQUAL?f.diffs[f.diffs.length-1][1]+=c:f.diffs.push([DIFF_EQUAL,c])),s||t.splice(++n,0,f)}}},diff_match_patch.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},diff_match_patch.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var n=t.split("\n"),i=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var r=n[i].match(h);if(!r)throw new Error("Invalid patch string: "+n[i]);var a=new diff_match_patch.patch_obj;for(e.push(a),a.start1=parseInt(r[1],10),""===r[2]?(a.start1--,a.length1=1):"0"==r[2]?a.length1=0:(a.start1--,a.length1=parseInt(r[2],10)),a.start2=parseInt(r[3],10),""===r[4]?(a.start2--,a.length2=1):"0"==r[4]?a.length2=0:(a.start2--,a.length2=parseInt(r[4],10)),i++;i<n.length;){var f=n[i].charAt(0);try{var s=decodeURI(n[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+s)}if("-"==f)a.diffs.push([DIFF_DELETE,s]);else if("+"==f)a.diffs.push([DIFF_INSERT,s]);else if(" "==f)a.diffs.push([DIFF_EQUAL,s]);else{if("@"==f)break;if(""!==f)throw new Error('Invalid patch mode "'+f+'" in: '+s)}i++}}return e},diff_match_patch.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},diff_match_patch.patch_obj.prototype.toString=function(){var t,e;t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,e=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var n,i=["@@ -"+t+" +"+e+" @@\n"],h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case DIFF_INSERT:n="+";break;case DIFF_DELETE:n="-";break;case DIFF_EQUAL:n=" "}i[h+1]=n+encodeURI(this.diffs[h][1])+"\n"}return i.join("").replace(/%20/g," ")},module.exports=diff_match_patch,module.exports.diff_match_patch=diff_match_patch,module.exports.DIFF_DELETE=DIFF_DELETE,module.exports.DIFF_INSERT=DIFF_INSERT,module.exports.DIFF_EQUAL=DIFF_EQUAL;

},{}],8:[function(require,module,exports){
module.exports=function(){var e=document.baseURI;if(!e)for(var t=document.getElementsByTagName("base"),n=0;n<t.length;n++)if(t[n].href){e=t[n].href;break}return e||document.documentURI}();

},{}],9:[function(require,module,exports){
!function(e,r){if("function"==typeof define&&define.amd)define(["exports","module"],r);else if("undefined"!=typeof exports&&"undefined"!=typeof module)r(exports,module);else{var t={exports:{}};r(t.exports,t),e.FragmentAnchor=t.exports}}(this,function(e,r){"use strict";function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),n=function(){function e(r,o){if(t(this,e),void 0===r)throw new Error('missing required parameter "root"');if(void 0===o)throw new Error('missing required parameter "id"');this.root=r,this.id=o}return o(e,[{key:"toRange",value:function(){var e=this.root.querySelector("#"+this.id);if(null==e)throw new Error('no element found with id "'+this.id+'"');var r=this.root.ownerDocument.createRange();return r.selectNodeContents(e),r}},{key:"toSelector",value:function(){var e=this.root.querySelector("#"+this.id);if(null==e)throw new Error('no element found with id "'+this.id+'"');var r="https://tools.ietf.org/html/rfc3236";return e instanceof SVGElement&&(r="http://www.w3.org/TR/SVG/"),{type:"FragmentSelector",value:this.id,conformsTo:r}}}],[{key:"fromRange",value:function(r,t){if(void 0===r)throw new Error('missing required parameter "root"');if(void 0===t)throw new Error('missing required parameter "range"');for(var o=t.commonAncestorContainer;null!=o&&!o.id;){if(!(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY))throw new Error("no fragment identifier found");o=o.parentElement}return new e(r,o.id)}},{key:"fromSelector",value:function(r){return new e(r,(arguments.length<=1||void 0===arguments[1]?{}:arguments[1]).value)}}]),e}();r.exports=n});

},{}],10:[function(require,module,exports){
module.exports=require("./lib");

},{"./lib":11}],11:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function fromRange(e,r){if(void 0===e)throw new Error('missing required parameter "root"');if(void 0===r)throw new Error('missing required parameter "range"');var t=e.ownerDocument,o=t.createRange(),n=r.startContainer,a=r.startOffset;o.setStart(e,0),o.setEnd(n,a);var d=(0,_rangeToString2.default)(o).length;return{start:d,end:d+(0,_rangeToString2.default)(r).length}}function toRange(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(void 0===e)throw new Error('missing required parameter "root"');var t=e.ownerDocument,o=t.createRange(),n=(0,_domNodeIterator2.default)(e,SHOW_TEXT),a=r.start||0,d=r.end||a,i=(0,_domSeek2.default)(n,a),u=a-i;n.pointerBeforeReferenceNode?o.setStart(n.referenceNode,u):(o.setStart(n.nextNode(),u),n.previousNode());var f=d-a+u;return i=(0,_domSeek2.default)(n,f),u=f-i,n.pointerBeforeReferenceNode?o.setEnd(n.referenceNode,u):o.setEnd(n.nextNode(),u),o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromRange=fromRange,exports.toRange=toRange;var _domNodeIterator=require("dom-node-iterator"),_domNodeIterator2=_interopRequireDefault(_domNodeIterator),_domSeek=require("dom-seek"),_domSeek2=_interopRequireDefault(_domSeek),_rangeToString=require("./range-to-string"),_rangeToString2=_interopRequireDefault(_rangeToString),SHOW_TEXT=4;

},{"./range-to-string":12,"dom-node-iterator":16,"dom-seek":25}],12:[function(require,module,exports){
"use strict";function nextNode(e,t){if(!t&&e.firstChild)return e.firstChild;do{if(e.nextSibling)return e.nextSibling;e=e.parentNode}while(e);return e}function firstNode(e){if(e.startContainer.nodeType===Node.ELEMENT_NODE){return e.startContainer.childNodes[e.startOffset]||nextNode(e.startContainer,!0)}return e.startContainer}function firstNodeAfter(e){if(e.endContainer.nodeType===Node.ELEMENT_NODE){return e.endContainer.childNodes[e.endOffset]||nextNode(e.endContainer,!0)}return nextNode(e.endContainer)}function forEachNodeInRange(e,t){for(var n=firstNode(e),r=firstNodeAfter(e);n!==r;)t(n),n=nextNode(n)}function rangeToString(e){var t="";return forEachNodeInRange(e,function(n){if(n.nodeType===Node.TEXT_NODE){var r=n===e.startContainer?e.startOffset:0,o=n===e.endContainer?e.endOffset:n.textContent.length;t+=n.textContent.slice(r,o)}}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=rangeToString;

},{}],13:[function(require,module,exports){
module.exports=require("./lib");

},{"./lib":14}],14:[function(require,module,exports){
"use strict";function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function fromRange(t,e){if(void 0===t)throw new Error('missing required parameter "root"');if(void 0===e)throw new Error('missing required parameter "range"');return fromTextPosition(t,textPosition.fromRange(t,e))}function fromTextPosition(t,e){if(void 0===t)throw new Error('missing required parameter "root"');if(void 0===e)throw new Error('missing required parameter "selector"');var r=e.start;if(void 0===r)throw new Error('selector missing required property "start"');if(r<0)throw new Error('property "start" must be a non-negative integer');var n=e.end;if(void 0===n)throw new Error('selector missing required property "end"');if(n<0)throw new Error('property "end" must be a non-negative integer');var o=t.textContent.substr(r,n-r),i=Math.max(0,r-CONTEXT_LENGTH),a=t.textContent.substr(i,r-i),s=Math.min(t.textContent.length,n+CONTEXT_LENGTH);return{exact:o,prefix:a,suffix:t.textContent.substr(n,s-n)}}function toRange(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=toTextPosition(t,e,r);return null===n?null:textPosition.toRange(t,n)}function toTextPosition(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)throw new Error('missing required parameter "root"');if(void 0===e)throw new Error('missing required parameter "selector"');var n=e.exact;if(void 0===n)throw new Error('selector missing required property "exact"');var o=e.prefix,i=e.suffix,a=r.hint,s=new _diffMatchPatch2.default;s.Match_Distance=2*t.textContent.length;var u=n.match(SLICE_RE),f=void 0===a?t.textContent.length/2|0:a,d=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,c=-1,l=void 0!==o,m=void 0!==i,x=!1;l&&(c=s.match_main(t.textContent,o,f))>-1&&(f=c+o.length,x=!0),m&&!x&&(c=s.match_main(t.textContent,i,f+n.length))>-1&&(f=c-n.length);var g=u.shift();if(!((c=s.match_main(t.textContent,g,f))>-1))return null;d=c,f=h=d+g.length;var p=function(e,r){if(!e)return null;var n=s.match_main(t.textContent,r,e.loc);return-1===n?null:(e.loc=n+r.length,e.start=Math.min(e.start,n),e.end=Math.max(e.end,n+r.length),e)};s.Match_Distance=64;var v=u.reduce(p,{start:d,end:h,loc:f});return v?{start:v.start,end:v.end}:null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromRange=fromRange,exports.fromTextPosition=fromTextPosition,exports.toRange=toRange,exports.toTextPosition=toTextPosition;var _diffMatchPatch=require("diff-match-patch"),_diffMatchPatch2=_interopRequireDefault(_diffMatchPatch),_domAnchorTextPosition=require("dom-anchor-text-position"),textPosition=_interopRequireWildcard(_domAnchorTextPosition),SLICE_LENGTH=32,SLICE_RE=new RegExp("(.|[\r\n]){1,"+String(SLICE_LENGTH)+"}","g"),CONTEXT_LENGTH=SLICE_LENGTH;

},{"diff-match-patch":7,"dom-anchor-text-position":10}],15:[function(require,module,exports){
module.exports=require("./lib/implementation").default;

},{"./lib/implementation":19}],16:[function(require,module,exports){
module.exports=require("./lib").default,module.exports.getPolyfill=require("./polyfill"),module.exports.implementation=require("./implementation"),module.exports.shim=require("./shim");

},{"./implementation":15,"./lib":20,"./polyfill":23,"./shim":24}],17:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function createNodeIterator(e){var t=arguments.length<=1||void 0===arguments[1]?4294967295:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=9==e.nodeType||e.ownerDocument,n=o.createNodeIterator(e,t,r,!1);return new NodeIterator(n,e,t,r)}exports.__esModule=!0,exports.default=createNodeIterator;var NodeIterator=function(){function e(t,r,o,n){_classCallCheck(this,e),this.root=r,this.whatToShow=o,this.filter=n,this.referenceNode=r,this.pointerBeforeReferenceNode=!0,this._iter=t}return e.prototype.nextNode=function(){var e=this._iter.nextNode();return this.pointerBeforeReferenceNode=!1,null===e?null:(this.referenceNode=e,this.referenceNode)},e.prototype.previousNode=function(){var e=this._iter.previousNode();return this.pointerBeforeReferenceNode=!0,null===e?null:(this.referenceNode=e,this.referenceNode)},e.prototype.toString=function(){return"[object NodeIterator]"},e}();

},{}],18:[function(require,module,exports){
"use strict";function createNodeIterator(e){var t=arguments.length<=1||void 0===arguments[1]?4294967295:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],o=e.ownerDocument;return o.createNodeIterator.call(o,e,t,r)}exports.__esModule=!0,exports.default=createNodeIterator;

},{}],19:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function createNodeIterator(e){var t=arguments.length<=1||void 0===arguments[1]?4294967295:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new NodeIterator(e,t,r)}exports.__esModule=!0,exports.default=createNodeIterator;var NodeIterator=function(){function e(t,r,o){_classCallCheck(this,e),this.root=t,this.whatToShow=r,this.filter=o,this.referenceNode=t,this.pointerBeforeReferenceNode=!0,this._filter=function(e){return!o||1===o(e)},this._show=function(e){return r>>e.nodeType-1&!0}}return e.prototype.nextNode=function(){var e=this.pointerBeforeReferenceNode;this.pointerBeforeReferenceNode=!1;var t=this.referenceNode;if(e&&this._show(t)&&this._filter(t))return t;do{if(t.firstChild)t=t.firstChild;else{do{if(t===this.root)return null;if(t.nextSibling)break;t=t.parentNode}while(t);t=t.nextSibling}}while(!this._show(t)||!this._filter(t));return this.referenceNode=t,this.pointerBeforeReferenceNode=!1,t},e.prototype.previousNode=function(){var e=this.pointerBeforeReferenceNode;this.pointerBeforeReferenceNode=!0;var t=this.referenceNode;if(!e&&this._show(t)&&this._filter(t))return t;do{if(t===this.root)return null;if(t.previousSibling)for(t=t.previousSibling;t.lastChild;)t=t.lastChild;else t=t.parentNode}while(!this._show(t)||!this._filter(t));return this.referenceNode=t,this.pointerBeforeReferenceNode=!0,t},e.prototype.toString=function(){return"[object NodeIterator]"},e}();

},{}],20:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var _polyfill=require("./polyfill"),_polyfill2=_interopRequireDefault(_polyfill),_implementation=require("./implementation"),_implementation2=_interopRequireDefault(_implementation),_shim=require("./shim"),_shim2=_interopRequireDefault(_shim),polyfill=(0,_polyfill2.default)();polyfill.implementation=_implementation2.default,polyfill.shim=_shim2.default,exports.default=polyfill;

},{"./implementation":19,"./polyfill":21,"./shim":22}],21:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getPolyfill(){try{var e="undefined"==typeof document?{}:document;return(0,_builtin2.default)(e,4294967295,null,!1).referenceNode===e?_builtin2.default:_adapter2.default}catch(e){return _implementation2.default}}exports.__esModule=!0,exports.default=getPolyfill;var _adapter=require("./adapter"),_adapter2=_interopRequireDefault(_adapter),_builtin=require("./builtin"),_builtin2=_interopRequireDefault(_builtin),_implementation=require("./implementation"),_implementation2=_interopRequireDefault(_implementation);

},{"./adapter":17,"./builtin":18,"./implementation":19}],22:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function shim(){var e="undefined"==typeof document?{}:document,i=(0,_polyfill2.default)();return i!==_builtin2.default&&(e.createNodeIterator=i),i}exports.__esModule=!0,exports.default=shim;var _builtin=require("./builtin"),_builtin2=_interopRequireDefault(_builtin),_polyfill=require("./polyfill"),_polyfill2=_interopRequireDefault(_polyfill);

},{"./builtin":18,"./polyfill":21}],23:[function(require,module,exports){
module.exports=require("./lib/polyfill").default;

},{"./lib/polyfill":21}],24:[function(require,module,exports){
module.exports=require("./lib/shim").default;

},{"./lib/shim":22}],25:[function(require,module,exports){
module.exports=require("./lib").default;

},{"./lib":26}],26:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function seek(e,r){if(e.whatToShow!==SHOW_TEXT)throw new Error(E_SHOW);var n=0,t=e.referenceNode,o=null;if(isNumber(r))o={forward:function(){return n<r},backward:function(){return n>r}};else{if(!isText(r))throw new Error(E_WHERE);o={forward:before(t,r)?function(){return!1}:function(){return t!==r},backward:function(){return t!=r||!e.pointerBeforeReferenceNode}}}for(;o.forward()&&null!==(t=e.nextNode());)n+=t.nodeValue.length;for(;o.backward()&&null!==(t=e.previousNode());)n-=t.nodeValue.length;return n}function isNumber(e){return!isNaN(parseInt(e))&&isFinite(e)}function isText(e){return e.nodeType===TEXT_NODE}function before(e,r){if(e===r)return!1;for(var n=null,t=[e].concat((0,_ancestors2.default)(e)).reverse(),o=[r].concat((0,_ancestors2.default)(r)).reverse();t[0]===o[0];)n=t.shift(),o.shift();return t=t[0],o=o[0],(0,_indexOf2.default)(n.childNodes,t)>(0,_indexOf2.default)(n.childNodes,o)}exports.__esModule=!0,exports.default=seek;var _ancestors=require("ancestors"),_ancestors2=_interopRequireDefault(_ancestors),_indexOf=require("index-of"),_indexOf2=_interopRequireDefault(_indexOf),E_SHOW="Argument 1 of seek must use filter NodeFilter.SHOW_TEXT.",E_WHERE="Argument 2 of seek must be a number or a Text Node.",SHOW_TEXT=4,TEXT_NODE=3;

},{"ancestors":1,"index-of":41}],27:[function(require,module,exports){
"use strict";var $isNaN=require("./helpers/isNaN"),$isFinite=require("./helpers/isFinite"),sign=require("./helpers/sign"),mod=require("./helpers/mod"),IsCallable=require("is-callable"),toPrimitive=require("es-to-primitive/es5"),has=require("has"),ES5={ToPrimitive:toPrimitive,ToBoolean:function(e){return!!e},ToNumber:function(e){return Number(e)},ToInteger:function(e){var r=this.ToNumber(e);return $isNaN(r)?0:0!==r&&$isFinite(r)?sign(r)*Math.floor(Math.abs(r)):r},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var r=this.ToNumber(e);if($isNaN(r)||0===r||!$isFinite(r))return 0;var t=sign(r)*Math.floor(Math.abs(r));return mod(t,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,r){if(null==e)throw new TypeError(r||"Cannot call method on "+e);return e},IsCallable:IsCallable,SameValue:function(e,r){return e===r?0!==e||1/e==1/r:$isNaN(e)&&$isNaN(r)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var t in e)if(has(e,t)&&!r[t])return!1;var i=has(e,"[[Value]]"),o=has(e,"[[Get]]")||has(e,"[[Set]]");if(i&&o)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!has(e,"[[Get]]")&&!has(e,"[[Set]]"))},IsDataDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!has(e,"[[Value]]")&&!has(e,"[[Writable]]"))},IsGenericDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e)},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new TypeError("ToPropertyDescriptor requires an object");var r={};if(has(e,"enumerable")&&(r["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),has(e,"configurable")&&(r["[[Configurable]]"]=this.ToBoolean(e.configurable)),has(e,"value")&&(r["[[Value]]"]=e.value),has(e,"writable")&&(r["[[Writable]]"]=this.ToBoolean(e.writable)),has(e,"get")){var t=e.get;if(void 0!==t&&!this.IsCallable(t))throw new TypeError("getter must be a function");r["[[Get]]"]=t}if(has(e,"set")){var i=e.set;if(void 0!==i&&!this.IsCallable(i))throw new TypeError("setter must be a function");r["[[Set]]"]=i}if((has(r,"[[Get]]")||has(r,"[[Set]]"))&&(has(r,"[[Value]]")||has(r,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return r}};module.exports=ES5;

},{"./helpers/isFinite":28,"./helpers/isNaN":29,"./helpers/mod":30,"./helpers/sign":31,"es-to-primitive/es5":32,"has":40,"is-callable":42}],28:[function(require,module,exports){
var $isNaN=Number.isNaN||function(e){return e!==e};module.exports=Number.isFinite||function(e){return"number"==typeof e&&!$isNaN(e)&&e!==1/0&&e!==-1/0};

},{}],29:[function(require,module,exports){
module.exports=Number.isNaN||function(e){return e!==e};

},{}],30:[function(require,module,exports){
module.exports=function(o,r){var t=o%r;return Math.floor(t>=0?t:t+r)};

},{}],31:[function(require,module,exports){
module.exports=function(e){return e>=0?1:-1};

},{}],32:[function(require,module,exports){
"use strict";var toStr=Object.prototype.toString,isPrimitive=require("./helpers/isPrimitive"),isCallable=require("is-callable"),ES5internalSlots={"[[DefaultValue]]":function(e,t){var r=t||("[object Date]"===toStr.call(e)?String:Number);if(r===String||r===Number){var i,l,a=r===String?["toString","valueOf"]:["valueOf","toString"];for(l=0;l<a.length;++l)if(isCallable(e[a[l]])&&(i=e[a[l]](),isPrimitive(i)))return i;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};module.exports=function(e,t){return isPrimitive(e)?e:ES5internalSlots["[[DefaultValue]]"](e,t)};

},{"./helpers/isPrimitive":33,"is-callable":42}],33:[function(require,module,exports){
module.exports=function(o){return null===o||"function"!=typeof o&&"object"!=typeof o};

},{}],34:[function(require,module,exports){
var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,undefined,isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===toStr.call(t)},isPlainObject=function(t){"use strict";if(!t||"[object Object]"!==toStr.call(t))return!1;var r=hasOwn.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&hasOwn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!o)return!1;var n;for(n in t);return n===undefined||hasOwn.call(t,n)};module.exports=function t(){"use strict";var r,o,n,e,c,i,a=arguments[0],s=1,u=arguments.length,l=!1;for("boolean"==typeof a?(l=a,a=arguments[1]||{},s=2):("object"!=typeof a&&"function"!=typeof a||null==a)&&(a={});s<u;++s)if(null!=(r=arguments[s]))for(o in r)n=a[o],e=r[o],a!==e&&(l&&e&&(isPlainObject(e)||(c=isArray(e)))?(c?(c=!1,i=n&&isArray(n)?n:[]):i=n&&isPlainObject(n)?n:{},a[o]=t(l,i,e)):e!==undefined&&(a[o]=e));return a};

},{}],35:[function(require,module,exports){
function forEach(r,t,o){if(!isFunction(t))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===toString.call(r)?forEachArray(r,t,o):"string"==typeof r?forEachString(r,t,o):forEachObject(r,t,o)}function forEachArray(r,t,o){for(var n=0,a=r.length;n<a;n++)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}function forEachString(r,t,o){for(var n=0,a=r.length;n<a;n++)t.call(o,r.charAt(n),n,r)}function forEachObject(r,t,o){for(var n in r)hasOwnProperty.call(r,n)&&t.call(o,r[n],n,r)}var isFunction=require("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty;

},{"is-function":43}],36:[function(require,module,exports){
var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString;module.exports=function(t,r,o){if("[object Function]"!==toString.call(r))throw new TypeError("iterator must be a function");var e=t.length;if(e===+e)for(var n=0;n<e;n++)r.call(o,t[n],n,t);else for(var a in t)hasOwn.call(t,a)&&r.call(o,t[a],a,t)};

},{}],37:[function(require,module,exports){
"use strict";var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString,funcType="[object Function]";module.exports=function(t){var n=this;if("function"!=typeof n||toStr.call(n)!==funcType)throw new TypeError(ERROR_MESSAGE+n);for(var o,e=slice.call(arguments,1),r=function(){if(this instanceof o){var r=n.apply(this,e.concat(slice.call(arguments)));return Object(r)===r?r:this}return n.apply(t,e.concat(slice.call(arguments)))},c=Math.max(0,n.length-e.length),i=[],p=0;p<c;p++)i.push("$"+p);if(o=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(r),n.prototype){var l=function(){};l.prototype=n.prototype,o.prototype=new l,l.prototype=null}return o};

},{}],38:[function(require,module,exports){
"use strict";var implementation=require("./implementation");module.exports=Function.prototype.bind||implementation;

},{"./implementation":37}],39:[function(require,module,exports){
(function (global){
var __browserify_shim_require__=require;(function(t,e,i,n,r){!function(e,i,r,s){"use strict";function o(t,e,i){return setTimeout(l(t,i),e)}function a(t,e,i){return!!Array.isArray(t)&&(u(t,i[e],i),!0)}function u(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==s)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function h(t,i,n){var r="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=e.console&&(e.console.warn||e.console.log);return s&&s.call(e.console,r,n),t.apply(this,arguments)}}function c(t,e,i){var n,r=e.prototype;n=t.prototype=Object.create(r),n.constructor=t,n._super=r,i&&pt(n,i)}function l(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==dt?t.apply(e?e[0]||s:s,e):t}function f(t,e){return t===s?e:t}function v(t,e,i){u(T(e),function(e){t.addEventListener(e,i,!1)})}function d(t,e,i){u(T(e),function(e){t.removeEventListener(e,i,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function T(t){return t.trim().split(/\s+/g)}function y(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function I(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];y(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function _(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<ft.length;){if(i=ft[o],(n=i?i+r:e)in t)return n;o++}return s}function A(){return It++}function b(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||e}function C(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e=t.options.inputClass;return new(e||(bt?H:Ct?L:At?V:q))(t,P)}function P(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=e&Pt&&n-r==0,o=e&(wt|xt)&&n-r==0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,D(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function D(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=O(e)),r>1&&!i.firstMultiple?i.firstMultiple=O(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,u=e.center=R(n);e.timeStamp=Tt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=X(a,u),e.distance=N(a,u),w(i,e),e.offsetDirection=z(e.deltaX,e.deltaY);var h=M(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=gt(h.x)>gt(h.y)?h.x:h.y,e.scale=o?F(o.pointers,n):1,e.rotation=o?Y(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,x(i,e);var c=t.element;m(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function w(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==Pt&&s.eventType!==wt||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function x(t,e){var i,n,r,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=xt&&(u>St||a.velocity===s)){var h=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=M(u,h,c);n=l.x,r=l.y,i=gt(l.x)>gt(l.y)?l.x:l.y,o=z(h,c),t.lastInterval=e}else i=a.velocity,n=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}function O(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:mt(t.pointers[i].clientX),clientY:mt(t.pointers[i].clientY)},i++;return{timeStamp:Tt(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:mt(i/e),y:mt(n/e)}}function M(t,e,i){return{x:e/t||0,y:i/t||0}}function z(t,e){return t===e?Ot:gt(t)>=gt(e)?t<0?Rt:Mt:e<0?zt:Nt}function N(t,e,i){i||(i=qt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function X(t,e,i){i||(i=qt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function Y(t,e){return X(e[1],e[0],Ht)+X(t[1],t[0],Ht)}function F(t,e){return N(e[0],e[1],Ht)/N(t[0],t[1],Ht)}function q(){this.evEl=kt,this.evWin=Lt,this.pressed=!1,C.apply(this,arguments)}function H(){this.evEl=jt,this.evWin=Gt,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=Bt,this.evWin=$t,this.started=!1,C.apply(this,arguments)}function k(t,e){var i=E(t.touches),n=E(t.changedTouches);return e&(wt|xt)&&(i=I(i.concat(n),"identifier",!0)),[i,n]}function L(){this.evTarget=Kt,this.targetIds={},C.apply(this,arguments)}function U(t,e){var i=E(t.touches),n=this.targetIds;if(e&(Pt|Dt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=E(t.changedTouches),a=[],u=this.target;if(s=i.filter(function(t){return m(t.target,u)}),e===Pt)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(wt|xt)&&delete n[o[r].identifier],r++;return a.length?[I(s.concat(a),"identifier",!0),a]:void 0}function V(){C.apply(this,arguments);var t=l(this.handler,this);this.touch=new L(this.manager,t),this.mouse=new q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function j(t,e){t&Pt?(this.primaryTouch=e.changedPointers[0].identifier,G.call(this,e)):t&(wt|xt)&&G.call(this,e)}function G(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,r=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(r,Qt)}}function Z(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(i-r.y);if(s<=te&&o<=te)return!0}return!1}function B(t,e){this.manager=t,this.set(e)}function $(t){if(g(t,se))return se;var e=g(t,oe),i=g(t,ae);return e&&i?se:e||i?e?oe:ae:g(t,re)?re:ne}function J(t){this.options=pt({},this.defaults,t||{}),this.id=A(),this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=he,this.simultaneous={},this.requireFail=[]}function K(t){return t&ve?"cancel":t&pe?"end":t&le?"move":t&ce?"start":""}function Q(t){return t==Nt?"down":t==zt?"up":t==Rt?"left":t==Mt?"right":""}function tt(t,e){var i=e.manager;return i?i.get(t):t}function et(){J.apply(this,arguments)}function it(){et.apply(this,arguments),this.pX=null,this.pY=null}function nt(){et.apply(this,arguments)}function rt(){J.apply(this,arguments),this._timer=null,this._input=null}function st(){et.apply(this,arguments)}function ot(){et.apply(this,arguments)}function at(){J.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ut(t,e){return e=e||{},e.recognizers=f(e.recognizers,ut.defaults.preset),new ht(t,e)}function ht(t,e){this.options=pt({},ut.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=S(this),this.touchAction=new B(this,this.options.touchAction),ct(this,!0),u(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ct(t,e){var i=t.element;if(i.style){var n;u(t.options.cssProps,function(r,s){n=_(i.style,s),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function lt(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var pt,ft=["","webkit","Moz","MS","ms","o"],vt=i.createElement("div"),dt="function",mt=Math.round,gt=Math.abs,Tt=Date.now;pt="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==s&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var yt=h(function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&t[n[r]]===s)&&(t[n[r]]=e[n[r]]),r++;return t},"extend","Use `assign`."),Et=h(function(t,e){return yt(t,e,!0)},"merge","Use `assign`."),It=1,_t=/mobile|tablet|ip(ad|hone|od)|android/i,At="ontouchstart"in e,bt=_(e,"PointerEvent")!==s,Ct=At&&_t.test(navigator.userAgent),St=25,Pt=1,Dt=2,wt=4,xt=8,Ot=1,Rt=2,Mt=4,zt=8,Nt=16,Xt=Rt|Mt,Yt=zt|Nt,Ft=Xt|Yt,qt=["x","y"],Ht=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(b(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(b(this.element),this.evWin,this.domHandler)}};var Wt={mousedown:Pt,mousemove:Dt,mouseup:wt},kt="mousedown",Lt="mousemove mouseup";c(q,C,{handler:function(t){var e=Wt[t.type];e&Pt&&0===t.button&&(this.pressed=!0),e&Dt&&1!==t.which&&(e=wt),this.pressed&&(e&wt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Ut={pointerdown:Pt,pointermove:Dt,pointerup:wt,pointercancel:xt,pointerout:xt},Vt={2:"touch",3:"pen",4:"mouse",5:"kinect"},jt="pointerdown",Gt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(jt="MSPointerDown",Gt="MSPointerMove MSPointerUp MSPointerCancel"),c(H,C,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Ut[n],s=Vt[t.pointerType]||t.pointerType,o="touch"==s,a=y(e,t.pointerId,"pointerId");r&Pt&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):r&(wt|xt)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Zt={touchstart:Pt,touchmove:Dt,touchend:wt,touchcancel:xt},Bt="touchstart",$t="touchstart touchmove touchend touchcancel";c(W,C,{handler:function(t){var e=Zt[t.type];if(e===Pt&&(this.started=!0),this.started){var i=k.call(this,t,e);e&(wt|xt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Jt={touchstart:Pt,touchmove:Dt,touchend:wt,touchcancel:xt},Kt="touchstart touchmove touchend touchcancel";c(L,C,{handler:function(t){var e=Jt[t.type],i=U.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var Qt=2500,te=25;c(V,C,{handler:function(t,e,i){var n="touch"==i.pointerType,r="mouse"==i.pointerType;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)j.call(this,e,i);else if(r&&Z.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ee=_(vt.style,"touchAction"),ie=ee!==s,ne="auto",re="manipulation",se="none",oe="pan-x",ae="pan-y",ue=function(){if(!ie)return!1;var t={},i=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!i||e.CSS.supports("touch-action",n)}),t}();B.prototype={set:function(t){"compute"==t&&(t=this.compute()),ie&&this.manager.element.style&&ue[t]&&(this.manager.element.style[ee]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),$(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,r=g(n,se)&&!ue[se],s=g(n,ae)&&!ue[ae],o=g(n,oe)&&!ue[oe];if(r){var a=1===t.pointers.length,u=t.distance<2,h=t.deltaTime<250;if(a&&u&&h)return}return o&&s?void 0:r||s&&i&Xt||o&&i&Yt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var he=1,ce=2,le=4,pe=8,fe=pe,ve=16;J.prototype={defaults:{},set:function(t){return pt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(a(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=tt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return a(t,"dropRecognizeWith",this)?this:(t=tt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(a(t,"requireFailure",this))return this;var e=this.requireFail;return t=tt(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(a(t,"dropRequireFailure",this))return this;t=tt(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<pe&&e(i.options.event+K(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=pe&&e(i.options.event+K(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|he)))return!1;t++}return!0},recognize:function(t){var e=pt({},t);if(!p(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(fe|ve|32)&&(this.state=he),this.state=this.process(e),this.state&(ce|le|pe|ve)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},c(et,J,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ce|le),r=this.attrTest(t);return n&&(i&xt||!r)?e|ve:n||r?i&wt?e|pe:e&ce?e|le:ce:32}}),c(it,et,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ft},getTouchAction:function(){var t=this.options.direction,e=[];return t&Xt&&e.push(ae),t&Yt&&e.push(oe),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&Xt?(r=0===s?Ot:s<0?Rt:Mt,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?Ot:o<0?zt:Nt,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return et.prototype.attrTest.call(this,t)&&(this.state&ce||!(this.state&ce)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),c(nt,et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ce)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),c(rt,J,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ne]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(wt|xt)&&!r)this.reset();else if(t.eventType&Pt)this.reset(),this._timer=o(function(){this.state=fe,this.tryEmit()},e.time,this);else if(t.eventType&wt)return fe;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===fe&&(t&&t.eventType&wt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Tt(),this.manager.emit(this.options.event,this._input)))}}),c(st,et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[se]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ce)}}),c(ot,et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Xt|Yt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Xt|Yt)?e=t.overallVelocity:i&Xt?e=t.overallVelocityX:i&Yt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&gt(e)>this.options.velocity&&t.eventType&wt},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(at,J,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[re]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&Pt&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=wt)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||N(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=o(function(){this.state=fe,this.tryEmit()},e.interval,this),ce):fe}return 32},failTimeout:function(){return this._timer=o(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==fe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ut.VERSION="2.0.7",ut.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[st,{enable:!1}],[nt,{enable:!1},["rotate"]],[ot,{direction:Xt}],[it,{direction:Xt},["swipe"]],[at],[at,{event:"doubletap",taps:2},["tap"]],[rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ht.prototype={set:function(t){return pt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&fe)&&(r=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(ce|le|pe)&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof J)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(a(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(a(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=y(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var i=this.handlers;return u(T(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==s){var i=this.handlers;return u(T(t),function(t){e?i[t]&&i[t].splice(y(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&lt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pt(ut,{INPUT_START:Pt,INPUT_MOVE:Dt,INPUT_END:wt,INPUT_CANCEL:xt,STATE_POSSIBLE:he,STATE_BEGAN:ce,STATE_CHANGED:le,STATE_ENDED:pe,STATE_RECOGNIZED:fe,STATE_CANCELLED:ve,STATE_FAILED:32,DIRECTION_NONE:Ot,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:Mt,DIRECTION_UP:zt,DIRECTION_DOWN:Nt,DIRECTION_HORIZONTAL:Xt,DIRECTION_VERTICAL:Yt,DIRECTION_ALL:Ft,Manager:ht,Input:C,TouchAction:B,TouchInput:L,MouseInput:q,PointerEventInput:H,TouchMouseInput:V,SingleTouchInput:W,Recognizer:J,AttrRecognizer:et,Tap:at,Pan:it,Swipe:ot,Pinch:nt,Rotate:st,Press:rt,on:v,off:d,each:u,merge:Et,extend:yt,assign:pt,inherit:c,bindFn:l,prefixed:_}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=ut,"function"==typeof n&&n.amd?n(function(){return ut}):void 0!==t&&t.exports?t.exports=ut:e.Hammer=ut}(window,document),r("undefined"!=typeof Hammer?Hammer:window.Hammer)}).call(global,void 0,void 0,void 0,void 0,function(t){module.exports=t});

}).call(this,window)

},{}],40:[function(require,module,exports){
var bind=require("function-bind");module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty);

},{"function-bind":38}],41:[function(require,module,exports){
"use strict";module.exports=function(r,t,e){e=e||0;if(null==r)return-1;var n=r.length,u=e<0?n+e:e;if(u>=r.length)return-1;for(;u<n;){if(r[u]===t)return u;u++}return-1};

},{}],42:[function(require,module,exports){
"use strict";var fnToStr=Function.prototype.toString,constructorRegex=/^\s*class /,isES6ClassFn=function(t){try{var n=fnToStr.call(t),r=n.replace(/\/\/.*\n/g,""),e=r.replace(/\/\*[.\s\S]*\*\//g,""),o=e.replace(/\n/gm," ").replace(/ {2}/g," ");return constructorRegex.test(o)}catch(t){return!1}},tryFunctionObject=function(t){try{return!isES6ClassFn(t)&&(fnToStr.call(t),!0)}catch(t){return!1}},toStr=Object.prototype.toString,fnClass="[object Function]",genClass="[object GeneratorFunction]",hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(hasToStringTag)return tryFunctionObject(t);if(isES6ClassFn(t))return!1;var n=toStr.call(t);return n===fnClass||n===genClass};

},{}],43:[function(require,module,exports){
function isFunction(o){var t=toString.call(o);return"[object Function]"===t||"function"==typeof o&&"[object RegExp]"!==t||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString;

},{}],44:[function(require,module,exports){
(function (global){
function debounce(e,t,r){function o(t){var r=s,o=v;return s=v=void 0,O=t,j=e.apply(o,r)}function n(e){return O=e,y=setTimeout(a,t),d?o(e):j}function i(e){var r=e-p,o=e-O,n=t-r;return T?nativeMin(n,m-o):n}function u(e){var r=e-p,o=e-O;return void 0===p||r>=t||r<0||T&&o>=m}function a(){var e=now();if(u(e))return f(e);y=setTimeout(a,i(e))}function f(e){return y=void 0,g&&s?o(e):(s=v=void 0,j)}function c(){void 0!==y&&clearTimeout(y),O=0,s=p=v=y=void 0}function l(){return void 0===y?j:f(now())}function b(){var e=now(),r=u(e);if(s=arguments,v=this,p=e,r){if(void 0===y)return n(p);if(T)return y=setTimeout(a,t),o(p)}return void 0===y&&(y=setTimeout(a,t)),j}var s,v,m,j,y,p,O=0,d=!1,T=!1,g=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);return t=toNumber(t)||0,isObject(r)&&(d=!!r.leading,T="maxWait"in r,m=T?nativeMax(toNumber(r.maxWait)||0,t):m,g="trailing"in r?!!r.trailing:g),b.cancel=c,b.flush=l,b}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN:+e}var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};module.exports=debounce;

}).call(this,window)

},{}],45:[function(require,module,exports){
"use strict";function langToTypeMap(e){var r={};return forEach(e,function(e,t){forEach(e,function(e){r[e]=t})}),r}function pluralTypeName(e){var r=langToTypeMap(pluralTypeToLanguages);return r[e]||r[split.call(e,/-/,1)[0]]||r.en}function pluralTypeIndex(e,r){return pluralTypes[pluralTypeName(e)](r)}function transformPhrase(e,r,t){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==r)return e;var n=e,o="number"==typeof r?{smart_count:r}:r;if(null!=o.smart_count&&n){var s=split.call(n,delimeter);n=trim(s[pluralTypeIndex(t||"en",o.smart_count)]||s[0])}return n=replace.call(n,tokenRegex,function(e,r){return has(o,r)&&null!=o[r]?replace.call(o[r],dollarRegex,dollarBillsYall):e})}function Polyglot(e){var r=e||{};this.phrases={},this.extend(r.phrases||{}),this.currentLocale=r.locale||"en";var t=r.allowMissing?transformPhrase:null;this.onMissingKey="function"==typeof r.onMissingKey?r.onMissingKey:t,this.warn=r.warn||warn}var forEach=require("for-each"),warning=require("warning"),has=require("has"),trim=require("string.prototype.trim"),warn=function(e){warning(!1,e)},replace=String.prototype.replace,split=String.prototype.split,delimeter="||||",pluralTypes={arabic:function(e){return e<3?e:e%100>=3&&e%100<=10?3:e%100>=11?4:5},chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},pluralTypeToLanguages={arabic:["ar"],chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru","lt"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]},dollarRegex=/\$/g,dollarBillsYall="$$",tokenRegex=/%\{(.*?)\}/g;Polyglot.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},Polyglot.prototype.extend=function(e,r){forEach(e,function(e,t){var n=r?r+"."+t:t;"object"==typeof e?this.extend(e,n):this.phrases[n]=e},this)},Polyglot.prototype.unset=function(e,r){"string"==typeof e?delete this.phrases[e]:forEach(e,function(e,t){var n=r?r+"."+t:t;"object"==typeof e?this.unset(e,n):delete this.phrases[n]},this)},Polyglot.prototype.clear=function(){this.phrases={}},Polyglot.prototype.replace=function(e){this.clear(),this.extend(e)},Polyglot.prototype.t=function(e,r){var t,n,o=null==r?{}:r;if("string"==typeof this.phrases[e])t=this.phrases[e];else if("string"==typeof o._)t=o._;else if(this.onMissingKey){var s=this.onMissingKey;n=s(e,o,this.currentLocale)}else this.warn('Missing translation for key: "'+e+'"'),n=e;return"string"==typeof t&&(n=transformPhrase(t,o,this.currentLocale)),n},Polyglot.prototype.has=function(e){return has(this.phrases,e)},Polyglot.transformPhrase=transformPhrase,module.exports=Polyglot;

},{"for-each":35,"has":40,"string.prototype.trim":51,"warning":54}],46:[function(require,module,exports){
(function (process){
(function(){var e,n,r,o,t,u;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(e()-t)/1e6},n=process.hrtime,e=function(){var e;return e=n(),1e9*e[0]+e[1]},o=e(),u=1e9*process.uptime(),t=o-u):Date.now?(module.exports=function(){return Date.now()-r},r=Date.now()):(module.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this);

}).call(this,require('_process'))

},{"_process":47}],47:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],48:[function(require,module,exports){
(function (global){
for(var now=require("performance-now"),root="undefined"==typeof window?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i=0;!raf&&i<vendors.length;i++)raf=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(e){if(0===queue.length){var o=now(),a=Math.max(0,frameDuration-(o-last));last=a+o,setTimeout(function(){var e=queue.slice(0);queue.length=0;for(var o=0;o<e.length;o++)if(!e[o].cancelled)try{e[o].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(a))}return queue.push({handle:++id,callback:e,cancelled:!1}),id},caf=function(e){for(var o=0;o<queue.length;o++)queue[o].handle===e&&(queue[o].cancelled=!0)}}module.exports=function(e){return raf.call(root,e)},module.exports.cancel=function(){caf.apply(root,arguments)},module.exports.polyfill=function(e){e||(e=root),e.requestAnimationFrame=raf,e.cancelAnimationFrame=caf};

}).call(this,window)

},{"performance-now":46}],49:[function(require,module,exports){
function raf(e){if("requestAnimationFrame"in window)return window.requestAnimationFrame(e);setTimeout(e,16)}function setElementScroll(e,t,n){e.self===e?e.scrollTo(t,n):(e.scrollLeft=t,e.scrollTop=n)}function getTargetScrollLocation(e,t,n){var l,i,r,a,o,s,f,c=e.getBoundingClientRect(),u=n&&null!=n.left?n.left:.5,d=n&&null!=n.top?n.top:.5,m=n&&null!=n.leftOffset?n.leftOffset:0,g=n&&null!=n.topOffset?n.topOffset:0,h=u,p=d;if(t.self===t)s=Math.min(c.width,t.innerWidth),f=Math.min(c.height,t.innerHeight),i=c.left+t.pageXOffset-t.innerWidth*h+s*h,r=c.top+t.pageYOffset-t.innerHeight*p+f*p,i-=m,r-=g,a=i-t.pageXOffset,o=r-t.pageYOffset;else{s=c.width,f=c.height,l=t.getBoundingClientRect();var E=c.left-(l.left-t.scrollLeft),S=c.top-(l.top-t.scrollTop);i=E+s*h-t.clientWidth*h,r=S+f*p-t.clientHeight*p,i=Math.max(Math.min(i,t.scrollWidth-t.clientWidth),0),r=Math.max(Math.min(r,t.scrollHeight-t.clientHeight),0),i-=m,r-=g,a=i-t.scrollLeft,o=r-t.scrollTop}return{x:i,y:r,differenceX:a,differenceY:o}}function animate(e){var t=e._scrollSettings;if(t){var n=getTargetScrollLocation(t.target,e,t.align),l=Date.now()-t.startTime,i=Math.min(1/t.time*l,1);if(l>t.time&&t.endIterations>3)return setElementScroll(e,n.x,n.y),e._scrollSettings=null,t.end(COMPLETE);t.endIterations++;var r=1-t.ease(i);if(setElementScroll(e,n.x-n.differenceX*r,n.y-n.differenceY*r),l>=t.time)return animate(e);raf(animate.bind(null,e))}}function transitionScrollTo(e,t,n,l){function i(e){t._scrollSettings=null,t.parentElement&&t.parentElement._scrollSettings&&t.parentElement._scrollSettings.end(e),l(e),t.removeEventListener("touchstart",r,{passive:!0})}var r,a=!t._scrollSettings,o=t._scrollSettings,s=Date.now();o&&o.end(CANCELED),t._scrollSettings={startTime:o?o.startTime:Date.now(),endIterations:0,target:e,time:n.time+(o?s-o.startTime:0),ease:n.ease,align:n.align,end:i},r=i.bind(null,CANCELED),t.addEventListener("touchstart",r,{passive:!0}),a&&animate(t)}function defaultIsScrollable(e){return"pageXOffset"in e||(e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth)&&"hidden"!==getComputedStyle(e).overflow}function defaultValidTarget(){return!0}var COMPLETE="complete",CANCELED="canceled";module.exports=function(e,t,n){function l(e){--r||n&&n(e)}if(e){"function"==typeof t&&(n=t,t=null),t||(t={}),t.time=isNaN(t.time)?1e3:t.time,t.ease=t.ease||function(e){return 1-Math.pow(1-e,e/2)};for(var i=e.parentElement,r=0,a=t.validTarget||defaultValidTarget,o=t.isScrollable;i;){if(a(i,r)&&(o?o(i,defaultIsScrollable):defaultIsScrollable(i))&&(r++,transitionScrollTo(e,i,t,l)),!(i=i.parentElement))return;"BODY"===i.tagName&&(i=i.ownerDocument,i=i.defaultView||i.ownerWindow)}}};

},{}],50:[function(require,module,exports){
"use strict";var bind=require("function-bind"),ES=require("es-abstract/es5"),replace=bind.call(Function.call,String.prototype.replace),leftWhitespace=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,rightWhitespace=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;module.exports=function(){var u=ES.ToString(ES.CheckObjectCoercible(this));return replace(replace(u,leftWhitespace,""),rightWhitespace,"")};

},{"es-abstract/es5":27,"function-bind":38}],51:[function(require,module,exports){
"use strict";var bind=require("function-bind"),define=require("define-properties"),implementation=require("./implementation"),getPolyfill=require("./polyfill"),shim=require("./shim"),boundTrim=bind.call(Function.call,getPolyfill());define(boundTrim,{getPolyfill:getPolyfill,implementation:implementation,shim:shim}),module.exports=boundTrim;

},{"./implementation":50,"./polyfill":52,"./shim":53,"define-properties":4,"function-bind":38}],52:[function(require,module,exports){
"use strict";var implementation=require("./implementation"),zeroWidthSpace="​";module.exports=function(){return String.prototype.trim&&zeroWidthSpace.trim()===zeroWidthSpace?String.prototype.trim:implementation};

},{"./implementation":50}],53:[function(require,module,exports){
"use strict";var define=require("define-properties"),getPolyfill=require("./polyfill");module.exports=function(){var e=getPolyfill();return define(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e};

},{"./polyfill":52,"define-properties":4}],54:[function(require,module,exports){
"use strict";var warning=function(){};module.exports=warning;

},{}],55:[function(require,module,exports){
module.exports=require("./zen-observable.js").Observable;

},{"./zen-observable.js":56}],56:[function(require,module,exports){
"use strict";!function(r,t){"undefined"!=typeof exports?r(exports,module):"undefined"!=typeof self&&r(self)}(function(r,t){function n(r){return"function"==typeof Symbol&&Boolean(Symbol[r])}function e(r){return n(r)?Symbol[r]:"@@"+r}function o(r,t){var n=r[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function i(r){var t=e("species");return t?r[t]:r}function c(r,t){Object.keys(t).forEach(function(n){var e=Object.getOwnPropertyDescriptor(t,n);e.enumerable=!1,Object.defineProperty(r,n,e)})}function u(r){var t=r._cleanup;t&&(r._cleanup=void 0,t())}function f(r){return void 0===r._observer}function s(r){f(r)||(r._observer=void 0,u(r))}function a(r){return function(t){r.unsubscribe()}}function b(r,t){if(Object(r)!==r)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=r;var n=o(r,"start");if(n&&n.call(r,this),!f(this)){r=new l(this);try{var e=t.call(void 0,r);if(null!=e){if("function"==typeof e.unsubscribe)e=a(e);else if("function"!=typeof e)throw new TypeError(e+" is not a function");this._cleanup=e}}catch(t){return void r.error(t)}f(this)&&u(this)}}function l(r){this._subscription=r}function p(r){if("function"!=typeof r)throw new TypeError("Observable initializer must be a function");this._subscriber=r}c(b.prototype={},{get closed(){return f(this)},unsubscribe:function(){s(this)}}),c(l.prototype={},{get closed(){return f(this._subscription)},next:function(r){var t=this._subscription;if(!f(t)){var n=t._observer;try{var e=o(n,"next");if(!e)return;return e.call(n,r)}catch(r){try{s(t)}finally{throw r}}}},error:function(r){var t=this._subscription;if(f(t))throw r;var n=t._observer;t._observer=void 0;try{var e=o(n,"error");if(!e)throw r;r=e.call(n,r)}catch(r){try{u(t)}finally{throw r}}return u(t),r},complete:function(r){var t=this._subscription;if(!f(t)){var n=t._observer;t._observer=void 0;try{var e=o(n,"complete");r=e?e.call(n,r):void 0}catch(r){try{u(t)}finally{throw r}}return u(t),r}}}),c(p.prototype,{subscribe:function(r){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof r&&(r={next:r,error:t[0],complete:t[1]}),new b(r,this._subscriber)},forEach:function(r){var t=this;return new Promise(function(n,e){if("function"!=typeof r)return Promise.reject(new TypeError(r+" is not a function"));t.subscribe({_subscription:null,start:function(r){if(Object(r)!==r)throw new TypeError(r+" is not an object");this._subscription=r},next:function(t){var n=this._subscription;if(!n.closed)try{return r(t)}catch(r){e(r),n.unsubscribe()}},error:e,complete:n})})},map:function(r){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(i(this.constructor))(function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=r(t)}catch(r){return n.error(r)}return n.next(t)}},error:function(r){return n.error(r)},complete:function(r){return n.complete(r)}})})},filter:function(r){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(i(this.constructor))(function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!r(t))return}catch(r){return n.error(r)}return n.next(t)}},error:function(r){return n.error(r)},complete:function(){return n.complete()}})})},reduce:function(r){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var n=i(this.constructor),e=arguments.length>1,o=!1,c=arguments[1],u=c;return new n(function(n){return t.subscribe({next:function(t){if(!n.closed){var i=!o;if(o=!0,!i||e)try{u=r(u,t)}catch(r){return n.error(r)}else u=t}},error:function(r){return n.error(r)},complete:function(){if(!o&&!e)return void n.error(new TypeError("Cannot reduce an empty sequence"));n.next(u),n.complete()}})})},flatMap:function(r){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");return new(i(this.constructor))(function(n){function e(){o&&0===i.length&&n.complete()}var o=!1,i=[],c=t.subscribe({next:function(t){if(r)try{t=r(t)}catch(r){return void n.error(r)}p.from(t).subscribe({_subscription:null,start:function(r){i.push(this._subscription=r)},next:function(r){n.next(r)},error:function(r){n.error(r)},complete:function(){var r=i.indexOf(this._subscription);r>=0&&i.splice(r,1),e()}})},error:function(r){return n.error(r)},complete:function(){o=!0,e()}});return function(r){i.forEach(function(r){return r.unsubscribe()}),c.unsubscribe()}})}}),Object.defineProperty(p.prototype,e("observable"),{value:function(){return this},writable:!0,configurable:!0}),c(p,{from:function(r){var t="function"==typeof this?this:p;if(null==r)throw new TypeError(r+" is not an object");var i=o(r,e("observable"));if(i){var c=i.call(r);if(Object(c)!==c)throw new TypeError(c+" is not an object");return c.constructor===t?c:new t(function(r){return c.subscribe(r)})}if(n("iterator")&&(i=o(r,e("iterator"))))return new t(function(t){for(var n,e=i.call(r)[Symbol.iterator]();n=e.next(),!n.done;){var o=n.value;if(t.next(o),t.closed)return}t.complete()});if(Array.isArray(r))return new t(function(t){for(var n=0;n<r.length;++n)if(t.next(r[n]),t.closed)return;t.complete()});throw new TypeError(r+" is not observable")},of:function(){for(var r=[],t=0;t<arguments.length;++t)r.push(arguments[t]);return new("function"==typeof this?this:p)(function(t){for(var n=0;n<r.length;++n)if(t.next(r[n]),t.closed)return;t.complete()})}}),Object.defineProperty(p,e("species"),{get:function(){return this},configurable:!0}),r.Observable=p});

},{}],57:[function(require,module,exports){
module.exports='<hypothesis-adder-toolbar class="annotator-adder js-adder">\n  <hypothesis-adder-actions class="annotator-adder-actions">\n    <button class="annotator-adder-actions__button h-icon-annotate js-annotate-btn">\n      <span class="annotator-adder-actions__label" data-action="comment">Feedback</span>\n    </button>\n    <button class="annotator-adder-actions__button h-icon-highlight js-highlight-btn">\n      <span class="annotator-adder-actions__label" data-action="highlight">Highlight</span>\n    </button>\n  </hypothesis-adder-actions>\n</hypothesis-adder-toolbar>\n';

},{}],58:[function(require,module,exports){
"use strict";function toPx(e){return e.toString()+"px"}function attachShadow(e){return e.attachShadow?e.attachShadow({mode:"open"}):e.createShadowRoot?e.createShadowRoot():null}function nearestPositionedAncestor(e){for(var t=e.parentElement;t.parentElement&&"static"===getComputedStyle(t).position;)t=t.parentElement;return t}function createAdderDOM(e){var t,n=attachShadow(e);if(n){n.innerHTML=template,t=n.querySelector(".js-adder");var r=Array.from(document.styleSheets).map(function(e){return e.href}).filter(function(e){return(e||"").match(/(icomoon|annotator)\.css/)}),i=document.createElement("style");i.textContent=r.map(function(e){return'@import "'+e+'";'}).join("\n"),n.appendChild(i)}else e.innerHTML=template,t=e.querySelector(".js-adder");return t}function Adder(e,t){function n(e){e.preventDefault(),e.stopPropagation(),this.classList.contains(ANNOTATE_BTN_CLASS)?t.onAnnotate():t.onHighlight(),a.hide()}function r(){return a.element.getBoundingClientRect().width}function i(){return a.element.getBoundingClientRect().height}var a=this,o=t.isHighlightBtnVisible();a.element=createAdderDOM(e);var l=t.traslatedBtnStrings().AnnotateBtn,s=t.traslatedBtnStrings().HighlightBtn;Object.assign(e.style,{display:"block",position:"absolute",top:0,zIndex:999}),a.element.style.visibility="hidden";var c,d=a.element.ownerDocument.defaultView;a.element.querySelector(ANNOTATE_BTN_SELECTOR).addEventListener("click",n),a.element.querySelector(ANNOTATE_BTN_SELECTOR).children[0].innerHTML=l,o?(a.element.querySelector(HIGHLIGHT_BTN_SELECTOR).addEventListener("click",n),a.element.querySelector(HIGHLIGHT_BTN_SELECTOR).innerHTML=s):a.element.querySelector(HIGHLIGHT_BTN_SELECTOR).style.display="none",this.hide=function(){clearTimeout(c),a.element.className=classnames({"annotator-adder":!0}),a.element.style.visibility="hidden"},this.target=function(e,t){var n;n=t?ARROW_POINTING_DOWN:ARROW_POINTING_UP;var a,o,l=Math.min(ARROW_H_MARGIN,e.width);return o=t?e.left-r()/2+l:e.left+e.width-r()/2-l,e.top-i()<0&&n===ARROW_POINTING_DOWN?n=ARROW_POINTING_UP:e.top+i()>d.innerHeight&&(n=ARROW_POINTING_DOWN),a=n===ARROW_POINTING_UP?e.top+e.height+ARROW_HEIGHT:e.top-i()-ARROW_HEIGHT,o=Math.max(o,0),o=Math.min(o,d.innerWidth-r()),a=Math.max(a,0),a=Math.min(a,d.innerHeight-i()),{top:a,left:o,arrowDirection:n}},this.showAt=function(t,n,r){a.element.className=classnames({"annotator-adder":!0,"annotator-adder--arrow-down":r===ARROW_POINTING_DOWN,"annotator-adder--arrow-up":r===ARROW_POINTING_UP}),a.element.querySelector(ANNOTATE_BTN_SELECTOR).style.display="";var i=nearestPositionedAncestor(e),o=i.getBoundingClientRect();Object.assign(e.style,{top:toPx(n-o.top),left:toPx(t-o.left)}),a.element.style.visibility="visible",clearTimeout(c),c=setTimeout(function(){a.element.className+=" is-active"},1)}}var classnames=require("classnames"),template=require("./adder.html"),ANNOTATE_BTN_CLASS="js-annotate-btn",ANNOTATE_BTN_SELECTOR=".js-annotate-btn",HIGHLIGHT_BTN_SELECTOR=".js-highlight-btn",ARROW_POINTING_DOWN=1,ARROW_POINTING_UP=2,ARROW_HEIGHT=10,ARROW_H_MARGIN=20;module.exports={ARROW_POINTING_DOWN:ARROW_POINTING_DOWN,ARROW_POINTING_UP:ARROW_POINTING_UP,Adder:Adder};

},{"./adder.html":57,"classnames":2}],59:[function(require,module,exports){
var FragmentAnchor,RangeAnchor,TextPositionAnchor,TextQuoteAnchor,querySelector,ref;ref=require("./types"),FragmentAnchor=ref.FragmentAnchor,RangeAnchor=ref.RangeAnchor,TextPositionAnchor=ref.TextPositionAnchor,TextQuoteAnchor=ref.TextQuoteAnchor,querySelector=function(e,r,n,t){var o;return o=function(o,c){var u,l,a;try{return u=e.fromSelector(r,n,t),a=u.toRange(t),o(a)}catch(e){return l=e,c(l)}},new Promise(o)},exports.anchor=function(e,r,n){var t,o,c,u,l,a,h,i,f,s;for(null==n&&(n={}),t=null,l=null,h=null,i=null,f=null!=r?r:[],o=0,c=f.length;o<c;o++)switch(s=f[o],s.type){case"FragmentSelector":t=s;break;case"TextPositionSelector":l=s,n.hint=l.start;break;case"TextQuoteSelector":h=s;break;case"RangeSelector":i=s}return u=function(e){if(null!=(null!=h?h.exact:void 0)&&e.toString()!==h.exact)throw new Error("quote mismatch");return e},a=Promise.reject("unable to anchor"),null!=t&&(a=a.catch(function(){return querySelector(FragmentAnchor,e,t,n).then(u)})),null!=i&&(a=a.catch(function(){return querySelector(RangeAnchor,e,i,n).then(u)})),null!=l&&(a=a.catch(function(){return querySelector(TextPositionAnchor,e,l,n).then(u)})),null!=h&&(a=a.catch(function(){return querySelector(TextQuoteAnchor,e,h,n)})),a},exports.describe=function(e,r,n){var t,o,c,u;return null==n&&(n={}),u=[FragmentAnchor,RangeAnchor,TextPositionAnchor,TextQuoteAnchor],function(){var l,a,h;for(h=[],l=0,a=u.length;l<a;l++){c=u[l];try{t=c.fromRange(e,r,n),h.push(o=t.toSelector(n))}catch(e){continue}}return h}()};

},{"./types":62}],60:[function(require,module,exports){
var RenderingStates,TextPositionAnchor,TextQuoteAnchor,anchorByPosition,findInPages,findPage,getNodeTextLayer,getPage,getPageOffset,getPageTextContent,getSiblingIndex,html,pageTextCache,prioritizePages,quotePositionCache,ref,seek,xpathRange,slice=[].slice;seek=require("dom-seek"),xpathRange=require("./range"),html=require("./html"),RenderingStates=require("../pdfjs-rendering-states"),ref=require("./types"),TextPositionAnchor=ref.TextPositionAnchor,TextQuoteAnchor=ref.TextQuoteAnchor,pageTextCache={},quotePositionCache={},getSiblingIndex=function(e){var t;return t=Array.prototype.slice.call(e.parentNode.childNodes),t.indexOf(e)},getNodeTextLayer=function(e){for(var t;!(null!=(t=e.classList)?t.contains("page"):void 0);)e=e.parentNode;return e.getElementsByClassName("textLayer")[0]},getPage=function(e){return PDFViewerApplication.pdfViewer.getPageView(e)},getPageTextContent=function(e){var t;return null!=pageTextCache[e]?pageTextCache[e]:(t=function(e){var t,n,r;return n=e.items,r=function(){var e,r,o;for(o=[],e=0,r=n.length;e<r;e++)t=n[e],/\S/.test(t.str)&&o.push(t.str);return o}(),r.join("")},pageTextCache[e]=PDFViewerApplication.pdfViewer.getPageTextContent(e).then(t),pageTextCache[e])},getPageOffset=function(e){var t,n;return t=-1,(n=function(r){return++t===e?Promise.resolve(r):getPageTextContent(t).then(function(e){return n(r+e.length)})})(0)},findPage=function(e){var t,n,r;return n=0,r=0,t=function(o){var a;return a=PDFViewerApplication.pdfViewer.pagesCount-1,r+o.length>e||n===a?(e=r,Promise.resolve({index:n,offset:e,textContent:o})):(n++,r+=o.length,getPageTextContent(n).then(t))},getPageTextContent(0).then(t)},anchorByPosition=function(e,t,n){var r,o,a,i,s,c,u,l,g;return u=e.renderingState,c=null!=(i=e.textLayer)?i.renderingDone:void 0,u===RenderingStates.FINISHED&&c?(l=e.textLayer.textLayerDiv,g=t.toSelector(n),html.anchor(l,[g])):(r=null!=(s=e.div)?s:e.el,o=r.getElementsByClassName("annotator-placeholder")[0],null==o&&(o=document.createElement("span"),o.classList.add("annotator-placeholder"),o.textContent="Loading annotations…",r.appendChild(o)),a=document.createRange(),a.setStartBefore(o),a.setEndAfter(o),a)},findInPages=function(e,t,n){var r,o,a,i,s,c,u,l;return u=e[0],l=2<=e.length?slice.call(e,1):[],null==u?Promise.reject(new Error("Quote not found")):(r=function(e){var r,o,a,i,s;return e[0],o=e[1],i=e[2],s={textContent:o},r=new TextQuoteAnchor.fromSelector(s,t),null!=n?(a=n.start-i,a=Math.max(0,a),a=Math.min(a,o.length),r.toPositionAnchor({hint:a})):r.toPositionAnchor()},i=function(){return findInPages(l,t,n)},o=function(e){var r;return n&&(null==quotePositionCache[r=t.exact]&&(quotePositionCache[r]={}),quotePositionCache[t.exact][n.start]={page:c,anchor:e}),anchorByPosition(c,e)},c=getPage(u),a=getPageTextContent(u),s=getPageOffset(u),Promise.all([c,a,s]).then(r).then(o).catch(i))},prioritizePages=function(e){var t,n,r,o;return n=PDFViewerApplication.pdfViewer.pagesCount,t=function(){r=[];for(var e=0;0<=n?e<n:e>n;0<=n?e++:e--)r.push(e);return r}.apply(this),o=function(e){var n,r,o;for(n=t.slice(0,e),o=t.slice(e),r=[];n.length||o.length;)o.length&&r.push(o.shift()),n.length&&r.push(n.pop());return r},null!=e?findPage(e.start).then(function(e){var t;return t=e.index,o(t)}):Promise.resolve(t)},exports.anchor=function(e,t,n){var r,o,a,i,s,c,u,l;for(null==n&&(n={}),i=null,c=null,u=null!=t?t:[],o=0,a=u.length;o<a;o++)switch(l=u[o],l.type){case"TextPositionSelector":i=l;break;case"TextQuoteSelector":c=l}return s=Promise.reject("unable to anchor"),r=function(e){if(null!=(null!=c?c.exact:void 0)&&e.toString()!==c.exact)throw new Error("quote mismatch");return e},null!=i&&(s=s.catch(function(){return findPage(i.start).then(function(t){var o,a,s,c,u,l,g,h;return s=t.index,u=t.offset,h=t.textContent,l=getPage(s),g=i.start-u,a=i.end-u,c=a-g,r(h.substr(g,c)),o=new TextPositionAnchor(e,g,a),anchorByPosition(l,o,n)})})),null!=c&&(s=s.catch(function(){var e,t,r,o;return null!=i&&null!=(null!=(r=quotePositionCache[c.exact])?r[i.start]:void 0)?(o=quotePositionCache[c.exact][i.start],t=o.page,e=o.anchor,anchorByPosition(t,e,n)):prioritizePages(i).then(function(e){return findInPages(e,c,i)})})),s},exports.describe=function(e,t,n){var r,o,a,i,s,c,u,l;if(null==n&&(n={}),t=new xpathRange.BrowserRange(t).normalize(),l=getNodeTextLayer(t.start),a=getNodeTextLayer(t.end),l!==a)throw new Error("selecting across page breaks is not supported");return u=t.limit(l),o=t.limit(a),c=getSiblingIndex(l.parentNode),getSiblingIndex(a.parentNode),i=document.createNodeIterator(l,NodeFilter.SHOW_TEXT),s=seek(i,t.start),r=seek(i,t.end)+s+t.end.textContent.length,getPageOffset(c).then(function(t){var a,i,c;return s+=t,r+=t,a=new TextPositionAnchor(e,s,r).toSelector(n),c=document.createRange(),c.setStartBefore(u.start),c.setEndAfter(o.end),i=TextQuoteAnchor.fromRange(e,c,n).toSelector(n),Promise.all([a,i])})},exports.purgeCache=function(){return pageTextCache={},quotePositionCache={}};

},{"../pdfjs-rendering-states":81,"./html":59,"./range":61,"./types":62,"dom-seek":25}],61:[function(require,module,exports){
var $,Range,Util,extend=function(t,e){function n(){this.constructor=t}for(var r in e)hasProp.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;$=require("jquery"),Util=require("./util"),Range={},Range.sniff=function(t){return null!=t.commonAncestorContainer?new Range.BrowserRange(t):"string"==typeof t.start?new Range.SerializedRange(t):t.start&&"object"==typeof t.start?new Range.NormalizedRange(t):(console.error("Could not sniff range type"),!1)},Range.nodeFromXPath=function(t,e){var n,r,o,s,i;return null==e&&(e=document),r=function(t,n){null==n&&(n=null);try{return document.evaluate("."+t,e,n,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(n){return n,console.log("XPath evaluation failed."),console.log("Trying fallback..."),Util.nodeFromXPath(t,e)}},$.isXMLDoc(document.documentElement)?(n=document.createNSResolver(null===document.ownerDocument?document.documentElement:document.ownerDocument.documentElement),s=r(t,n),s||(t=function(){var e,n,r,o;for(r=t.split("/"),o=[],e=0,n=r.length;e<n;e++)i=r[e],i&&-1===i.indexOf(":")?o.push(i.replace(/^([a-z]+)/,"xhtml:$1")):o.push(i);return o}().join("/"),o=document.lookupNamespaceURI(null),n=function(t){return"xhtml"===t?o:document.documentElement.getAttribute("xmlns:"+t)},s=r(t,n)),s):r(t)},Range.RangeError=function(t){function e(t,n,r){this.type=t,this.message=n,this.parent=null!=r?r:null,e.__super__.constructor.call(this,this.message)}return extend(e,t),e}(Error),Range.BrowserRange=function(){function t(t){this.commonAncestorContainer=t.commonAncestorContainer,this.startContainer=t.startContainer,this.startOffset=t.startOffset,this.endContainer=t.endContainer,this.endOffset=t.endOffset}return t.prototype.normalize=function(t){var e,n,r,o;if(this.tainted)return console.error("You may only call normalize() once on a BrowserRange!"),!1;if(this.tainted=!0,o={},this.startContainer.nodeType===Node.ELEMENT_NODE?(this.startOffset<this.startContainer.childNodes.length?o.start=Util.getFirstTextNodeNotBefore(this.startContainer.childNodes[this.startOffset]):o.start=Util.getFirstTextNodeNotBefore(this.startContainer),o.startOffset=0):(o.start=this.startContainer,o.startOffset=this.startOffset),this.endContainer.nodeType===Node.ELEMENT_NODE){if(null!=(n=this.endContainer.childNodes[this.endOffset])){for(e=n;null!=e&&e.nodeType!==Node.TEXT_NODE;)e=e.firstChild;null!=e&&(o.end=e,o.endOffset=0)}null==o.end&&(n=this.endOffset?this.endContainer.childNodes[this.endOffset-1]:this.endContainer.previousSibling,o.end=Util.getLastTextNodeUpTo(n),o.endOffset=o.end.nodeValue.length)}else o.end=this.endContainer,o.endOffset=this.endOffset;for(r={},o.startOffset>0?!o.start.nextSibling||o.start.nodeValue.length>o.startOffset?r.start=o.start.splitText(o.startOffset):r.start=o.start.nextSibling:r.start=o.start,o.start===o.end?(r.start.nodeValue.length>o.endOffset-o.startOffset&&r.start.splitText(o.endOffset-o.startOffset),r.end=r.start):(o.end.nodeValue.length>o.endOffset&&o.end.splitText(o.endOffset),r.end=o.end),r.commonAncestor=this.commonAncestorContainer;r.commonAncestor.nodeType!==Node.ELEMENT_NODE;)r.commonAncestor=r.commonAncestor.parentNode;return new Range.NormalizedRange(r)},t.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},t}(),Range.NormalizedRange=function(){function t(t){this.commonAncestor=t.commonAncestor,this.start=t.start,this.end=t.end}return t.prototype.normalize=function(t){return this},t.prototype.limit=function(t){var e,n,r,o,s,i;if(r=$.grep(this.textNodes(),function(e){return e.parentNode===t||$.contains(t,e.parentNode)}),!r.length)return null;for(this.start=r[0],this.end=r[r.length-1],i=$(this.start).parents(),s=$(this.end).parents(),e=0,n=s.length;e<n;e++)if(o=s[e],-1!==i.index(o)){this.commonAncestor=o;break}return this},t.prototype.serialize=function(t,e){var n,r,o;return r=function(n,r){var o,s,i,a,f,l,d,u;for(l=e?$(n).parents(":not("+e+")").eq(0):$(n).parent(),u=Util.xpathFromNode(l,t)[0],d=Util.getTextNodes(l),a=d.slice(0,d.index(n)),f=0,o=0,s=a.length;o<s;o++)i=a[o],f+=i.nodeValue.length;return r?[u,f+n.nodeValue.length]:[u,f]},o=r(this.start),n=r(this.end,!0),new Range.SerializedRange({start:o[0],end:n[0],startOffset:o[1],endOffset:n[1]})},t.prototype.text=function(){var t;return function(){var e,n,r,o;for(r=this.textNodes(),o=[],e=0,n=r.length;e<n;e++)t=r[e],o.push(t.nodeValue);return o}.call(this).join("")},t.prototype.textNodes=function(){var t,e,n,r;return r=Util.getTextNodes($(this.commonAncestor)),e=[r.index(this.start),r.index(this.end)],n=e[0],t=e[1],$.makeArray(r.slice(n,+t+1||9e9))},t.prototype.toRange=function(){var t;return t=document.createRange(),t.setStartBefore(this.start),t.setEndAfter(this.end),t},t}(),Range.SerializedRange=function(){function t(t){this.start=t.start,this.startOffset=t.startOffset,this.end=t.end,this.endOffset=t.endOffset}return t.prototype.normalize=function(t){var e,n,r,o,s,i,a,f,l,d,u,c,h,m;for(d={},u=["start","end"],r=0,s=u.length;r<s;r++){l=u[r];try{f=Range.nodeFromXPath(this[l],t)}catch(t){throw n=t,new Range.RangeError(l,"Error while finding "+l+" node: "+this[l]+": "+n,n)}if(!f)throw new Range.RangeError(l,"Couldn't find "+l+" node: "+this[l]);for(a=0,h=this[l+"Offset"],"end"===l&&h--,c=Util.getTextNodes($(f)),o=0,i=c.length;o<i;o++){if(m=c[o],a+m.nodeValue.length>h){d[l+"Container"]=m,d[l+"Offset"]=this[l+"Offset"]-a;break}a+=m.nodeValue.length}if(null==d[l+"Offset"])throw new Range.RangeError(l+"offset","Couldn't find offset "+this[l+"Offset"]+" in element "+this[l])}return e=null==document.compareDocumentPosition?function(t,e){return t.contains(e)}:function(t,e){return 16&t.compareDocumentPosition(e)},$(d.startContainer).parents().each(function(){if(e(this,d.endContainer))return d.commonAncestorContainer=this,!1}),new Range.BrowserRange(d).normalize(t)},t.prototype.serialize=function(t,e){return this.normalize(t).serialize(t,e)},t.prototype.toObject=function(){return{start:this.start,startOffset:this.startOffset,end:this.end,endOffset:this.endOffset}},t}(),module.exports=Range;

},{"./util":63,"jquery":"jquery"}],62:[function(require,module,exports){
var RangeAnchor,TextPositionAnchor,TextQuoteAnchor,domAnchorTextPosition,domAnchorTextQuote,missingParameter,xpathRange;domAnchorTextPosition=require("dom-anchor-text-position"),domAnchorTextQuote=require("dom-anchor-text-quote"),xpathRange=require("./range"),missingParameter=function(t){throw new Error('missing required parameter "'+t+'"')},RangeAnchor=function(){function t(t,e){null==t&&missingParameter("root"),null==e&&missingParameter("range"),this.root=t,this.range=xpathRange.sniff(e).normalize(this.root)}return t.fromRange=function(e,o){return new t(e,o)},t.fromSelector=function(e,o){var n,r;return n={start:o.startContainer,startOffset:o.startOffset,end:o.endContainer,endOffset:o.endOffset},r=new xpathRange.SerializedRange(n),new t(e,r)},t.prototype.toRange=function(){return this.range.toRange()},t.prototype.toSelector=function(t){var e;return null==t&&(t={}),e=this.range.serialize(this.root,t.ignoreSelector),{type:"RangeSelector",startContainer:e.start,startOffset:e.startOffset,endContainer:e.end,endOffset:e.endOffset}},t}(),TextPositionAnchor=function(){function t(t,e,o){this.root=t,this.start=e,this.end=o}return t.fromRange=function(e,o){var n;return n=domAnchorTextPosition.fromRange(e,o),t.fromSelector(e,n)},t.fromSelector=function(e,o){return new t(e,o.start,o.end)},t.prototype.toSelector=function(){return{type:"TextPositionSelector",start:this.start,end:this.end}},t.prototype.toRange=function(){return domAnchorTextPosition.toRange(this.root,{start:this.start,end:this.end})},t}(),TextQuoteAnchor=function(){function t(t,e,o){null==o&&(o={}),this.root=t,this.exact=e,this.context=o}return t.fromRange=function(e,o,n){var r;return r=domAnchorTextQuote.fromRange(e,o,n),t.fromSelector(e,r)},t.fromSelector=function(e,o){var n,r;return n=o.prefix,r=o.suffix,new t(e,o.exact,{prefix:n,suffix:r})},t.prototype.toSelector=function(){return{type:"TextQuoteSelector",exact:this.exact,prefix:this.context.prefix,suffix:this.context.suffix}},t.prototype.toRange=function(t){var e;if(null==t&&(t={}),null===(e=domAnchorTextQuote.toRange(this.root,this.toSelector(),t)))throw new Error("Quote not found");return e},t.prototype.toPositionAnchor=function(t){var e;if(null==t&&(t={}),null===(e=domAnchorTextQuote.toTextPosition(this.root,this.toSelector(),t)))throw new Error("Quote not found");return new TextPositionAnchor(this.root,e.start,e.end)},t}(),exports.RangeAnchor=RangeAnchor,exports.FragmentAnchor=require("dom-anchor-fragment"),exports.TextPositionAnchor=TextPositionAnchor,exports.TextQuoteAnchor=TextQuoteAnchor;

},{"./range":61,"dom-anchor-fragment":9,"dom-anchor-text-position":10,"dom-anchor-text-quote":13}],63:[function(require,module,exports){
var $,Util,ref,simpleXPathJQuery,simpleXPathPure;$=require("jquery"),ref=require("./xpath"),simpleXPathJQuery=ref.simpleXPathJQuery,simpleXPathPure=ref.simpleXPathPure,Util={},Util.flatten=function(e){var t;return(t=function(e){var r,l,o,i;for(l=[],o=0,i=e.length;o<i;o++)r=e[o],l=l.concat(r&&$.isArray(r)?t(r):r);return l})(e)},Util.getTextNodes=function(e){var t;return t=function(e){var r;if(e&&e.nodeType!==Node.TEXT_NODE){if(r=[],e.nodeType!==Node.COMMENT_NODE)for(e=e.lastChild;e;)r.push(t(e)),e=e.previousSibling;return r.reverse()}return e},e.map(function(){return Util.flatten(t(this))})},Util.getLastTextNodeUpTo=function(e){var t;switch(e.nodeType){case Node.TEXT_NODE:return e;case Node.ELEMENT_NODE:if(null!=e.lastChild&&null!=(t=Util.getLastTextNodeUpTo(e.lastChild)))return t}return e=e.previousSibling,null!=e?Util.getLastTextNodeUpTo(e):null},Util.getFirstTextNodeNotBefore=function(e){var t;switch(e.nodeType){case Node.TEXT_NODE:return e;case Node.ELEMENT_NODE:if(null!=e.firstChild&&null!=(t=Util.getFirstTextNodeNotBefore(e.firstChild)))return t}return e=e.nextSibling,null!=e?Util.getFirstTextNodeNotBefore(e):null},Util.xpathFromNode=function(e,t){var r;try{r=simpleXPathJQuery.call(e,t)}catch(l){l,console.log("jQuery-based XPath construction failed! Falling back to manual."),r=simpleXPathPure.call(e,t)}return r},Util.nodeFromXPath=function(e,t){var r,l,o,i,n,a,u,s;for(s=e.substring(1).split("/"),n=t,r=0,o=s.length;r<o;r++)u=s[r],a=u.split("["),i=a[0],l=a[1],l=null!=l?parseInt((null!=l?l.split("]"):void 0)[0]):1,n=findChild(n,i.toLowerCase(),l);return n},module.exports={nodeFromXPath:Util.nodeFromXPath,xpathFromNode:Util.xpathFromNode,getTextNodes:Util.getTextNodes,getFirstTextNodeNotBefore:Util.getFirstTextNodeNotBefore,getLastTextNodeUpTo:Util.getLastTextNodeUpTo};

},{"./xpath":64,"jquery":"jquery"}],64:[function(require,module,exports){
var $,findChild,getNodeName,getNodePosition,simpleXPathJQuery,simpleXPathPure;$=require("jquery"),simpleXPathJQuery=function(e){var r;return r=this.map(function(){var r,t,o,n;for(o="",r=this;(null!=r?r.nodeType:void 0)===Node.ELEMENT_NODE&&r!==e;)n=r.tagName.replace(":","\\:"),t=$(r.parentNode).children(n).index(r)+1,t="["+t+"]",o="/"+r.tagName.toLowerCase()+t+o,r=r.parentNode;return o}),r.get()},simpleXPathPure=function(e){var r,t,o,n;return r=function(e){var r,t;return r=getNodeName(e),t=getNodePosition(e),r+"["+t+"]"},n=e,t=function(e){var t;for(t="";e!==n;){if(null==e)throw new Error("Called getPathTo on a node which was not a descendant of @rootNode. "+n);t=r(e)+"/"+t,e=e.parentNode}return t="/"+t,t=t.replace(/\/$/,"")},o=this.map(function(){return t(this)}),o.get()},findChild=function(e,r,t){var o,n,a,i,d;if(!e.hasChildNodes())throw new Error("XPath error: node has no children!");for(n=e.childNodes,a=0,i=0,d=n.length;i<d;i++)if(o=n[i],getNodeName(o)===r&&(a+=1)===t)return o;throw new Error("XPath error: wanted child not found.")},getNodeName=function(e){var r;switch(r=e.nodeName.toLowerCase()){case"#text":return"text()";case"#comment":return"comment()";case"#cdata-section":return"cdata-section()";default:return r}},getNodePosition=function(e){var r,t;for(r=0,t=e;t;)t.nodeName===e.nodeName&&r++,t=t.previousSibling;return r},module.exports={simpleXPathJQuery:simpleXPathJQuery,simpleXPathPure:simpleXPathPure};

},{"jquery":"jquery"}],65:[function(require,module,exports){
"use strict";function annotationCounts(t,n){function o(n){var o=t.querySelectorAll("["+ANNOTATION_COUNT_ATTR+"]");Array.from(o).forEach(function(t){t.textContent=n})}n.on(events.PUBLIC_ANNOTATION_COUNT_CHANGED,o)}var events=require("../shared/bridge-events"),ANNOTATION_COUNT_ATTR="data-hypothesis-annotation-count";module.exports=annotationCounts;

},{"../shared/bridge-events":96}],66:[function(require,module,exports){
"use strict";function AnnotationSync(t,n){var o=this;if(this.bridge=t,!n.on)throw new Error("options.on unspecified for AnnotationSync.");if(!n.emit)throw new Error("options.emit unspecified for AnnotationSync.");this.cache={},this._on=n.on,this._emit=n.emit,Object.keys(this._eventListeners).forEach(function(t){var n=o._eventListeners[t];o._on(t,function(t){n.apply(o,[t])})}),Object.keys(this._channelListeners).forEach(function(t){o.bridge.on(t,function(n,e){o._channelListeners[t].apply(o,[n,e])})})}AnnotationSync.prototype.cache=null,AnnotationSync.prototype.sync=function(t){return t=function(){var n,o=[];for(n=0;n<t.length;n++)o.push(this._format(t[n]));return o}.call(this),this.bridge.call("sync",t,function(t){return function(n,o){var e,i=[];for(o=o||[],e=0;e<o.length;e++)i.push(t._parse(o[e]));return i}}(this)),this},AnnotationSync.prototype._channelListeners={deleteAnnotation:function(t,n){var o=this._parse(t);delete this.cache[o.$tag],this._emit("annotationDeleted",o),n(null,this._format(o))},loadAnnotations:function(t,n){var o=function(){var n,o=[];for(n=0;n<t.length;n++)o.push(this._parse(t[n]));return o}.call(this);return this._emit("annotationsLoaded",o),n(null,o)}},AnnotationSync.prototype._eventListeners={beforeAnnotationCreated:function(t){if(!t.$tag)return this._mkCallRemotelyAndParseResults("beforeCreateAnnotation")(t)}},AnnotationSync.prototype._mkCallRemotelyAndParseResults=function(t,n){return function(o){return function(e){var i=function(t,e){null===t&&o._parseResults(e),"function"==typeof n&&n(t,e)};o.bridge.call(t,o._format(e),i)}}(this)},AnnotationSync.prototype._parseResults=function(t){var n,o,e,i;for(e=0;e<t.length;e++)for(n=t[e],n=[].concat(n),i=0;i<n.length;i++)null!==(o=n[i])&&this._parse(o)},AnnotationSync.prototype._tag=function(t,n){return t.$tag?t:(n=n||window.btoa(Math.random()),Object.defineProperty(t,"$tag",{value:n}),this.cache[n]=t,t)},AnnotationSync.prototype._parse=function(t){var n=Object.assign(this.cache[t.tag]||{},t.msg);return this._tag(n,t.tag)},AnnotationSync.prototype._format=function(t){return this._tag(t),{tag:t.$tag,msg:t}},module.exports=AnnotationSync;

},{}],67:[function(require,module,exports){
"use strict";function configFuncSettingsFrom(o){if(!o.hasOwnProperty("hypothesisConfig"))return{};if("function"!=typeof o.hypothesisConfig){return console.warn("hypothesisConfig must be a function, see: https://h.readthedocs.io/projects/client/en/latest/publishers/config/#window.hypothesisConfig"),{}}return o.hypothesisConfig()}module.exports=configFuncSettingsFrom;

},{}],68:[function(require,module,exports){
"use strict";function configFrom(e){var t=settingsFrom(e);return{annotations:t.annotations,assetRoot:t.hostPageSetting("assetRoot",{allowInBrowserExt:!0}),branding:t.hostPageSetting("branding"),clientUrl:t.clientUrl,enableExperimentalNewNoteButton:t.hostPageSetting("enableExperimentalNewNoteButton"),theme:t.hostPageSetting("theme"),usernameUrl:t.hostPageSetting("usernameUrl"),onLayoutChange:t.hostPageSetting("onLayoutChange"),openSidebar:t.hostPageSetting("openSidebar",{allowInBrowserExt:!0}),query:t.query,services:t.hostPageSetting("services"),showHighlights:t.showHighlights,sidebarAppUrl:t.sidebarAppUrl,subFrameIdentifier:t.hostPageSetting("subFrameIdentifier",{allowInBrowserExt:!0}),onElementClick:t.hostPageSetting("onElementClick",{allowInBrowserExt:!0}),isHighlightBtnVisible:t.hostPageSetting("isHighlightBtnVisible",{allowInBrowserExt:!0}),locale:t.hostPageSetting("locale",{allowInBrowserExt:!0})}}var settingsFrom=require("./settings");module.exports=configFrom;

},{"./settings":70}],69:[function(require,module,exports){
"use strict";function isBrowserExtension(t){return!(t.startsWith("http://")||t.startsWith("https://"))}module.exports=isBrowserExtension;

},{}],70:[function(require,module,exports){
"use strict";function settingsFrom(t){function n(){var n=t.document.querySelector('link[type="application/annotator+html"][rel="sidebar"]');if(!n)throw new Error('No application/annotator+html (rel="sidebar") link in the document');if(!n.href)throw new Error('application/annotator+html (rel="sidebar") link has no href');return n.href}function e(){var n=t.document.querySelector('link[type="application/annotator+javascript"][rel="hypothesis-client"]');if(!n)throw new Error('No application/annotator+javascript (rel="hypothesis-client") link in the document');if(!n.href)throw new Error('application/annotator+javascript (rel="hypothesis-client") link has no href');return n.href}function r(){return c.annotations||function(){var n=t.location.href.match(/#annotations:([A-Za-z0-9_-]+)$/);return n?n[1]:null}()}function o(){var t=a("showHighlights");return null===t&&(t="always"),"boolean"==typeof t?t?"always":"never":t}function i(){return c.query||function(){var n=t.location.href.match(/#annotations:(query|q):(.+)$/i);if(n)try{return decodeURIComponent(n[2])}catch(t){}return null}()}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.allowInBrowserExt||!1,o=void 0!==e.defaultValue;return!r&&isBrowserExtension(n())?o?e.defaultValue:null:u.hasOwnProperty(t)?u[t]:c.hasOwnProperty(t)?c[t]:o?e.defaultValue:null}var c=sharedSettings.jsonConfigsFrom(t.document),u=configFuncSettingsFrom(t);return{get annotations(){return r()},get clientUrl(){return e()},get showHighlights(){return o()},get sidebarAppUrl(){return n()},get query(){return i()},hostPageSetting:a}}var configFuncSettingsFrom=require("./config-func-settings-from"),isBrowserExtension=require("./is-browser-extension"),sharedSettings=require("../../shared/settings");module.exports=settingsFrom;

},{"../../shared/settings":101,"./config-func-settings-from":67,"./is-browser-extension":69}],71:[function(require,module,exports){
var $,Delegator,slice=[].slice,hasProp={}.hasOwnProperty;$=require("jquery"),module.exports=Delegator=function(){function e(e,t){this.options=$.extend(!0,{},this.options,t),this.element=$(e),this._closures={},this.on=this.subscribe,this.addEvents()}return e.prototype.events={},e.prototype.options={},e.prototype.element=null,e.prototype.destroy=function(){return this.removeEvents()},e.prototype.addEvents=function(){var t,n,s,r,o;for(r=e._parseEvents(this.events),o=[],n=0,s=r.length;n<s;n++)t=r[n],o.push(this._addEvent(t.selector,t.event,t.functionName));return o},e.prototype.removeEvents=function(){var t,n,s,r,o;for(r=e._parseEvents(this.events),o=[],n=0,s=r.length;n<s;n++)t=r[n],o.push(this._removeEvent(t.selector,t.event,t.functionName));return o},e.prototype._addEvent=function(t,n,s){var r;return r=function(e){return function(){return e[s].apply(e,arguments)}}(this),""===t&&e._isCustomEvent(n)?this.subscribe(n,r):this.element.delegate(t,n,r),this._closures[t+"/"+n+"/"+s]=r,this},e.prototype._removeEvent=function(t,n,s){var r;return r=this._closures[t+"/"+n+"/"+s],""===t&&e._isCustomEvent(n)?this.unsubscribe(n,r):this.element.undelegate(t,n,r),delete this._closures[t+"/"+n+"/"+s],this},e.prototype.publish=function(){return this.element.triggerHandler.apply(this.element,arguments),this},e.prototype.subscribe=function(e,t){var n;return n=function(){return t.apply(this,[].slice.call(arguments,1))},n.guid=t.guid=$.guid+=1,this.element.bind(e,n),this},e.prototype.unsubscribe=function(){return this.element.unbind.apply(this.element,arguments),this},e}(),Delegator._parseEvents=function(e){var t,n,s,r,o,i,u;n=[];for(i in e)s=e[i],o=i.split(" "),u=2<=o.length?slice.call(o,0,r=o.length-1):(r=0,[]),t=o[r++],n.push({selector:u.join(" "),event:t,functionName:s});return n},Delegator.natives=function(){var e,t,n;return t=function(){var t,s;t=$.event.special,s=[];for(e in t)hasProp.call(t,e)&&(n=t[e],s.push(e));return s}(),"blur focus focusin focusout load resize scroll unload click dblclick\nmousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\nchange select submit keydown keypress keyup error".split(/[^a-z]+/).concat(t)}(),Delegator._isCustomEvent=function(e){return e=e.split(".")[0],-1===$.inArray(e,Delegator.natives)};

},{"jquery":"jquery"}],72:[function(require,module,exports){
"use strict";var events=require("../shared/bridge-events"),_features={},_set=function(e){_features=e||{}};module.exports={init:function(e){e.on(events.FEATURE_FLAGS_UPDATED,_set)},reset:function(){_set({})},flagEnabled:function(e){return e in _features?_features[e]:(console.warn("looked up unknown feature",e),!1)}};

},{"../shared/bridge-events":96}],73:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),FrameUtil=require("./util/frame-util"),debounce=require("lodash.debounce"),difference=function(e,r){return e.filter(function(e){return!r.includes(e)})},DEBOUNCE_WAIT=40,FrameObserver=function(){function e(r){var t=this;_classCallCheck(this,e),this._target=r,this._handledFrames=[],this._mutationObserver=new MutationObserver(debounce(function(){t._discoverFrames()},DEBOUNCE_WAIT))}return _createClass(e,[{key:"observe",value:function(e,r){this._onFrameAdded=e,this._onFrameRemoved=r,this._discoverFrames(),this._mutationObserver.observe(this._target,{childList:!0,subtree:!0})}},{key:"disconnect",value:function(){this._mutationObserver.disconnect()}},{key:"_addFrame",value:function(e){var r=this;FrameUtil.isAccessible(e)&&FrameUtil.isDocumentReady(e,function(){e.contentWindow.addEventListener("unload",function(){r._removeFrame(e)}),r._handledFrames.push(e),r._onFrameAdded(e)})}},{key:"_removeFrame",value:function(e){this._onFrameRemoved(e),this._handledFrames=this._handledFrames.filter(function(r){return r!==e})}},{key:"_discoverFrames",value:function(){var e=FrameUtil.findFrames(this._target),r=!0,t=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value;this._handledFrames.includes(s)||this._addFrame(s)}}catch(e){t=!0,n=e}finally{try{!r&&i.return&&i.return()}finally{if(t)throw n}}var o=!0,u=!1,l=void 0;try{for(var c,d=difference(this._handledFrames,e)[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var m=c.value;this._removeFrame(m)}}catch(e){u=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(u)throw l}}}}]),e}();FrameObserver.DEBOUNCE_WAIT=DEBOUNCE_WAIT,module.exports=FrameObserver;

},{"./util/frame-util":93,"lodash.debounce":44}],74:[function(require,module,exports){
var $,CustomEvent,Delegator,Guest,adder,animationPromise,baseURI,extend,highlighter,normalizeURI,polyglot,raf,rangeUtil,scrollIntoView,selections,xpathRange,extend1=function(t,n){function e(){this.constructor=t}for(var o in n)hasProp.call(n,o)&&(t[o]=n[o]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},hasProp={}.hasOwnProperty,slice=[].slice,indexOf=[].indexOf||function(t){for(var n=0,e=this.length;n<e;n++)if(n in this&&this[n]===t)return n;return-1};baseURI=require("document-base-uri"),extend=require("extend"),raf=require("raf"),scrollIntoView=require("scroll-into-view"),CustomEvent=require("custom-event"),Delegator=require("./delegator"),$=require("jquery"),adder=require("./adder"),highlighter=require("./highlighter"),rangeUtil=require("./range-util"),selections=require("./selections"),xpathRange=require("./anchoring/range"),polyglot=require("../shared/polyglot"),animationPromise=function(t){return new Promise(function(n,e){return raf(function(){var o;try{return n(t())}catch(t){return o=t,e(o)}})})},normalizeURI=function(t,n){var e;return e=new URL(t,n),e.toString().replace(/#.*/,"")},module.exports=Guest=function(t){function n(t,e){var o,i,r,s,a;n.__super__.constructor.apply(this,arguments),this.adder=$(this.html.adder).appendTo(this.element).hide(),a=this,this.adderCtrl=new adder.Adder(this.adder[0],{onAnnotate:function(){return a.createAnnotation(),document.getSelection().removeAllRanges()},onHighlight:function(){return a.setVisibleHighlights(!0),a.createHighlight(),document.getSelection().removeAllRanges()},isHighlightBtnVisible:function(){return e.isHighlightBtnVisible},traslatedBtnStrings:function(){return{AnnotateBtn:polyglot().t("Feedback"),HighlightBtn:polyglot().t("Highlight")}}}),this.selections=selections(document).subscribe({next:function(t){return t?a._onSelection(t):a._onClearSelection()}}),this.plugins={},this.anchors=[],this.frameIdentifier=e.subFrameIdentifier||null,this.enableClick=e.onElementClick||!1,o={config:e,on:function(t){return function(n,e){return t.subscribe(n,e)}}(this),emit:function(t){return function(){var n,e;return e=arguments[0],n=2<=arguments.length?slice.call(arguments,1):[],t.publish(e,n)}}(this)},this.addPlugin("CrossFrame",o),this.crossframe=this.plugins.CrossFrame,this.crossframe.onConnect(function(t){return function(){return t._setupInitialState(e)}}(this)),this._connectAnnotationSync(this.crossframe),this._connectAnnotationUISync(this.crossframe,e),s=this.options;for(i in s)hasProp.call(s,i)&&(r=s[i],!this.plugins[i]&&this.options.pluginClasses[i]&&this.addPlugin(i,r))}var e;return extend1(n,t),e="annotator-highlights-always-on",n.prototype.events={".annotator-hl click":"onHighlightClick",".annotator-hl mouseover":"onHighlightMouseover",".annotator-hl mouseout":"onHighlightMouseout",click:"onElementClick",touchstart:"onElementTouchStart"},n.prototype.options={Document:{},TextSelection:{}},n.prototype.anchoring=require("./anchoring/html"),n.prototype.plugins=null,n.prototype.anchors=null,n.prototype.visibleHighlights=!1,n.prototype.frameIdentifier=null,n.prototype.enableClick=!1,n.prototype.html={adder:"<hypothesis-adder></hypothesis-adder>"},n.prototype.addPlugin=function(t,n){var e,o;return this.plugins[t]?console.error("You cannot have more than one instance of any plugin."):(o=this.options.pluginClasses[t],"function"==typeof o?(this.plugins[t]=new o(this.element[0],n),this.plugins[t].annotator=this,"function"==typeof(e=this.plugins[t]).pluginInit&&e.pluginInit()):console.error("Could not load "+t+" plugin. Have you included the appropriate <script> tag?")),this},n.prototype.getDocumentInfo=function(){var t,n;return null!=this.plugins.PDF?(t=Promise.resolve(this.plugins.PDF.getMetadata()),n=Promise.resolve(this.plugins.PDF.uri())):null!=this.plugins.Document?(n=Promise.resolve(this.plugins.Document.uri()),t=Promise.resolve(this.plugins.Document.metadata)):(n=Promise.reject(),t=Promise.reject()),n=n.catch(function(){return decodeURIComponent(window.location.href)}),t=t.catch(function(){return{title:document.title,link:[{href:decodeURIComponent(window.location.href)}]}}),Promise.all([t,n]).then(function(t){return function(n){var e,o;return o=n[0],e=n[1],{uri:normalizeURI(e,baseURI),metadata:o,frameIdentifier:t.frameIdentifier}}}(this))},n.prototype._setupInitialState=function(t){return this.publish("panelReady"),this.setVisibleHighlights("always"===t.showHighlights)},n.prototype._connectAnnotationSync=function(t){return this.subscribe("annotationDeleted",function(t){return function(n){return t.detach(n)}}(this)),this.subscribe("annotationsLoaded",function(t){return function(n){var e,o,i,r;for(r=[],o=0,i=n.length;o<i;o++)e=n[o],r.push(t.anchor(e));return r}}(this))},n.prototype._connectAnnotationUISync=function(t,n){return t.on("focusAnnotations",function(t){return function(e){var o,i,r,s,a,l,u;if(null==e&&(e=[]),"custom"!==n.theme){for(s=t.anchors,l=[],i=0,r=s.length;i<r;i++)o=s[i],null!=o.highlights&&(a=o.annotation.$tag,u=indexOf.call(e,a)>=0,l.push($(o.highlights).toggleClass("annotator-hl-focused",u)));return l}}}(this)),t.on("scrollToAnnotation",function(t){return function(n){var e,o,i,r,s,a,l,u;for(u=$(".annotator-hl-focused").length,a=t.anchors,l=[],r=0,s=a.length;r<s;r++)e=a[r],null!=e.highlights&&(e.annotation.$tag===n?(1!==u?$(e.highlights).addClass("annotator-hl-focused"):$(e.highlights).toggleClass("annotator-hl-focused"),i=new CustomEvent("scrolltorange",{bubbles:!0,cancelable:!0,detail:e.range}),o=t.element[0].dispatchEvent(i),o?l.push(scrollIntoView(e.highlights[0])):l.push(void 0)):l.push($(e.highlights).removeClass("annotator-hl-focused")));return l}}(this)),t.on("getDocumentInfo",function(t){return function(n){return t.getDocumentInfo().then(function(t){return n(null,t)}).catch(function(t){return n(t)})}}(this)),t.on("setVisibleHighlights",function(t){return function(n){return t.setVisibleHighlights(n)}}(this))},n.prototype.destroy=function(){var t,e;$("#annotator-dynamic-style").remove(),this.selections.unsubscribe(),this.adder.remove(),this.element.find(".annotator-hl").each(function(){return $(this).contents().insertBefore(this),$(this).remove()}),this.element.data("annotator",null),e=this.plugins;for(t in e)e[t],this.plugins[t].destroy();return n.__super__.destroy.apply(this,arguments)},n.prototype.anchor=function(t,n){var e,o,i,r,s,a,l,u,h,c,g,p,f,d,m,v,y;for(m=this,d=this.element[0],i=[],o=[],r=[],null==t.target&&(t.target=[]),c=function(n){var e,o;return(null!=(o=n.selector)?o:[]).some(function(t){return function(t){return"TextQuoteSelector"===t.type}}())?(e={cache:m.anchoringCache,ignoreSelector:'[class^="annotator-"]'},m.anchoring.anchor(d,n.selector,e).then(function(e){return{annotation:t,target:n,range:e}}).catch(function(){return{annotation:t,target:n}})):Promise.resolve({annotation:t,target:n})},s=function(t){return null==t.range?t:animationPromise(function(){var e,o,i;return i=xpathRange.sniff(t.range),o=i.normalize(d),e=highlighter.highlightRange(o,n),$(e).data("annotation",t.annotation),t.highlights=e,t})},v=function(n){var e,o,i,r,s,a,l;for(o=!1,i=!1,r=0,s=n.length;r<s;r++)if(e=n[r],null!=e.target.selector&&(o=!0,null!=e.range)){i=!0;break}return t.$orphan=o&&!i,m.anchors=m.anchors.concat(n),null!=(a=m.plugins.BucketBar)&&a.update(),null!=(l=m.plugins.CrossFrame)&&l.sync([t]),n},g=m.anchors.splice(0,m.anchors.length),a=0,u=g.length;a<u;a++)e=g[a],e.annotation===t?null!=e.range&&(p=e.target,indexOf.call(t.target,p)>=0)?(i.push(e),o.push(e.target)):null!=e.highlights&&(r=r.concat(e.highlights),delete e.highlights,delete e.range):m.anchors.push(e);for(raf(function(){return highlighter.removeHighlights(r)}),f=t.target,l=0,h=f.length;l<h;l++)y=f[l],indexOf.call(o,y)<0&&(e=c(y).then(s),i.push(e));return Promise.all(i).then(v)},n.prototype.detach=function(t){var n,e,o,i,r,s,a,l;for(e=[],[],l=[],r=this.anchors,o=0,i=r.length;o<i;o++)n=r[o],n.annotation===t?l.push(null!=(s=n.highlights)?s:[]):e.push(n);return this.anchors=e,l=(a=Array.prototype).concat.apply(a,l),raf(function(t){return function(){var n;return highlighter.removeHighlights(l),null!=(n=t.plugins.BucketBar)?n.update():void 0}}(this))},n.prototype.createAnnotation=function(t){var n,e,o,i,r,s,a,l,u,h,c,g;return null==t&&(t={}),u=this,a=this.element[0],o=!0,i=null!=(r=this.selectedRanges)?r:[],this.selectedRanges=null,n=function(t){var n;return n={cache:u.anchoringCache,ignoreSelector:'[class^="annotator-"]'},u.anchoring.describe(a,t,n)},h=function(n){return t.document=n.metadata,t.uri=n.uri},c=function(n){var e,o,i,r;return e=n[0],i=n[1],r=e.uri,t.target=function(){var t,n,e;for(e=[],t=0,n=i.length;t<n;t++)o=i[t],e.push({source:r,selector:o});return e}()},e=this.getDocumentInfo(),l=Promise.all(i.map(n)),e.then(h),g=Promise.all([e,l]).then(c),g.then(function(){return u.publish("beforeAnnotationCreated",[t])}),g.then(function(){return u.anchor(t,o)}),t.$highlight||null!=(s=this.crossframe)&&s.call("showSidebar"),t},n.prototype.createHighlight=function(){return this.createAnnotation({$highlight:!0})},n.prototype.createComment=function(){var t,n,e;return t={},e=this,n=function(n){return t.document=n.metadata,t.uri=n.uri,t.target=[{source:n.uri}]},this.getDocumentInfo().then(n).then(function(){return e.publish("beforeAnnotationCreated",[t])}),t},n.prototype.deleteAnnotation=function(t){var n,e,o,i;if(null!=t.highlights)for(i=t.highlights,e=0,o=i.length;e<o;e++)n=i[e],null!=n.parentNode&&$(n).replaceWith(n.childNodes);return this.publish("annotationDeleted",[t]),t},n.prototype.showAnnotations=function(t){var n,e,o,i;return i=function(){var e,o,i;for(i=[],e=0,o=t.length;e<o;e++)n=t[e],i.push(n.$tag);return i}(),null!=(e=this.crossframe)&&e.call("showAnnotations",i),null!=(o=this.crossframe)?o.call("showSidebar"):void 0},n.prototype.toggleAnnotationSelection=function(t){var n,e,o;return o=function(){var e,o,i;for(i=[],e=0,o=t.length;e<o;e++)n=t[e],i.push(n.$tag);return i}(),null!=(e=this.crossframe)?e.call("toggleAnnotationSelection",o):void 0},n.prototype.updateAnnotations=function(t){var n,e,o;return o=function(){var e,o,i;for(i=[],e=0,o=t.length;e<o;e++)n=t[e],i.push(n.$tag);return i}(),null!=(e=this.crossframe)?e.call("updateAnnotations",o):void 0},n.prototype.focusAnnotations=function(t){var n,e,o;return o=function(){var e,o,i;for(i=[],e=0,o=t.length;e<o;e++)n=t[e],i.push(n.$tag);return i}(),null!=(e=this.crossframe)?e.call("focusAnnotations",o):void 0},n.prototype._onSelection=function(t){var n,e,o,i,r,s,a;return s=document.getSelection(),o=rangeUtil.isSelectionBackwards(s),(e=rangeUtil.selectionFocusRect(s))?(this.selectedRanges=[t],$(".annotator-toolbar .h-icon-note").attr("title","New Annotation").removeClass("h-icon-note").addClass("h-icon-annotate"),r=this.adderCtrl.target(e,o),i=r.left,a=r.top,n=r.arrowDirection,this.adderCtrl.showAt(i,a,n)):void this._onClearSelection()},n.prototype._onClearSelection=function(){return this.adderCtrl.hide(),this.selectedRanges=[],$(".annotator-toolbar .h-icon-annotate").attr("title","New Page Note").removeClass("h-icon-annotate").addClass("h-icon-note")},n.prototype.selectAnnotations=function(t,n){return n?this.toggleAnnotationSelection(t):this.showAnnotations(t)},n.prototype.onElementClick=function(t){var n,e;if(this.enableClick&&!(null!=(n=this.selectedTargets)?n.length:void 0))return null!=(e=this.crossframe)?e.call("hideSidebar"):void 0},n.prototype.onElementTouchStart=function(t){var n,e;if(this.enableClick&&!(null!=(n=this.selectedTargets)?n.length:void 0))return null!=(e=this.crossframe)?e.call("hideSidebar"):void 0},n.prototype.onHighlightMouseover=function(t){var n,e;if(this.visibleHighlights)return n=$(t.currentTarget).data("annotation"),e=null!=t.annotations?t.annotations:t.annotations=[],e.push(n),t.target===t.currentTarget?setTimeout(function(t){return function(){return t.focusAnnotations(e)}}(this)):void 0},n.prototype.onHighlightMouseout=function(t){if(this.visibleHighlights)return this.focusAnnotations([])},n.prototype.onHighlightClick=function(t){var n,e,o;if(this.visibleHighlights)return n=$(t.currentTarget).data("annotation"),e=null!=t.annotations?t.annotations:t.annotations=[],e.push(n),t.target===t.currentTarget?(o=t.metaKey||t.ctrlKey,setTimeout(function(t){return function(){return t.selectAnnotations(e,o)}}(this))):void 0},n.prototype.setVisibleHighlights=function(t){return this.toggleHighlightClass(t)},n.prototype.toggleHighlightClass=function(t){return t?this.element.addClass(e):this.element.removeClass(e),this.visibleHighlights=t},n}(Delegator);

},{"../shared/polyglot":100,"./adder":58,"./anchoring/html":59,"./anchoring/range":61,"./delegator":71,"./highlighter":76,"./range-util":89,"./selections":90,"custom-event":3,"document-base-uri":8,"extend":34,"jquery":"jquery","raf":48,"scroll-into-view":49}],75:[function(require,module,exports){
var $;$=require("jquery"),exports.highlightRange=function(t,e,n){var r,o,h;return null==n&&(n="annotator-hl"),h=/^\s*$/,e&&(n="annotator-hl annotator-hl-focused"),r=$("<hypothesis-highlight class='"+n+"'></hypothesis-highlight>"),o=$(t.textNodes()).filter(function(t){return!h.test(this.nodeValue)}),o.wrap(r).parent().toArray()},exports.removeHighlights=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)e=t[n],null!=e.parentNode&&o.push($(e).replaceWith(e.childNodes));return o},exports.getBoundingClientRect=function(t){var e;return e=t.map(function(t){return t.getBoundingClientRect()}),e.reduce(function(t,e){return{top:Math.min(t.top,e.top),left:Math.min(t.left,e.left),bottom:Math.max(t.bottom,e.bottom),right:Math.max(t.right,e.right)}})};

},{"jquery":"jquery"}],76:[function(require,module,exports){
"use strict";var domWrapHighlighter=require("./dom-wrap-highlighter"),overlayHighlighter=require("./overlay-highlighter"),features=require("../features"),highlighterFacade={},overlayFlagEnabled=void 0;Object.keys(domWrapHighlighter).forEach(function(e){highlighterFacade[e]=function(){for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return void 0===overlayFlagEnabled&&(overlayFlagEnabled=features.flagEnabled("overlay_highlighter")),(overlayFlagEnabled?overlayHighlighter[e]:domWrapHighlighter[e]).apply(null,a)}}),module.exports=highlighterFacade;

},{"../features":72,"./dom-wrap-highlighter":75,"./overlay-highlighter":77}],77:[function(require,module,exports){
"use strict";module.exports={highlightRange:function(){console.log("highlightRange not implemented")},removeHighlights:function(){console.log("removeHighlights not implemented")},getBoundingClientRect:function(){console.log("getBoundingClientRect not implemented")}};

},{}],78:[function(require,module,exports){
var $,Guest,Host,extend=function(e,t){function r(){this.constructor=e}for(var o in t)hasProp.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};$=require("jquery"),Guest=require("./guest"),module.exports=Host=function(e){function t(e,r){var o,n,s,i,a;(null!=(s=r.services)?s[0]:void 0)&&(i=r.services[0],i.onLoginRequest&&(i.onLoginRequestProvided=!0),i.onLogoutRequest&&(i.onLogoutRequestProvided=!0),i.onSignupRequest&&(i.onSignupRequestProvided=!0),i.onProfileRequest&&(i.onProfileRequestProvided=!0),i.onHelpRequest&&(i.onHelpRequestProvided=!0)),n="config="+encodeURIComponent(JSON.stringify(Object.assign({},r,{sidebarAppUrl:void 0,pluginClasses:void 0}))),a=r.sidebarAppUrl&&indexOf.call(r.sidebarAppUrl,"?")>=0?r.sidebarAppUrl+"&"+n:r.sidebarAppUrl+"?"+n,o=$("<iframe></iframe>").attr("name","hyp_sidebar_frame").attr("allowfullscreen","").attr("seamless","").attr("src",a).addClass("h-sidebar-iframe"),this.frame=$("<div></div>").css("display","none").addClass("annotator-frame annotator-outer"),"clean"===r.theme&&this.frame.addClass("annotator-frame--drop-shadow-enabled"),this.frame.appendTo(e),t.__super__.constructor.apply(this,arguments),o.appendTo(this.frame),this.on("panelReady",function(e){return function(){return e.frame.css("display","")}}(this)),this.on("beforeAnnotationCreated",function(e){if(!e.$highlight)return o[0].contentWindow.focus()})}return extend(t,e),t.prototype.destroy=function(){return this.frame.remove(),t.__super__.destroy.apply(this,arguments)},t}(Guest);

},{"./guest":74,"jquery":"jquery"}],79:[function(require,module,exports){
"use strict";var configFrom=require("./config/index");require("../shared/polyfills"),window.document.evaluate||require("./vendor/wgxpath.install"),window.wgxpath&&window.wgxpath.install();var $=require("jquery"),Guest=require("./guest"),Sidebar=require("./sidebar"),PdfSidebar=require("./pdf-sidebar"),pluginClasses={BucketBar:require("./plugin/bucket-bar"),Toolbar:require("./plugin/toolbar"),PDF:require("./plugin/pdf"),Document:require("./plugin/document"),CrossFrame:require("./plugin/cross-frame")},appLinkEl=document.querySelector('link[type="application/annotator+html"][rel="sidebar"]'),config=configFrom(window);$.noConflict(!0)(function(){var e=window.PDFViewerApplication?PdfSidebar:Sidebar;config.hasOwnProperty("constructor")&&(e=config.constructor,delete config.constructor),config.subFrameIdentifier&&(e=Guest,window.__hypothesis_frame=!0),"clean"===config.theme&&delete pluginClasses.BucketBar,config.pluginClasses=pluginClasses;var r=new e(document.body,config);appLinkEl.addEventListener("destroy",function(){appLinkEl.parentElement.removeChild(appLinkEl),r.destroy()})});

},{"../shared/polyfills":"/src/shared/polyfills.js","./config/index":68,"./guest":74,"./pdf-sidebar":80,"./plugin/bucket-bar":83,"./plugin/cross-frame":84,"./plugin/document":85,"./plugin/pdf":87,"./plugin/toolbar":88,"./sidebar":92,"./vendor/wgxpath.install":95,"jquery":"jquery"}],80:[function(require,module,exports){
var PdfSidebar,Sidebar,extend=function(r,e){function t(){this.constructor=r}for(var o in e)hasProp.call(e,o)&&(r[o]=e[o]);return t.prototype=e.prototype,r.prototype=new t,r.__super__=e.prototype,r},hasProp={}.hasOwnProperty;Sidebar=require("./sidebar"),module.exports=PdfSidebar=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,r),e.prototype.options={TextSelection:{},PDF:{},BucketBar:{container:".annotator-frame",scrollables:["#viewerContainer"]},Toolbar:{container:".annotator-frame"}},e}(Sidebar);

},{"./sidebar":92}],81:[function(require,module,exports){
"use strict";var RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};module.exports=RenderingStates;

},{}],82:[function(require,module,exports){
var Delegator,Plugin,extend=function(t,o){function r(){this.constructor=t}for(var e in o)hasProp.call(o,e)&&(t[e]=o[e]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t},hasProp={}.hasOwnProperty;Delegator=require("./delegator"),module.exports=Plugin=function(t){function o(t,r){o.__super__.constructor.apply(this,arguments)}return extend(o,t),o.prototype.pluginInit=function(){},o}(Delegator);

},{"./delegator":71}],83:[function(require,module,exports){
var $,BUCKET_NAV_SIZE,BUCKET_SIZE,BUCKET_TOP_THRESHOLD,BucketBar,Plugin,configFrom,highlighter,polyglot,raf,scrollIntoView,scrollToClosest,bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function n(){this.constructor=t}for(var o in e)hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};raf=require("raf"),$=require("jquery"),Plugin=require("../plugin"),scrollIntoView=require("scroll-into-view"),highlighter=require("../highlighter"),polyglot=require("../../shared/polyglot"),configFrom=require("../config/index"),BUCKET_SIZE=16,BUCKET_NAV_SIZE=BUCKET_SIZE+6,BUCKET_TOP_THRESHOLD=115+BUCKET_NAV_SIZE,scrollToClosest=function(t,e){var n,o;return n="up"===e?1:-1,o=t.reduce(function(t,e){var i,r,s;return(null!=(r=e.highlights)?r.length:void 0)?(s=t.start,o=t.next,i=highlighter.getBoundingClientRect(e.highlights),1===n&&i.top>=BUCKET_TOP_THRESHOLD?t:-1===n&&i.top<=window.innerHeight-BUCKET_NAV_SIZE?t:null==o?{start:i.top,next:e}:s*n<i.top*n?{start:i.top,next:e}:t):t},{}).next,scrollIntoView(o.highlights[0])},module.exports=BucketBar=function(t){function e(t,n){this.update=bind(this.update,this),e.__super__.constructor.call(this,$(this.html),n),null!=this.options.container?$(this.options.container).append(this.element):$(t).append(this.element)}return extend(e,t),e.prototype.html='<div class="annotator-bucket-bar">\n</div>',e.prototype.options={gapSize:60,scrollables:["body"]},e.prototype.buckets=[],e.prototype.index=[],e.prototype.tabs=null,e.prototype.pluginInit=function(){var t,e,n,o,i,r;for($(window).on("resize scroll",this.update),o=null!=(n=this.options.scrollables)?n:[],i=[],t=0,e=o.length;t<e;t++)r=o[t],i.push($(r).on("resize scroll",this.update));return i},e.prototype.destroy=function(){var t,e,n,o,i,r;for($(window).off("resize scroll",this.update),o=null!=(n=this.options.scrollables)?n:[],i=[],t=0,e=o.length;t<e;t++)r=o[t],i.push($(r).off("resize scroll",this.update));return i},e.prototype._collate=function(t,e){var n,o,i;for(n=o=0,i=t.length-1;0<=i?o<=i:o>=i;n=0<=i?++o:--o){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return 0},e.prototype.update=function(){if(null==this._updatePending)return this._updatePending=raf(function(t){return function(){return delete t._updatePending,t._update()}}(this))},e.prototype._update=function(){var t,e,n,o,i,r,s,l,u,h;for(t=[],n=[],l=this.annotator.anchors.reduce(function(e){return function(e,o,i){var r,s,l,u;return(null!=(l=o.highlights)?l.length:void 0)?(s=highlighter.getBoundingClientRect(o.highlights),u=s.top,r=s.bottom-s.top,u<BUCKET_TOP_THRESHOLD?indexOf.call(t,o)<0&&t.push(o):u>window.innerHeight-BUCKET_NAV_SIZE?indexOf.call(n,o)<0&&n.push(o):(e.push([u,1,o]),e.push([u+r,-1,o])),e):e}}(),[]),u=l.sort(this._collate).reduce(function(t){return function(e,n,o,i){var r,s,l,u,h,a,c,p,g,d,f,_,T,b,E,C;if(l=e.buckets,a=e.index,u=e.carry,C=n[0],h=n[1],r=n[2],h>0?(c=u.anchors.indexOf(r))<0?(u.anchors.unshift(r),u.counts.unshift(1)):u.counts[c]++:(c=u.anchors.indexOf(r),0==--u.counts[c]&&(u.anchors.splice(c,1),u.counts.splice(c,1))),0===a.length||o===i.length-1||0===u.anchors.length||C-a[a.length-1]>t.options.gapSize)l.push(u.anchors.slice()),a.push(C);else{for((null!=(T=l[l.length-2])?T.length:void 0)?(d=l[l.length-2],E=l.pop(),a.pop()):(d=l[l.length-1],E=[]),b=u.anchors,p=0,f=b.length;p<f;p++)s=b[p],indexOf.call(d,s)<0&&d.push(s);for(g=0,_=E.length;g<_;g++)s=E[g],indexOf.call(d,s)<0&&d.push(s)}return{buckets:l,index:a,carry:u}}}(this),{buckets:[],index:[],carry:{anchors:[],counts:[],latest:0}}),this.buckets=u.buckets,this.index=u.index,this.buckets.unshift([],t,[]),this.index.unshift(0,BUCKET_TOP_THRESHOLD-1,BUCKET_TOP_THRESHOLD),this.buckets.push([],n,[]),this.index.push(window.innerHeight-BUCKET_NAV_SIZE,window.innerHeight-BUCKET_NAV_SIZE+1,window.innerHeight),s=0,h=this.buckets,i=0,r=h.length;i<r;i++)e=h[i],s=Math.max(s,e.length);return o=this.element,this.tabs||(this.tabs=$([])),this.tabs.slice(this.buckets.length).remove(),this.tabs=this.tabs.slice(0,this.buckets.length),$.each(this.buckets.slice(this.tabs.length),function(t){return function(){var e,n,i;return e=$("<div/>").appendTo(o),t.tabs.push(e[0]),i=0,n=0,e.addClass("annotator-bucket-indicator").on("mousemove",function(e){var n,o,i,r,s,l,u;if("custom"!==configFrom(window).theme){for(o=t.tabs.index(e.currentTarget),s=t.annotator.anchors,l=[],i=0,r=s.length;i<r;i++)n=s[i],u=indexOf.call(t.buckets[o],n)>=0,l.push($(n.highlights).toggleClass("annotator-hl-focused",u));return l}}).on("mouseout",function(e){var n,o,i,r,s,l;if("custom"!==configFrom(window).theme){for(o=t.tabs.index(e.currentTarget),s=t.buckets[o],l=[],i=0,r=s.length;i<r;i++)n=s[i],l.push($(n.highlights).removeClass("annotator-hl-focused"));return l}}).on("click",function(e){var o,r,s,l,u,h,a,c,p,g,d;for(s=t.tabs.index(e.currentTarget),e.stopPropagation(),u=[],n=$(".annotator-hl-focused").length,d=t.annotator.anchors,h=0,a=d.length;h<a;h++)o=d[h],indexOf.call(t.buckets[s],o)>=0?u.push($(o.highlights)):$(o.highlights).removeClass("annotator-hl-focused");for(p=u.length,g=0,c=u.length;g<c;g++)l=u[g],p!==i?l.addClass("annotator-hl-focused"):p!==n?l.addClass("annotator-hl-focused"):l.toggleClass("annotator-hl-focused");return t.isUpper(s)?scrollToClosest(t.buckets[s],"up"):t.isLower(s)?scrollToClosest(t.buckets[s],"down"):"custom"!==configFrom(window).theme&&(r=function(){var t,e,n,i;for(n=this.buckets[s],i=[],e=0,t=n.length;e<t;e++)o=n[e],i.push(o.annotation);return i}.call(t),t.annotator.selectAnnotations(r,e.ctrlKey||e.metaKey)),u,i=p})}}(this)),this._buildTabs(this.tabs,this.buckets)},e.prototype._buildTabs=function(){return this.tabs.each(function(t){return function(e,n){var o,i,r,s;if(n=$(n),o=t.buckets[e],i=null!=o?o.length:void 0,s=polyglot().t("Show feedback",{bucketLength:i}),n.attr("title",s),n.toggleClass("upper",t.isUpper(e)),n.toggleClass("lower",t.isLower(e)),r=t.isUpper(e)||t.isLower(e)?BUCKET_NAV_SIZE:BUCKET_SIZE,n.css({top:(t.index[e]+t.index[e+1])/2,marginTop:-r/2,display:i?"":"none"}),o)return n.html("<div class='label'>"+i+"</div>")}}(this))},e.prototype.isUpper=function(t){return 1===t},e.prototype.isLower=function(t){return t===this.index.length-2},e}(Plugin),BucketBar.BUCKET_SIZE=BUCKET_SIZE,BucketBar.BUCKET_NAV_SIZE=BUCKET_NAV_SIZE,BucketBar.BUCKET_TOP_THRESHOLD=BUCKET_TOP_THRESHOLD;

},{"../../shared/polyglot":100,"../config/index":68,"../highlighter":76,"../plugin":82,"jquery":"jquery","raf":48,"scroll-into-view":49}],84:[function(require,module,exports){
var AnnotationSync,Bridge,CrossFrame,Discovery,FrameObserver,FrameUtil,Plugin,extract,slice=[].slice,extend=function(e,r){function t(){this.constructor=e}for(var n in r)hasProp.call(r,n)&&(e[n]=r[n]);return t.prototype=r.prototype,e.prototype=new t,e.__super__=r.prototype,e},hasProp={}.hasOwnProperty;Plugin=require("../plugin"),AnnotationSync=require("../annotation-sync"),Bridge=require("../../shared/bridge"),Discovery=require("../../shared/discovery"),FrameUtil=require("../util/frame-util"),FrameObserver=require("../frame-observer"),extract=extract=function(){var e,r,t,n,i,o;for(i=arguments[0],t=2<=arguments.length?slice.call(arguments,1):[],o={},e=0,n=t.length;e<n;e++)r=t[e],i.hasOwnProperty(r)&&(o[r]=i[r]);return o},module.exports=CrossFrame=function(e){function r(e,t){var n,i,o,s,c,a,u,l,p;r.__super__.constructor.apply(this,arguments),c=t.config,p=extract(t,"server"),a=new Discovery(window,p),s=new Bridge,p=extract(t,"on","emit"),o=new AnnotationSync(s,p),l=new FrameObserver(e),u=new Map,this.pluginInit=function(){var e;return e=function(e,r,t){return s.createChannel(e,r,t)},a.startDiscovery(e),l.observe(i,n)},this.destroy=function(){return Plugin.prototype.destroy.apply(this,arguments),s.destroy(),a.stopDiscovery(),l.disconnect()},this.sync=function(e,r){return o.sync(e,r)},this.on=function(e,r){return s.on(e,r)},this.call=function(){var e,r;return r=arguments[0],e=2<=arguments.length?slice.call(arguments,1):[],s.call.apply(s,[r].concat(slice.call(e)))},this.onConnect=function(e){return s.onConnect(e)},i=function(e){var r;if(!FrameUtil.hasHypothesis(e))return r=c.clientUrl,FrameUtil.isLoaded(e,function(){var t,n;return n=a._generateToken(),u.set(e,n),t=Object.assign({},c,{subFrameIdentifier:n}),FrameUtil.injectHypothesis(e,r,t)})},n=function(e){return s.call("destroyFrame",u.get(e)),u.delete(e)}}return extend(r,e),r}(Plugin);

},{"../../shared/bridge":97,"../../shared/discovery":98,"../annotation-sync":66,"../frame-observer":73,"../plugin":82,"../util/frame-util":93}],85:[function(require,module,exports){
var $,Document,Plugin,baseURI,bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function i(){this.constructor=t}for(var a in e)hasProp.call(e,a)&&(t[a]=e[a]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};$=require("jquery"),Plugin=require("../plugin"),baseURI=require("document-base-uri"),module.exports=Document=function(t){function e(){return this._getFavicon=bind(this._getFavicon,this),this._getLinks=bind(this._getLinks,this),this._getTitle=bind(this._getTitle,this),this._getMetaTags=bind(this._getMetaTags,this),this._getEprints=bind(this._getEprints,this),this._getPrism=bind(this._getPrism,this),this._getDublinCore=bind(this._getDublinCore,this),this._getTwitter=bind(this._getTwitter,this),this._getFacebook=bind(this._getFacebook,this),this._getHighwire=bind(this._getHighwire,this),this.getDocumentMetadata=bind(this.getDocumentMetadata,this),this.beforeAnnotationCreated=bind(this.beforeAnnotationCreated,this),this.uris=bind(this.uris,this),this.uri=bind(this.uri,this),e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.events={beforeAnnotationCreated:"beforeAnnotationCreated"},e.prototype.pluginInit=function(){return this.baseURI=this.options.baseURI||baseURI,this.document=this.options.document||document,this.getDocumentMetadata()},e.prototype.uri=function(){var t,e,i,a,n;for(n=decodeURIComponent(this._getDocumentHref()),a=this.metadata.link,t=0,e=a.length;t<e;t++)i=a[t],"canonical"===i.rel&&(n=i.href);return n},e.prototype.uris=function(){var t,e,i,a,n,r;for(r={},n=this.metadata.link,e=0,i=n.length;e<i;e++)a=n[e],a.href&&(r[a.href]=!0);return function(){var e;e=[];for(t in r)e.push(t);return e}()},e.prototype.beforeAnnotationCreated=function(t){return t.document=this.metadata},e.prototype.getDocumentMetadata=function(){return this.metadata={},this._getHighwire(),this._getDublinCore(),this._getFacebook(),this._getEprints(),this._getPrism(),this._getTwitter(),this._getFavicon(),this._getTitle(),this._getLinks(),this.metadata},e.prototype._getHighwire=function(){return this.metadata.highwire=this._getMetaTags("citation","name","_")},e.prototype._getFacebook=function(){return this.metadata.facebook=this._getMetaTags("og","property",":")},e.prototype._getTwitter=function(){return this.metadata.twitter=this._getMetaTags("twitter","name",":")},e.prototype._getDublinCore=function(){return this.metadata.dc=this._getMetaTags("dc","name",".")},e.prototype._getPrism=function(){return this.metadata.prism=this._getMetaTags("prism","name",".")},e.prototype._getEprints=function(){return this.metadata.eprints=this._getMetaTags("eprints","name",".")},e.prototype._getMetaTags=function(t,e,i){var a,n,r,o,s,h,p,u,d;for(d={},u=$("meta"),n=0,r=u.length;n<r;n++)s=u[n],p=$(s).attr(e),a=$(s).prop("content"),p&&(o=p.match(RegExp("^"+t+i+"(.+)$","i")))&&(h=o[1],d[h]?d[h].push(a):d[h]=[a]);return d},e.prototype._getTitle=function(){return this.metadata.highwire.title?this.metadata.title=this.metadata.highwire.title[0]:this.metadata.eprints.title?this.metadata.title=this.metadata.eprints.title[0]:this.metadata.prism.title?this.metadata.title=this.metadata.prism.title[0]:this.metadata.facebook.title?this.metadata.title=this.metadata.facebook.title[0]:this.metadata.twitter.title?this.metadata.title=this.metadata.twitter.title[0]:this.metadata.dc.title?this.metadata.title=this.metadata.dc.title[0]:this.metadata.title=$("head title").text()},e.prototype._getLinks=function(){var t,e,i,a,n,r,o,s,h,p,u,d,c,l,g,f,m,_,b,y,k,w,v,T,U,R,D;for(this.metadata.link=[{href:this._getDocumentHref()}],k=$("link"),s=0,l=k.length;s<l;s++)if(_=k[s],d=$(_),o=this._absoluteUrl(d.prop("href")),T=d.prop("rel"),U=d.prop("type"),c=d.prop("hreflang"),"alternate"===T||"canonical"===T||"bookmark"===T||"shortlink"===T){if("alternate"===T){if(U&&U.match(/^application\/(rss|atom)\+xml/))continue;if(c)continue}this.metadata.link.push({href:o,rel:T,type:U})}w=this.metadata.highwire;for(y in w){if(D=w[y],"pdf_url"===y)for(p=0,g=D.length;p<g;p++)R=D[p],this.metadata.link.push({href:this._absoluteUrl(R),type:"application/pdf"});if("doi"===y)for(u=0,f=D.length;u<f;u++)r=D[u],"doi:"!==r.slice(0,4)&&(r="doi:"+r),this.metadata.link.push({href:r})}v=this.metadata.dc;for(y in v)if(D=v[y],"identifier"===y)for(b=0,m=D.length;b<m;b++)h=D[b],"doi:"===h.slice(0,4)&&this.metadata.link.push({href:h});if(e=this.metadata.dc["relation.ispartof"],t=this.metadata.dc.identifier,e&&t)return n=e[e.length-1],a=t[t.length-1],i="urn:x-dc:"+encodeURIComponent(n)+"/"+encodeURIComponent(a),this.metadata.link.push({href:i}),this.metadata.documentFingerprint=i},e.prototype._getFavicon=function(){var t,e,i,a,n,r;for(a=$("link"),r=[],t=0,e=a.length;t<e;t++)i=a[t],"shortcut icon"===(n=$(i).prop("rel"))||"icon"===n?r.push(this.metadata.favicon=this._absoluteUrl(i.href)):r.push(void 0);return r},e.prototype._absoluteUrl=function(t){var e;return e=this.document.createElement("a"),e.href=t,e.href},e.prototype._getDocumentHref=function(){var t,e,i,a;return e=this.document.location.href,t=["http:","https:","file:"],i=new URL(e).protocol,indexOf.call(t,i)>=0?e:this.baseURI&&(a=new URL(this.baseURI).protocol,indexOf.call(t,a)>=0)?this.baseURI:e},e}(Plugin);

},{"../plugin":82,"document-base-uri":8,"jquery":"jquery"}],86:[function(require,module,exports){
"use strict";function PDFMetadata(t){this._loaded=new Promise(function(e){var n=function n(){window.removeEventListener("documentload",n),e(t)};t.documentFingerprint?e(t):window.addEventListener("documentload",n)})}function fingerprintToURN(t){return"urn:x-pdf:"+String(t)}function getPDFURL(t){return 0!==t.url.indexOf("file://")?t.url:null}PDFMetadata.prototype.getUri=function(){return this._loaded.then(function(t){var e=getPDFURL(t);return e||(e=fingerprintToURN(t.documentFingerprint)),e})},PDFMetadata.prototype.getMetadata=function(){return this._loaded.then(function(t){var e=document.title;t.metadata&&t.metadata.has("dc:title")&&"Untitled"!==t.metadata.get("dc:title")?e=t.metadata.get("dc:title"):t.documentInfo&&t.documentInfo.Title&&(e=t.documentInfo.Title);var n=[{href:fingerprintToURN(t.documentFingerprint)}],i=getPDFURL(t);return i&&n.push({href:i}),{title:e,link:n,documentFingerprint:t.documentFingerprint}})},module.exports=PDFMetadata;

},{}],87:[function(require,module,exports){
var PDF,Plugin,RenderingStates,extend=function(e,t){function r(){this.constructor=e}for(var n in t)hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};Plugin=require("../plugin"),RenderingStates=require("../pdfjs-rendering-states"),module.exports=PDF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.prototype.documentLoaded=null,t.prototype.observer=null,t.prototype.pdfViewer=null,t.prototype.pluginInit=function(){var e;return this.annotator.anchoring=require("../anchoring/pdf"),e=require("./pdf-metadata"),this.pdfViewer=PDFViewerApplication.pdfViewer,this.pdfViewer.viewer.classList.add("has-transparent-text-layer"),this.pdfMetadata=new e(PDFViewerApplication),this.observer=new MutationObserver(function(e){return function(t){return e._update()}}(this)),this.observer.observe(this.pdfViewer.viewer,{attributes:!0,attributeFilter:["data-loaded"],childList:!0,subtree:!0})},t.prototype.destroy=function(){return this.pdfViewer.viewer.classList.remove("has-transparent-text-layer"),this.observer.disconnect()},t.prototype.uri=function(){return this.pdfMetadata.getUri()},t.prototype.getMetadata=function(){return this.pdfMetadata.getMetadata()},t.prototype._update=function(){var e,t,r,n,i,o,a,s,p,u,d,l,h,f,c,g,y,v,w,b,P,x,V,_,m;for(y=this,r=y.annotator,c=y.pdfViewer,_=[],f=o=0,v=c.pagesCount;0<=v?o<v:o>v;f=0<=v?++o:--o)if(h=c.getPageView(f),null!=(w=h.textLayer)?w.renderingDone:void 0)switch(n=null!=(b=h.div)?b:h.el,g=n.getElementsByClassName("annotator-placeholder")[0],h.renderingState){case RenderingStates.INITIAL:h.textLayer=null;break;case RenderingStates.FINISHED:null!=g&&g.parentNode.removeChild(g)}for(P=r.anchors,a=0,u=P.length;a<u;a++)if(e=P[a],null!=e.highlights&&(x=e.annotation,!(indexOf.call(_,x)>=0)))for(V=e.highlights,s=0,d=V.length;s<d;s++)if(i=V[s],!document.body.contains(i)){delete e.highlights,delete e.range,_.push(e.annotation);break}for(m=[],p=0,l=_.length;p<l;p++)t=_[p],m.push(r.anchor(t));return m},t}(Plugin);

},{"../anchoring/pdf":60,"../pdfjs-rendering-states":81,"../plugin":82,"./pdf-metadata":86}],88:[function(require,module,exports){
var $,Plugin,Toolbar,makeButton,polyglot,extend=function(t,o){function e(){this.constructor=t}for(var n in o)hasProp.call(o,n)&&(t[n]=o[n]);return e.prototype=o.prototype,t.prototype=new e,t.__super__=o.prototype,t},hasProp={}.hasOwnProperty;Plugin=require("../plugin"),$=require("jquery"),polyglot=require("../../shared/polyglot"),makeButton=function(t){var o,e;return o=$("<button></button>").attr("href","").attr("title",t.title).attr("name",t.name).on(t.on).addClass("annotator-frame-button").addClass(t.class),e=$("<li></li>").append(o),e[0]},module.exports=Toolbar=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,t),"annotator-hide",o.prototype.events={setVisibleHighlights:"onSetVisibleHighlights"},o.prototype.html='<div class="annotator-toolbar"></div>',o.prototype.pluginInit=function(){var t,o,e;return this.annotator.toolbar=this.toolbar=$(this.html),null!=this.options.container?$(this.options.container).append(this.toolbar):$(this.element).append(this.toolbar),o=[{title:polyglot().t("Close Sidebar"),class:"annotator-frame-button--sidebar_close h-icon-close",name:"sidebar-close",on:{click:function(t){return function(o){return o.preventDefault(),o.stopPropagation(),t.annotator.hide(),t.toolbar.find("[name=sidebar-close]").hide()}}(this)}},{title:polyglot().t("Toggle or Resize Sidebar"),class:"annotator-frame-button--sidebar_toggle h-icon-chevron-left",name:"sidebar-toggle",on:{click:function(t){return function(o){var e;return o.preventDefault(),o.stopPropagation(),e=t.annotator.frame.hasClass("annotator-collapsed"),e?t.annotator.show():t.annotator.hide()}}(this)}},{title:polyglot().t("Hide Highlights"),class:"h-icon-visibility",name:"highlight-visibility",on:{click:function(t){return function(o){var e;return o.preventDefault(),o.stopPropagation(),e=!t.annotator.visibleHighlights,t.annotator.setAllVisibleHighlights(e)}}(this)}},{title:polyglot().t("New Page Note"),class:"h-icon-note",name:"insert-comment",on:{click:function(t){return function(o){return o.preventDefault(),o.stopPropagation(),t.annotator.createAnnotation(),t.annotator.show()}}(this)}}],this.buttons=$(function(){var e,n,i;for(i=[],e=0,n=o.length;e<n;e++)t=o[e],i.push(makeButton(t));return i}()),e=$("<ul></ul>"),this.buttons.appendTo(e),this.toolbar.append(e),this.toolbar.on("mouseup","a",function(t){return $(t.target).blur()})},o.prototype.onSetVisibleHighlights=function(t){return t?$("[name=highlight-visibility]").removeClass("h-icon-visibility-off").addClass("h-icon-visibility").prop("title","Hide Highlights"):$("[name=highlight-visibility]").removeClass("h-icon-visibility").addClass("h-icon-visibility-off").prop("title","Show Highlights")},o.prototype.disableMinimizeBtn=function(){return $("[name=sidebar-toggle]").remove()},o.prototype.disableHighlightsBtn=function(){return $("[name=highlight-visibility]").remove()},o.prototype.disableNewNoteBtn=function(){return $("[name=insert-comment]").remove()},o.prototype.disableCloseBtn=function(){return $("[name=sidebar-close]").remove()},o.prototype.getWidth=function(){return parseInt(window.getComputedStyle(this.toolbar[0]).width)},o.prototype.hideCloseBtn=function(){return $("[name=sidebar-close]").hide()},o.prototype.showCloseBtn=function(){return $("[name=sidebar-close]").show()},o.prototype.showCollapseSidebarBtn=function(){return $("[name=sidebar-toggle]").removeClass("h-icon-chevron-left").addClass("h-icon-chevron-right")},o.prototype.showExpandSidebarBtn=function(){return $("[name=sidebar-toggle]").removeClass("h-icon-chevron-right").addClass("h-icon-chevron-left")},o}(Plugin);

},{"../../shared/polyglot":100,"../plugin":82,"jquery":"jquery"}],89:[function(require,module,exports){
"use strict";function isSelectionBackwards(e){return e.focusNode===e.anchorNode?e.focusOffset<e.anchorOffset:e.getRangeAt(0).startContainer===e.focusNode}function isNodeInRange(e,n){if(n===e.startContainer||n===e.endContainer)return!0;var t=n.ownerDocument.createRange();t.selectNode(n);var o=e.compareBoundaryPoints(Range.START_TO_START,t)<=0,r=e.compareBoundaryPoints(Range.END_TO_END,t)>=0;return t.detach(),o&&r}function forEachNodeInRange(e,n){for(var t,o=e.commonAncestorContainer,r=o.ownerDocument.createNodeIterator(o,NodeFilter.SHOW_ALL,null,!1);t=r.nextNode();)isNodeInRange(e,t)&&n(t)}function getTextBoundingBoxes(e){var n=/^\s*$/,t=[];forEachNodeInRange(e,function(e){e.nodeType!==Node.TEXT_NODE||e.textContent.match(n)||t.push(e)});var o=[];return t.forEach(function(n){var t=n.ownerDocument.createRange();if(t.selectNodeContents(n),n===e.startContainer&&t.setStart(n,e.startOffset),n===e.endContainer&&t.setEnd(n,e.endOffset),!t.collapsed){var r=Array.from(t.getClientRects());t.detach(),o=o.concat(r)}}),o}function selectionFocusRect(e){if(e.isCollapsed)return null;var n=getTextBoundingBoxes(e.getRangeAt(0));return 0===n.length?null:isSelectionBackwards(e)?n[0]:n[n.length-1]}module.exports={getTextBoundingBoxes:getTextBoundingBoxes,isNodeInRange:isNodeInRange,isSelectionBackwards:isSelectionBackwards,selectionFocusRect:selectionFocusRect};

},{}],90:[function(require,module,exports){
"use strict";function selectedRange(e){var o=e.getSelection();return!o.rangeCount||o.getRangeAt(0).collapsed?null:o.getRangeAt(0)}function selections(e){var o,r=observable.listen(e,["mousedown","mouseup","selectionchange"]).filter(function(e){return"mousedown"===e.type||"mouseup"===e.type?(o="mousedown"===e.type,!1):!o});return observable.merge([observable.buffer(10,observable.listen(e,["mouseup"])),observable.buffer(100,r),observable.delay(0,observable.Observable.of({}))]).map(function(){return selectedRange(e)})}var observable=require("./util/observable");module.exports=selections;

},{"./util/observable":94}],91:[function(require,module,exports){
"use strict";function trigger(r,t){function e(r){t(),r.stopPropagation()}var o=r.querySelectorAll("["+SIDEBAR_TRIGGER_BTN_ATTR+"]");Array.from(o).forEach(function(r){r.addEventListener("click",e)})}var SIDEBAR_TRIGGER_BTN_ATTR="data-hypothesis-trigger";module.exports=trigger;

},{}],92:[function(require,module,exports){
var $,Hammer,Host,MIN_RESIZE,Sidebar,annotationCounts,events,extend,features,raf,sidebarTrigger,bind=function(t,e){return function(){return t.apply(e,arguments)}},extend1=function(t,e){function n(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;extend=require("extend"),raf=require("raf"),Hammer=require("hammerjs"),$=require("jquery"),Host=require("./host"),annotationCounts=require("./annotation-counts"),sidebarTrigger=require("./sidebar-trigger"),events=require("../shared/bridge-events"),features=require("./features"),MIN_RESIZE=280,module.exports=Sidebar=function(t){function e(t,n){this.onSwipe=bind(this.onSwipe,this),this.onPan=bind(this.onPan,this),this._notifyOfLayoutChange=bind(this._notifyOfLayoutChange,this);var i,s;e.__super__.constructor.apply(this,arguments),this.hide(),(n.openSidebar||n.annotations||n.query)&&this.on("panelReady",function(t){return function(){return t.show()}}(this)),null!=this.plugins.BucketBar&&this.plugins.BucketBar.element.on("mouseup",function(t){return function(e){return t.showBucketList()}}(this)),null!=this.plugins.Toolbar&&(this.toolbarWidth=this.plugins.Toolbar.getWidth(),"clean"===n.theme?(this.plugins.Toolbar.disableMinimizeBtn(),this.plugins.Toolbar.disableHighlightsBtn(),this.plugins.Toolbar.disableNewNoteBtn()):"custom"===n.theme?(this.plugins.Toolbar.disableHighlightsBtn(),this.plugins.Toolbar.disableNewNoteBtn(),this.plugins.Toolbar.disableCloseBtn()):this.plugins.Toolbar.disableCloseBtn(),this._setupGestures()),s=null!=(i=n.services)?i[0]:void 0,s&&(this.onLoginRequest=s.onLoginRequest,this.onLogoutRequest=s.onLogoutRequest,this.onSignupRequest=s.onSignupRequest,this.onProfileRequest=s.onProfileRequest,this.onHelpRequest=s.onHelpRequest),this.onLayoutChange=n.onLayoutChange,this._notifyOfLayoutChange(!1),this._setupSidebarEvents()}return extend1(e,t),e.prototype.options={Document:{},TextSelection:{},BucketBar:{container:".annotator-frame"},Toolbar:{container:".annotator-frame"}},e.prototype.renderFrame=null,e.prototype.gestureState=null,e.prototype._setupSidebarEvents=function(){return annotationCounts(document.body,this.crossframe),sidebarTrigger(document.body,function(t){return function(){return t.show()}}(this)),features.init(this.crossframe),this.crossframe.on("showSidebar",function(t){return function(){return t.show()}}(this)),this.crossframe.on("hideSidebar",function(t){return function(){return t.hide()}}(this)),this.crossframe.on(events.LOGIN_REQUESTED,function(t){return function(){if(t.onLoginRequest)return t.onLoginRequest()}}(this)),this.crossframe.on(events.LOGOUT_REQUESTED,function(t){return function(){if(t.onLogoutRequest)return t.onLogoutRequest()}}(this)),this.crossframe.on(events.SIGNUP_REQUESTED,function(t){return function(){if(t.onSignupRequest)return t.onSignupRequest()}}(this)),this.crossframe.on(events.PROFILE_REQUESTED,function(t){return function(){if(t.onProfileRequest)return t.onProfileRequest()}}(this)),this.crossframe.on(events.HELP_REQUESTED,function(t){return function(){if(t.onHelpRequest)return t.onHelpRequest()}}(this)),this},e.prototype._setupGestures=function(){var t,e,n,i;if(t=this.toolbar.find("[name=sidebar-toggle]"),t[0])return t.on("touchmove",function(t){return t.preventDefault()}),e=new Hammer.Manager(t[0]).on("panstart panend panleft panright",this.onPan).on("swipeleft swiperight",this.onSwipe),n=e.add(new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL})),i=e.add(new Hammer.Swipe({direction:Hammer.DIRECTION_HORIZONTAL})),i.recognizeWith(n),this._initializeGestureState(),this},e.prototype._initializeGestureState=function(){return this.gestureState={initial:null,final:null}},e.prototype._updateLayout=function(){if(!this.renderFrame)return this.renderFrame=raf(function(t){return function(){var e,n;if(t.renderFrame=null,t.gestureState.final!==t.gestureState.initial)return e=t.gestureState.final,n=-e,t.frame.css("margin-left",e+"px"),n>=MIN_RESIZE&&t.frame.css("width",n+"px"),t._notifyOfLayoutChange()}}(this))},e.prototype._notifyOfLayoutChange=function(t){var e,n,i,s,r,o,a;if(o=this.toolbarWidth||0,this.onLayoutChange)return r=this.frame[0].getBoundingClientRect(),e=window.getComputedStyle(this.frame[0]),a=parseInt(e.width),s=parseInt(e.marginLeft),i=o,null!=t?t&&(i+=a):i+=s<MIN_RESIZE?-s:a,n=i>o,this.onLayoutChange({expanded:n,width:n?i:o,height:r.height})},e.prototype.onPan=function(t){var e,n;switch(t.type){case"panstart":return this._initializeGestureState(),this.frame.addClass("annotator-no-transition"),this.frame.css("pointer-events","none"),this.gestureState.initial=parseInt(getComputedStyle(this.frame[0]).marginLeft);case"panend":return this.frame.removeClass("annotator-no-transition"),this.frame.css("pointer-events",""),this.gestureState.final<=-MIN_RESIZE?this.show():this.hide(),this._initializeGestureState();case"panleft":case"panright":if(null==this.gestureState.initial)return;return n=this.gestureState.initial,e=t.deltaX,this.gestureState.final=Math.min(Math.round(n+e),0),this._updateLayout()}},e.prototype.onSwipe=function(t){switch(t.type){case"swipeleft":return this.show();case"swiperight":return this.hide()}},e.prototype.show=function(){return this.crossframe.call("sidebarOpened"),this.frame.css({"margin-left":-1*this.frame.width()+"px"}),this.frame.removeClass("annotator-collapsed"),null!=this.plugins.Toolbar&&(this.plugins.Toolbar.showCollapseSidebarBtn(),this.plugins.Toolbar.showCloseBtn()),"whenSidebarOpen"===this.options.showHighlights&&this.setVisibleHighlights(!0),this._notifyOfLayoutChange(!0)},e.prototype.hide=function(){return this.frame.css({"margin-left":""}),this.frame.addClass("annotator-collapsed"),this.plugins.Toolbar.hideCloseBtn(),null!=this.plugins.Toolbar&&this.plugins.Toolbar.showExpandSidebarBtn(),"whenSidebarOpen"===this.options.showHighlights&&this.setVisibleHighlights(!1),this._notifyOfLayoutChange(!1)},e.prototype.isOpen=function(){return!this.frame.hasClass("annotator-collapsed")},e.prototype.setAllVisibleHighlights=function(t){return this.crossframe.call("setVisibleHighlights",t),this.publish("setVisibleHighlights",t)},e.prototype.showBucketList=function(){var t,e,n,i,s,r,o,a,u,h,l,p;for(o=[this.plugins.BucketBar.tabs,this.plugins.BucketBar.buckets],l=o[0],n=o[1],s=$(event.target)[0].className.includes("annotator-bucket-indicator")?$(event.target):$(event.target).parent(),e=l.index(s),a=[[],[]],p=a[0],a[1],u=n[e],i=0,r=u.length;i<r;i++)t=u[i],p.push(t.annotation.$tag);return event.stopPropagation(),null!=(h=this.crossframe)?h.call("showBucketList",p):void 0},e}(Host);

},{"../shared/bridge-events":96,"./annotation-counts":65,"./features":72,"./host":78,"./sidebar-trigger":91,"extend":34,"hammerjs":39,"jquery":"jquery","raf":48}],93:[function(require,module,exports){
"use strict";function findFrames(e){return Array.from(e.getElementsByTagName("iframe")).filter(shouldEnableAnnotation)}function hasHypothesis(e){return!0===e.contentWindow.__hypothesis_frame}function injectHypothesis(e,t,n){var s=document.createElement("script");s.className="js-hypothesis-config",s.type="application/json",s.innerText=JSON.stringify(n);var o=t,i=document.createElement("script");i.className="js-hypothesis-embed",i.async=!0,i.src=o,e.contentDocument.body.appendChild(s),e.contentDocument.body.appendChild(i)}function isAccessible(e){try{return!!e.contentDocument}catch(e){return!1}}function shouldEnableAnnotation(e){var t=!e.classList.contains("h-sidebar-iframe"),n=e.hasAttribute("enable-annotation");return t&&n}function isDocumentReady(e,t){"loading"===e.contentDocument.readyState?e.contentDocument.addEventListener("DOMContentLoaded",function(){t()}):t()}function isLoaded(e,t){"complete"!==e.contentDocument.readyState?e.addEventListener("load",function(){t()}):t()}module.exports={findFrames:findFrames,hasHypothesis:hasHypothesis,injectHypothesis:injectHypothesis,isAccessible:isAccessible,isLoaded:isLoaded,isDocumentReady:isDocumentReady};

},{}],94:[function(require,module,exports){
"use strict";function listen(e,n){return new Observable(function(r){var t=function(e){r.next(e)};return n.forEach(function(n){e.addEventListener(n,t)}),function(){n.forEach(function(n){e.removeEventListener(n,t)})}})}function delay(e,n){return new Observable(function(r){var t=[],u=n.subscribe({next:function(n){var u=setTimeout(function(){t=t.filter(function(e){return e!==u}),r.next(n)},e);t.push(u)}});return function(){t.forEach(clearTimeout),u.unsubscribe()}})}function buffer(e,n){return new Observable(function(r){function t(){r.next(u)}var u,i,o=n.subscribe({next:function(n){u=n,clearTimeout(i),i=setTimeout(t,e)}});return function(){o.unsubscribe(),clearTimeout(i)}})}function merge(e){return new Observable(function(n){var r=e.map(function(e){return e.subscribe({next:function(e){n.next(e)}})});return function(){r.forEach(function(e){e.unsubscribe()})}})}function drop(e,n){var r=0;return e.filter(function(){return++r>n})}var Observable=require("zen-observable");module.exports={buffer:buffer,delay:delay,drop:drop,listen:listen,merge:merge,Observable:Observable};

},{"zen-observable":55}],95:[function(require,module,exports){
!function(){function t(t){return function(){return this[t]}}function n(t){return function(){return t}}function e(t){var n=typeof t;if("object"==n){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return n;var e=Object.prototype.toString.call(t);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==n&&void 0===t.call)return"object";return n}function r(t){return"string"==typeof t}function i(t,n,e){return t.call.apply(t.bind,arguments)}function o(t,n,e){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,r),t.apply(n,e)}}return function(){return t.apply(n,arguments)}}function a(t,n,e){return a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o,a.apply(null,arguments)}function u(t,n){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function s(t){function n(){}var e=tt;n.prototype=e.prototype,t.u=e.prototype,t.prototype=new n,t.t=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function c(t,n,e){this.a=t,this.b=n||1,this.d=e||1}function f(t,n){return-1!=t.indexOf(n)}function l(t,n){return t<n?-1:t>n?1:0}function h(t,n){var e;t:{e=t.length;for(var i=r(t)?t.split(""):t,o=0;o<e;o++)if(o in i&&n.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}function p(t){return Wt.concat.apply(Wt,arguments)}function d(t,n,e){return 2>=arguments.length?Wt.slice.call(t,n):Wt.slice.call(t,n,e)}function g(t){var n=arguments.length;if(1==n&&"array"==e(arguments[0]))return g.apply(null,arguments[0]);for(var r={},i=0;i<n;i++)r[arguments[i]]=!0;return r}function v(){return f(Gt,"Edge")}function w(){var t=Gt;return an?/rv\:([^\);]+)(\)|;)/.exec(t):on&&v()?/Edge\/([\d\.]+)/.exec(t):on?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):un?/WebKit\/(\S+)/.exec(t):void 0}function b(){var t=qt.document;return t?t.documentMode:void 0}function y(t){if(!cn[t]){for(var n=0,e=Kt(String(sn)).split("."),r=Kt(String(t)).split("."),i=Math.max(e.length,r.length),o=0;0==n&&o<i;o++){var a=e[o]||"",u=r[o]||"",s=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var f=s.exec(a)||["","",""],h=c.exec(u)||["","",""];if(0==f[0].length&&0==h[0].length)break;n=l(0==f[1].length?0:parseInt(f[1],10),0==h[1].length?0:parseInt(h[1],10))||l(0==f[2].length,0==h[2].length)||l(f[2],h[2])}while(0==n)}cn[t]=0<=n}}function m(t){return on&&(v()||hn>=t)}function E(t,n,e,r){this.a=t,this.nodeName=e,this.nodeValue=r,this.nodeType=2,this.parentNode=this.ownerElement=n}function x(t,n){var e=dn&&"href"==n.nodeName?t.getAttribute(n.nodeName,2):n.nodeValue;return new E(n,t,n.nodeName,e)}function N(t){this.b=t,this.a=0}function S(t){t=t.match(gn);for(var n=0;n<t.length;n++)vn.test(t[n])&&t.splice(n,1);return new N(t)}function T(t,n){return t.b[t.a+(n||0)]}function k(t){return t.b[t.a++]}function I(t){return t.b.length<=t.a}function O(t,n){if(t.contains&&1==n.nodeType)return t==n||t.contains(n);if(void 0!==t.compareDocumentPosition)return t==n||Boolean(16&t.compareDocumentPosition(n));for(;n&&t!=n;)n=n.parentNode;return n==t}function R(t,n){if(t==n)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(n)?1:-1;if(on&&!m(9)){if(9==t.nodeType)return-1;if(9==n.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var e=1==t.nodeType,r=1==n.nodeType;if(e&&r)return t.sourceIndex-n.sourceIndex;var i=t.parentNode,o=n.parentNode;return i==o?P(t,n):!e&&O(i,n)?-1*A(t,n):!r&&O(o,t)?A(n,t):(e?t.sourceIndex:i.sourceIndex)-(r?n.sourceIndex:o.sourceIndex)}return r=9==t.nodeType?t:t.ownerDocument||t.document,e=r.createRange(),e.selectNode(t),e.collapse(!0),r=r.createRange(),r.selectNode(n),r.collapse(!0),e.compareBoundaryPoints(qt.Range.START_TO_END,r)}function A(t,n){var e=t.parentNode;if(e==n)return-1;for(var r=n;r.parentNode!=e;)r=r.parentNode;return P(r,t)}function P(t,n){for(var e=n;e=e.previousSibling;)if(e==t)return-1;return 1}function D(t){var n=null,e=t.nodeType;if(1==e&&(n=t.textContent,n=void 0==n||null==n?t.innerText:n,n=void 0==n||null==n?"":n),"string"!=typeof n)if(pn&&"title"==t.nodeName.toLowerCase()&&1==e)n=t.text;else if(9==e||1==e){t=9==e?t.documentElement:t.firstChild;for(var e=0,r=[],n="";t;){do{1!=t.nodeType&&(n+=t.nodeValue),pn&&"title"==t.nodeName.toLowerCase()&&(n+=t.text),r[e++]=t}while(t=t.firstChild);for(;e&&!(t=r[--e].nextSibling););}}else n=t.nodeValue;return""+n}function _(t,n,e){if(null===n)return!0;try{if(!t.getAttribute)return!1}catch(t){return!1}return dn&&"class"==n&&(n="className"),null==e?!!t.getAttribute(n):t.getAttribute(n,2)==e}function M(t,n,e,i,o){return(pn?C:B).call(null,t,n,r(e)?e:null,r(i)?i:null,o||new Y)}function C(t,n,e,r,i){if(t instanceof bt||8==t.b||e&&null===t.b){var o=n.all;if(!o)return i;if("*"!=(t=F(t))&&!(o=n.getElementsByTagName(t)))return i;if(e){for(var a=[],u=0;n=o[u++];)_(n,e,r)&&a.push(n);o=a}for(u=0;n=o[u++];)"*"==t&&"!"==n.tagName||$(i,n);return i}return L(t,n,e,r,i),i}function B(t,n,e,r,i){return n.getElementsByName&&r&&"name"==e&&!on?(n=n.getElementsByName(r),Jt(n,function(n){t.a(n)&&$(i,n)})):n.getElementsByClassName&&r&&"class"==e?(n=n.getElementsByClassName(r),Jt(n,function(n){n.className==r&&t.a(n)&&$(i,n)})):t instanceof gt?L(t,n,e,r,i):n.getElementsByTagName&&(n=n.getElementsByTagName(t.d()),Jt(n,function(t){_(t,e,r)&&$(i,t)})),i}function j(t,n,e,r,i){var o;if((t instanceof bt||8==t.b||e&&null===t.b)&&(o=n.childNodes)){var a=F(t);return"*"==a||(o=Qt(o,function(t){return t.tagName&&t.tagName.toLowerCase()==a}))?(e&&(o=Qt(o,function(t){return _(t,e,r)})),Jt(o,function(t){"*"==a&&("!"==t.tagName||"*"==a&&1!=t.nodeType)||$(i,t)}),i):i}return U(t,n,e,r,i)}function U(t,n,e,r,i){for(n=n.firstChild;n;n=n.nextSibling)_(n,e,r)&&t.a(n)&&$(i,n);return i}function L(t,n,e,r,i){for(n=n.firstChild;n;n=n.nextSibling)_(n,e,r)&&t.a(n)&&$(i,n),L(t,n,e,r,i)}function F(t){if(t instanceof gt){if(8==t.b)return"!";if(null===t.b)return"*"}return t.d()}function Y(){this.b=this.a=null,this.i=0}function V(t){this.d=t,this.a=this.b=null}function H(t,n){if(!t.a)return n;if(!n.a)return t;for(var e=t.a,r=n.a,i=null,o=null,a=0;e&&r;){var o=e.d,u=r.d;o==u||o instanceof E&&u instanceof E&&o.a==u.a?(o=e,e=e.a,r=r.a):0<R(e.d,r.d)?(o=r,r=r.a):(o=e,e=e.a),(o.b=i)?i.a=o:t.a=o,i=o,a++}for(o=e||r;o;)o.b=i,i=i.a=o,a++,o=o.a;return t.b=i,t.i=a,t}function X(t,n){var e=new V(n);e.a=t.a,t.b?t.a.b=e:t.a=t.b=e,t.a=e,t.i++}function $(t,n){var e=new V(n);e.b=t.b,t.a?t.b.a=e:t.a=t.b=e,t.b=e,t.i++}function q(t){return(t=t.a)?t.d:null}function G(t){return(t=q(t))?D(t):""}function K(t,n){return new W(t,!!n)}function W(t,n){this.d=t,this.b=(this.c=n)?t.b:t.a,this.a=null}function z(t){var n=t.b;if(null==n)return null;var e=t.a=n;return t.b=t.c?n.b:n.a,e.d}function J(t){switch(t.nodeType){case 1:return u(Z,t);case 9:return J(t.documentElement);case 11:case 10:case 6:case 12:return Q;default:return t.parentNode?J(t.parentNode):Q}}function Q(){return null}function Z(t,n){if(t.prefix==n)return t.namespaceURI||"http://www.w3.org/1999/xhtml";var e=t.getAttributeNode("xmlns:"+n);return e&&e.specified?e.value||null:t.parentNode&&9!=t.parentNode.nodeType?Z(t.parentNode,n):null}function tt(t){this.g=t,this.b=this.e=!1,this.d=null}function nt(t){return"\n  "+t.toString().split("\n").join("\n  ")}function et(t,n){t.e=n}function rt(t,n){t.b=n}function it(t,n){var e=t.a(n);return e instanceof Y?+G(e):+e}function ot(t,n){var e=t.a(n);return e instanceof Y?G(e):""+e}function at(t,n){var e=t.a(n);return e instanceof Y?!!e.i:!!e}function ut(t,n,e){tt.call(this,t.g),this.c=t,this.f=n,this.k=e,this.e=n.e||e.e,this.b=n.b||e.b,this.c==bn&&(e.b||e.e||4==e.g||0==e.g||!n.d?n.b||n.e||4==n.g||0==n.g||!e.d||(this.d={name:e.d.name,l:n}):this.d={name:n.d.name,l:e})}function st(t,n,e,r,i){n=n.a(r),e=e.a(r);var o;if(n instanceof Y&&e instanceof Y){for(i=K(n),r=z(i);r;r=z(i))for(n=K(e),o=z(n);o;o=z(n))if(t(D(r),D(o)))return!0;return!1}if(n instanceof Y||e instanceof Y){for(n instanceof Y?i=n:(i=e,e=n),i=K(i),n=typeof e,r=z(i);r;r=z(i)){switch(n){case"number":r=+D(r);break;case"boolean":r=!!D(r);break;case"string":r=D(r);break;default:throw Error("Illegal primitive type for comparison.")}if(t(r,e))return!0}return!1}return i?"boolean"==typeof n||"boolean"==typeof e?t(!!n,!!e):"number"==typeof n||"number"==typeof e?t(+n,+e):t(n,e):t(+n,+e)}function ct(t,n,e,r){this.a=t,this.p=n,this.g=e,this.j=r}function ft(t,n,e,r){if(wn.hasOwnProperty(t))throw Error("Binary operator already created: "+t);return t=new ct(t,n,e,r),wn[t.toString()]=t}function lt(t,n){if(n.a.length&&4!=t.g)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");tt.call(this,t.g),this.c=t,this.f=n,this.e=t.e,this.b=t.b}function ht(t,n){if(n.length<t.o)throw Error("Function "+t.h+" expects at least"+t.o+" arguments, "+n.length+" given");if(null!==t.n&&n.length>t.n)throw Error("Function "+t.h+" expects at most "+t.n+" arguments, "+n.length+" given");t.s&&Jt(n,function(n,e){if(4!=n.g)throw Error("Argument "+e+" to function "+t.h+" is not of type Nodeset: "+n)}),tt.call(this,t.g),this.f=t,this.c=n,et(this,t.e||tn(n,function(t){return t.e})),rt(this,t.r&&!n.length||t.q&&!!n.length||tn(n,function(t){return t.b}))}function pt(t,n,e,r,i,o,a,u,s){this.h=t,this.g=n,this.e=e,this.r=r,this.q=i,this.j=o,this.o=a,this.n=void 0!==u?u:a,this.s=!!s}function dt(t,n,e,r,i,o,a,u){if(yn.hasOwnProperty(t))throw Error("Function already created: "+t+".");yn[t]=new pt(t,n,e,r,!1,i,o,a,u)}function gt(t,n){switch(this.f=t,this.c=void 0!==n?n:null,this.b=null,t){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function vt(t){return"comment"==t||"text"==t||"processing-instruction"==t||"node"==t}function wt(t){tt.call(this,3),this.c=t.substring(1,t.length-1)}function bt(t,n){this.h=t.toLowerCase(),this.c=n?n.toLowerCase():"http://www.w3.org/1999/xhtml"}function yt(t){tt.call(this,1),this.c=t}function mt(t,n){if(tt.call(this,t.g),this.f=t,this.c=n,this.e=t.e,this.b=t.b,1==this.c.length){var e=this.c[0];e.m||e.c!=En||(e=e.k,"*"!=e.d()&&(this.d={name:e.d(),l:null}))}}function Et(){tt.call(this,4)}function xt(){tt.call(this,4)}function Nt(t){return"/"==t||"//"==t}function St(t,n){this.a=t,this.b=!!n}function Tt(t,n,e){for(e=e||0;e<t.a.length;e++)for(var r,i=t.a[e],o=K(n),a=n.i,u=0;r=z(o);u++){var s=t.b?a-u:u+1;if("number"==typeof(r=i.a(new c(r,s,a))))s=s==r;else if("string"==typeof r||"boolean"==typeof r)s=!!r;else{if(!(r instanceof Y))throw Error("Predicate.evaluate returned an unexpected type.");s=0<r.i}if(!s){s=o,r=s.d;var f=s.a;if(!f)throw Error("Next must be called at least once before remove.");var l=f.b,f=f.a;l?l.a=f:r.a=f,f?f.b=l:r.b=l,r.i--,s.a=null}}return n}function kt(t,n,e,r){tt.call(this,4),this.c=t,this.k=n,this.f=e||new St([]),this.m=!!r,n=this.f,n=0<n.a.length?n.a[0].d:null,t.b&&n&&(t=n.name,t=pn?t.toLowerCase():t,this.d={name:t,l:n.l});t:{for(t=this.f,n=0;n<t.a.length;n++)if(e=t.a[n],e.e||1==e.g||0==e.g){t=!0;break t}t=!1}this.e=t}function It(t,n,e,r){this.h=t,this.d=n,this.a=e,this.b=r}function Ot(t,n,e,r){if(mn.hasOwnProperty(t))throw Error("Axis already created: "+t);return n=new It(t,n,e,!!r),mn[t]=n}function Rt(t){tt.call(this,1),this.c=t,this.e=t.e,this.b=t.b}function At(t){tt.call(this,4),this.c=t,et(this,tn(this.c,function(t){return t.e})),rt(this,tn(this.c,function(t){return t.b}))}function Pt(t,n){this.a=t,this.b=n}function Dt(t){for(var n,e=[];;){_t(t,"Missing right hand side of binary expression."),n=Yt(t);var r=k(t.a);if(!r)break;var i=(r=wn[r]||null)&&r.p;if(!i){t.a.a--;break}for(;e.length&&i<=e[e.length-1].p;)n=new ut(e.pop(),e.pop(),n);e.push(n,r)}for(;e.length;)n=new ut(e.pop(),e.pop(),n);return n}function _t(t,n){if(I(t.a))throw Error(n)}function Mt(t,n){var e=k(t.a);if(e!=n)throw Error("Bad token, expected: "+n+" got: "+e)}function Ct(t){if(")"!=(t=k(t.a)))throw Error("Bad token: "+t)}function Bt(t){if(t=k(t.a),2>t.length)throw Error("Unclosed literal string");return new wt(t)}function jt(t){var n=k(t.a),e=n.indexOf(":");if(-1==e)return new bt(n);var r=n.substring(0,e);if(!(t=t.b(r)))throw Error("Namespace prefix not declared: "+r);return n=n.substr(e+1),new bt(n,t)}function Ut(t){var n,e,r=[];if(Nt(T(t.a))){if(n=k(t.a),e=T(t.a),"/"==n&&(I(t.a)||"."!=e&&".."!=e&&"@"!=e&&"*"!=e&&!/(?![0-9])[\w]/.test(e)))return new Et;e=new Et,_t(t,"Missing next location step."),n=Lt(t,n),r.push(n)}else{t:{switch(n=T(t.a),e=n.charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":k(t.a),n=Dt(t),_t(t,'unclosed "("'),Mt(t,")");break;case'"':case"'":n=Bt(t);break;default:if(isNaN(+n)){if(vt(n)||!/(?![0-9])[\w]/.test(e)||"("!=T(t.a,1)){n=null;break t}for(n=k(t.a),n=yn[n]||null,k(t.a),e=[];")"!=T(t.a)&&(_t(t,"Missing function argument list."),e.push(Dt(t)),","==T(t.a));)k(t.a);_t(t,"Unclosed function argument list."),Ct(t),n=new ht(n,e)}else n=new yt(+k(t.a))}"["==T(t.a)&&(e=new St(Ft(t)),n=new lt(n,e))}if(n){if(!Nt(T(t.a)))return n;e=n}else n=Lt(t,"/"),e=new xt,r.push(n)}for(;Nt(T(t.a));)n=k(t.a),_t(t,"Missing next location step."),n=Lt(t,n),r.push(n);return new mt(e,r)}function Lt(t,n){var e,r,i;if("/"!=n&&"//"!=n)throw Error('Step op should be "/" or "//"');if("."==T(t.a))return r=new kt(In,new gt("node")),k(t.a),r;if(".."==T(t.a))return r=new kt(Tn,new gt("node")),k(t.a),r;var o;if("@"==T(t.a))o=En,k(t.a),_t(t,"Missing attribute name");else if("::"==T(t.a,1)){if(!/(?![0-9])[\w]/.test(T(t.a).charAt(0)))throw Error("Bad token: "+k(t.a));if(e=k(t.a),!(o=mn[e]||null))throw Error("No axis with name: "+e);k(t.a),_t(t,"Missing node name")}else o=xn;if(e=T(t.a),/(?![0-9])[\w]/.test(e.charAt(0)))if("("==T(t.a,1)){if(!vt(e))throw Error("Invalid node type: "+e);if(e=k(t.a),!vt(e))throw Error("Invalid type name: "+e);Mt(t,"("),_t(t,"Bad nodetype"),i=T(t.a).charAt(0);var a=null;'"'!=i&&"'"!=i||(a=Bt(t)),_t(t,"Bad nodetype"),Ct(t),e=new gt(e,a)}else e=jt(t);else{if("*"!=e)throw Error("Bad token: "+k(t.a));e=jt(t)}return i=new St(Ft(t),o.a),r||new kt(o,e,i,"//"==n)}function Ft(t){for(var n=[];"["==T(t.a);){k(t.a),_t(t,"Missing predicate expression.");var e=Dt(t);n.push(e),_t(t,"Unclosed predicate expression."),Mt(t,"]")}return n}function Yt(t){if("-"==T(t.a))return k(t.a),new Rt(Yt(t));var n=Ut(t);if("|"!=T(t.a))t=n;else{for(n=[n];"|"==k(t.a);)_t(t,"Missing next union location path."),n.push(Ut(t));t.a.a--,t=new At(n)}return t}function Vt(t,r){if(!t.length)throw Error("Empty XPath expression.");var i=S(t);if(I(i))throw Error("Invalid XPath expression.");r?"function"==e(r)||(r=a(r.lookupNamespaceURI,r)):r=n(null);var o=Dt(new Pt(i,r));if(!I(i))throw Error("Bad token: "+k(i));this.evaluate=function(t,n){return new Ht(o.a(new c(t)),n)}}function Ht(t,n){if(0==n)if(t instanceof Y)n=4;else if("string"==typeof t)n=2;else if("number"==typeof t)n=1;else{if("boolean"!=typeof t)throw Error("Unexpected evaluation result.");n=3}if(2!=n&&1!=n&&3!=n&&!(t instanceof Y))throw Error("value could not be converted to the specified type");this.resultType=n;var e;switch(n){case 2:this.stringValue=t instanceof Y?G(t):""+t;break;case 1:this.numberValue=t instanceof Y?+G(t):+t;break;case 3:this.booleanValue=t instanceof Y?0<t.i:!!t;break;case 4:case 5:case 6:case 7:var r=K(t);e=[];for(var i=z(r);i;i=z(r))e.push(i instanceof E?i.a:i);this.snapshotLength=t.i,this.invalidIteratorState=!1;break;case 8:case 9:r=q(t),this.singleNodeValue=r instanceof E?r.a:r;break;default:throw Error("Unknown XPathResult type.")}var o=0;this.iterateNext=function(){if(4!=n&&5!=n)throw Error("iterateNext called with wrong result type");return o>=e.length?null:e[o++]},this.snapshotItem=function(t){if(6!=n&&7!=n)throw Error("snapshotItem called with wrong result type");return t>=e.length||0>t?null:e[t]}}function Xt(t){this.lookupNamespaceURI=J(t)}function $t(t){t=t||qt;var n=t.document;n.evaluate||(t.XPathResult=Ht,n.evaluate=function(t,n,e,r){return new Vt(t,e).evaluate(n,r)},n.createExpression=function(t,n){return new Vt(t,n)},n.createNSResolver=function(t){return new Xt(t)})}var qt=this;Function.prototype.bind=Function.prototype.bind||function(t,n){if(1<arguments.length){var e=Array.prototype.slice.call(arguments,1);return e.unshift(this,t),a.apply(null,e)}return a(this,t)};var Gt,Kt=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Wt=Array.prototype,zt=Wt.indexOf?function(t,n,e){return Wt.indexOf.call(t,n,e)}:function(t,n,e){if(e=null==e?0:0>e?Math.max(0,t.length+e):e,r(t))return r(n)&&1==n.length?t.indexOf(n,e):-1;for(;e<t.length;e++)if(e in t&&t[e]===n)return e;return-1},Jt=Wt.forEach?function(t,n,e){Wt.forEach.call(t,n,e)}:function(t,n,e){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)a in o&&n.call(e,o[a],a,t)},Qt=Wt.filter?function(t,n,e){return Wt.filter.call(t,n,e)}:function(t,n,e){for(var i=t.length,o=[],a=0,u=r(t)?t.split(""):t,s=0;s<i;s++)if(s in u){var c=u[s];n.call(e,c,s,t)&&(o[a++]=c)}return o},Zt=Wt.reduce?function(t,n,e,r){return r&&(n=a(n,r)),Wt.reduce.call(t,n,e)}:function(t,n,e,r){var i=e;return Jt(t,function(e,o){i=n.call(r,i,e,o,t)}),i},tn=Wt.some?function(t,n,e){return Wt.some.call(t,n,e)}:function(t,n,e){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)if(a in o&&n.call(e,o[a],a,t))return!0;return!1};t:{var nn=qt.navigator;if(nn){var en=nn.userAgent;if(en){Gt=en;break t}}Gt=""}var rn=f(Gt,"Opera")||f(Gt,"OPR"),on=f(Gt,"Edge")||f(Gt,"Trident")||f(Gt,"MSIE"),an=f(Gt,"Gecko")&&!(f(Gt.toLowerCase(),"webkit")&&!v())&&!(f(Gt,"Trident")||f(Gt,"MSIE"))&&!v(),un=f(Gt.toLowerCase(),"webkit")&&!v(),sn=function(){if(rn&&qt.opera){var t=qt.opera.version;return"function"==e(t)?t():t}var t="",n=w();return n&&(t=n?n[1]:""),on&&!v()&&(n=b())>parseFloat(t)?String(n):t}(),cn={},fn=qt.document,ln=b(),hn=!fn||!on||!ln&&v()?void 0:ln||("CSS1Compat"==fn.compatMode?parseInt(sn,10):5),pn=on&&!m(9),dn=on&&!m(8),gn=RegExp("\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w-]+|\\/\\/|\\.\\.|::|\\d+(?:\\.\\d*)?|\\.\\d+|\"[^\"]*\"|'[^']*'|[!<>]=|\\s+|.","g"),vn=/^\s/;g("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),!an&&!on||on&&m(9)||an&&y("1.9.1"),on&&y("9"),s(ut),ut.prototype.a=function(t){return this.c.j(this.f,this.k,t)},ut.prototype.toString=function(){var t="Binary Expression: "+this.c,t=t+nt(this.f);return t+=nt(this.k)},ct.prototype.toString=t("a");var wn={};ft("div",6,1,function(t,n,e){return it(t,e)/it(n,e)}),ft("mod",6,1,function(t,n,e){return it(t,e)%it(n,e)}),ft("*",6,1,function(t,n,e){return it(t,e)*it(n,e)}),ft("+",5,1,function(t,n,e){return it(t,e)+it(n,e)}),ft("-",5,1,function(t,n,e){return it(t,e)-it(n,e)}),ft("<",4,2,function(t,n,e){return st(function(t,n){return t<n},t,n,e)}),ft(">",4,2,function(t,n,e){return st(function(t,n){return t>n},t,n,e)}),ft("<=",4,2,function(t,n,e){return st(function(t,n){return t<=n},t,n,e)}),ft(">=",4,2,function(t,n,e){return st(function(t,n){return t>=n},t,n,e)});var bn=ft("=",3,2,function(t,n,e){return st(function(t,n){return t==n},t,n,e,!0)});ft("!=",3,2,function(t,n,e){return st(function(t,n){return t!=n},t,n,e,!0)}),ft("and",2,2,function(t,n,e){return at(t,e)&&at(n,e)}),ft("or",1,2,function(t,n,e){return at(t,e)||at(n,e)}),s(lt),lt.prototype.a=function(t){return t=this.c.a(t),Tt(this.f,t)},lt.prototype.toString=function(){var t;return t="Filter:"+nt(this.c),t+=nt(this.f)},s(ht),ht.prototype.a=function(t){return this.f.j.apply(null,p(t,this.c))},ht.prototype.toString=function(){var t="Function: "+this.f;if(this.c.length)var n=Zt(this.c,function(t,n){return t+nt(n)},"Arguments:"),t=t+nt(n);return t},pt.prototype.toString=t("h");var yn={};dt("boolean",2,!1,!1,function(t,n){return at(n,t)},1),dt("ceiling",1,!1,!1,function(t,n){return Math.ceil(it(n,t))},1),dt("concat",3,!1,!1,function(t,n){var e=d(arguments,1);return Zt(e,function(n,e){return n+ot(e,t)},"")},2,null),dt("contains",2,!1,!1,function(t,n,e){return f(ot(n,t),ot(e,t))},2),dt("count",1,!1,!1,function(t,n){return n.a(t).i},1,1,!0),dt("false",2,!1,!1,n(!1),0),dt("floor",1,!1,!1,function(t,n){return Math.floor(it(n,t))},1),dt("id",4,!1,!1,function(t,n){function e(t){if(pn){var n=i.all[t];if(n){if(n.nodeType&&t==n.id)return n;if(n.length)return h(n,function(n){return t==n.id})}return null}return i.getElementById(t)}var r=t.a,i=9==r.nodeType?r:r.ownerDocument,r=ot(n,t).split(/\s+/),o=[];Jt(r,function(t){!(t=e(t))||0<=zt(o,t)||o.push(t)}),o.sort(R);var a=new Y;return Jt(o,function(t){$(a,t)}),a},1),dt("lang",2,!1,!1,n(!1),1),dt("last",1,!0,!1,function(t){if(1!=arguments.length)throw Error("Function last expects ()");return t.d},0),dt("local-name",3,!1,!0,function(t,n){var e=n?q(n.a(t)):t.a;return e?e.localName||e.nodeName.toLowerCase():""},0,1,!0),dt("name",3,!1,!0,function(t,n){var e=n?q(n.a(t)):t.a;return e?e.nodeName.toLowerCase():""},0,1,!0),dt("namespace-uri",3,!0,!1,n(""),0,1,!0),dt("normalize-space",3,!1,!0,function(t,n){return(n?ot(n,t):D(t.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),dt("not",2,!1,!1,function(t,n){return!at(n,t)},1),dt("number",1,!1,!0,function(t,n){return n?it(n,t):+D(t.a)},0,1),dt("position",1,!0,!1,function(t){return t.b},0),dt("round",1,!1,!1,function(t,n){return Math.round(it(n,t))},1),dt("starts-with",2,!1,!1,function(t,n,e){return n=ot(n,t),t=ot(e,t),0==n.lastIndexOf(t,0)},2),dt("string",3,!1,!0,function(t,n){return n?ot(n,t):D(t.a)},0,1),dt("string-length",1,!1,!0,function(t,n){return(n?ot(n,t):D(t.a)).length},0,1),dt("substring",3,!1,!1,function(t,n,e,r){if(e=it(e,t),isNaN(e)||1/0==e||-1/0==e)return"";if(r=r?it(r,t):1/0,isNaN(r)||-1/0===r)return"";e=Math.round(e)-1;var i=Math.max(e,0);return t=ot(n,t),1/0==r?t.substring(i):(n=Math.round(r),t.substring(i,e+n))},2,3),dt("substring-after",3,!1,!1,function(t,n,e){return n=ot(n,t),t=ot(e,t),e=n.indexOf(t),-1==e?"":n.substring(e+t.length)},2),dt("substring-before",3,!1,!1,function(t,n,e){return n=ot(n,t),t=ot(e,t),t=n.indexOf(t),-1==t?"":n.substring(0,t)},2),dt("sum",1,!1,!1,function(t,n){for(var e=K(n.a(t)),r=0,i=z(e);i;i=z(e))r+=+D(i);return r},1,1,!0),dt("translate",3,!1,!1,function(t,n,e,r){n=ot(n,t),e=ot(e,t);var i=ot(r,t);for(t=[],r=0;r<e.length;r++){var o=e.charAt(r);o in t||(t[o]=i.charAt(r))}for(e="",r=0;r<n.length;r++)o=n.charAt(r),e+=o in t?t[o]:o;return e},3),dt("true",2,!1,!1,n(!0),0),gt.prototype.a=function(t){return null===this.b||this.b==t.nodeType},gt.prototype.d=t("f"),gt.prototype.toString=function(){var t="Kind Test: "+this.f;return null===this.c||(t+=nt(this.c)),t},s(wt),wt.prototype.a=t("c"),wt.prototype.toString=function(){return"Literal: "+this.c},bt.prototype.a=function(t){var n=t.nodeType;return(1==n||2==n)&&(("*"==this.h||this.h==t.nodeName.toLowerCase())&&this.c==(t.namespaceURI?t.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml"))},bt.prototype.d=t("h"),bt.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.h},s(yt),yt.prototype.a=t("c"),yt.prototype.toString=function(){return"Number: "+this.c},s(mt),s(Et),Et.prototype.a=function(t){var n=new Y;return t=t.a,9==t.nodeType?$(n,t):$(n,t.ownerDocument),n},Et.prototype.toString=n("Root Helper Expression"),s(xt),xt.prototype.a=function(t){var n=new Y;return $(n,t.a),n},xt.prototype.toString=n("Context Helper Expression"),mt.prototype.a=function(t){var n=this.f.a(t);if(!(n instanceof Y))throw Error("Filter expression must evaluate to nodeset.");t=this.c;for(var e=0,r=t.length;e<r&&n.i;e++){var i,o=t[e],a=K(n,o.c.a);if(o.e||o.c!=Sn)if(o.e||o.c!=kn)for(i=z(a),n=o.a(new c(i));null!=(i=z(a));)i=o.a(new c(i)),n=H(n,i);else i=z(a),n=o.a(new c(i));else{for(i=z(a);(n=z(a))&&(!i.contains||i.contains(n))&&8&n.compareDocumentPosition(i);i=n);n=o.a(new c(i))}}return n},mt.prototype.toString=function(){var t;if(t="Path Expression:"+nt(this.f),this.c.length){t+=nt(Zt(this.c,function(t,n){return t+nt(n)},"Steps:"))}return t},St.prototype.toString=function(){return Zt(this.a,function(t,n){return t+nt(n)},"Predicates:")},s(kt),kt.prototype.a=function(t){var n=t.a,e=null,e=this.d,r=null,i=null,o=0;if(e&&(r=e.name,i=e.l?ot(e.l,t):null,o=1),this.m)if(this.e||this.c!=xn)if(t=K(new kt(Nn,new gt("node")).a(t)),n=z(t))for(e=this.j(n,r,i,o);null!=(n=z(t));)e=H(e,this.j(n,r,i,o));else e=new Y;else e=M(this.k,n,r,i),e=Tt(this.f,e,o);else e=this.j(t.a,r,i,o);return e},kt.prototype.j=function(t,n,e,r){return t=this.c.d(this.k,t,n,e),t=Tt(this.f,t,r)},kt.prototype.toString=function(){var t;if(t="Step:"+nt("Operator: "+(this.m?"//":"/")),this.c.h&&(t+=nt("Axis: "+this.c)),t+=nt(this.k),this.f.a.length){t+=nt(Zt(this.f.a,function(t,n){return t+nt(n)},"Predicates:"))}return t},It.prototype.toString=t("h");var mn={};Ot("ancestor",function(t,n){for(var e=new Y,r=n;r=r.parentNode;)t.a(r)&&X(e,r);return e},!0),Ot("ancestor-or-self",function(t,n){var e=new Y,r=n;do{t.a(r)&&X(e,r)}while(r=r.parentNode);return e},!0);var En=Ot("attribute",function(t,n){var e=new Y,r=t.d();if("style"==r&&n.style&&pn)return $(e,new E(n.style,n,"style",n.style.cssText)),e;var i=n.attributes;if(i)if(t instanceof gt&&null===t.b||"*"==r)for(var o,r=0;o=i[r];r++)pn?o.nodeValue&&$(e,x(n,o)):$(e,o);else(o=i.getNamedItem(r))&&(pn?o.nodeValue&&$(e,x(n,o)):$(e,o));return e},!1),xn=Ot("child",function(t,n,e,i,o){return(pn?j:U).call(null,t,n,r(e)?e:null,r(i)?i:null,o||new Y)},!1,!0);Ot("descendant",M,!1,!0);var Nn=Ot("descendant-or-self",function(t,n,e,r){var i=new Y;return _(n,e,r)&&t.a(n)&&$(i,n),M(t,n,e,r,i)},!1,!0),Sn=Ot("following",function(t,n,e,r){var i=new Y;do{for(var o=n;o=o.nextSibling;)_(o,e,r)&&t.a(o)&&$(i,o),i=M(t,o,e,r,i)}while(n=n.parentNode);return i},!1,!0);Ot("following-sibling",function(t,n){for(var e=new Y,r=n;r=r.nextSibling;)t.a(r)&&$(e,r);return e},!1),Ot("namespace",function(){return new Y},!1);var Tn=Ot("parent",function(t,n){var e=new Y;if(9==n.nodeType)return e;if(2==n.nodeType)return $(e,n.ownerElement),e;var r=n.parentNode;return t.a(r)&&$(e,r),e},!1),kn=Ot("preceding",function(t,n,e,r){var i=new Y,o=[];do{o.unshift(n)}while(n=n.parentNode);for(var a=1,u=o.length;a<u;a++){var s=[];for(n=o[a];n=n.previousSibling;)s.unshift(n);for(var c=0,f=s.length;c<f;c++)n=s[c],_(n,e,r)&&t.a(n)&&$(i,n),i=M(t,n,e,r,i)}return i},!0,!0);Ot("preceding-sibling",function(t,n){for(var e=new Y,r=n;r=r.previousSibling;)t.a(r)&&X(e,r);return e},!0);var In=Ot("self",function(t,n){var e=new Y;return t.a(n)&&$(e,n),e},!1);s(Rt),Rt.prototype.a=function(t){return-it(this.c,t)},Rt.prototype.toString=function(){return"Unary Expression: -"+nt(this.c)},s(At),At.prototype.a=function(t){var n=new Y;return Jt(this.c,function(e){if(!((e=e.a(t))instanceof Y))throw Error("Path expression must evaluate to NodeSet.");n=H(n,e)}),n},At.prototype.toString=function(){return Zt(this.c,function(t,n){return t+nt(n)},"Union Expression:")},Ht.ANY_TYPE=0,Ht.NUMBER_TYPE=1,Ht.STRING_TYPE=2,Ht.BOOLEAN_TYPE=3,Ht.UNORDERED_NODE_ITERATOR_TYPE=4,Ht.ORDERED_NODE_ITERATOR_TYPE=5,Ht.UNORDERED_NODE_SNAPSHOT_TYPE=6,Ht.ORDERED_NODE_SNAPSHOT_TYPE=7,Ht.ANY_UNORDERED_NODE_TYPE=8,Ht.FIRST_ORDERED_NODE_TYPE=9;var On=["wgxpath","install"],Rn=qt;On[0]in Rn||!Rn.execScript||Rn.execScript("var "+On[0]);for(var An;On.length&&(An=On.shift());)On.length||void 0===$t?Rn=Rn[An]?Rn[An]:Rn[An]={}:Rn[An]=$t}();

},{}],96:[function(require,module,exports){
"use strict";module.exports={FEATURE_FLAGS_UPDATED:"featureFlagsUpdated",HELP_REQUESTED:"helpRequested",LOGIN_REQUESTED:"loginRequested",LOGOUT_REQUESTED:"logoutRequested",PROFILE_REQUESTED:"profileRequested",PUBLIC_ANNOTATION_COUNT_CHANGED:"publicAnnotationCountChanged",SIGNUP_REQUESTED:"signupRequested"};

},{}],97:[function(require,module,exports){
"use strict";function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,r=Array(n.length);e<n.length;e++)r[e]=n[e];return r}return Array.from(n)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(n,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}return function(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}}(),extend=require("extend"),RPC=require("./frame-rpc"),Bridge=function(){function n(){_classCallCheck(this,n),this.links=[],this.channelListeners={},this.onConnectListeners=[]}return _createClass(n,[{key:"destroy",value:function(){Array.from(this.links).map(function(n){return n.channel.destroy()})}},{key:"createChannel",value:function(n,e,r){var t=this,i=null,a=!1,o=function(){a||(a=!0,Array.from(t.onConnectListeners).forEach(function(e){return e.call(null,i,n)}))},c=function(n,e){n===r&&(e(),o())},u=extend({connect:c},this.channelListeners);return i=new RPC(window,n,e,u),i.call("connect",r,o),this.links.push({channel:i,window:n}),i}},{key:"call",value:function(n){for(var e=this,r=arguments.length,t=Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];var a;"function"==typeof t[t.length-1]&&(a=t[t.length-1],t=t.slice(0,-1));var o=function(n){return function(r){throw n.destroy(),e.links=Array.from(e.links).filter(function(e){return e.channel!==n}).map(function(n){return n}),r}},c=this.links.map(function(e){return new Promise(function(r,i){var a=setTimeout(function(){return r(null)},1e3);try{var o;return(o=e.channel).call.apply(o,[n].concat(_toConsumableArray(Array.from(t)),[function(n,e){return clearTimeout(a),n?i(n):r(e)}]))}catch(n){var c=n;return i(c)}}).catch(o(e.channel))}),u=Promise.all(c);return a&&(u=u.then(function(n){return a(null,n)}).catch(function(n){return a(n)})),u}},{key:"on",value:function(n,e){if(this.channelListeners[n])throw new Error("Listener '"+n+"' already bound in Bridge");return this.channelListeners[n]=e,this}},{key:"off",value:function(n){return delete this.channelListeners[n],this}},{key:"onConnect",value:function(n){return this.onConnectListeners.push(n),this}}]),n}();module.exports=Bridge;

},{"./frame-rpc":99,"extend":34}],98:[function(require,module,exports){
var Discovery,bind=function(e,s){return function(){return e.apply(s,arguments)}};module.exports=Discovery=function(){function e(e,s){this.target=e,null==s&&(s={}),this._onMessage=bind(this._onMessage,this),this.stopDiscovery=bind(this.stopDiscovery,this),s.server&&(this.server=s.server),s.origin&&(this.origin=s.origin)}return e.prototype.server=!1,e.prototype.origin="*",e.prototype.onDiscovery=null,e.prototype.requestInProgress=!1,e.prototype.startDiscovery=function(e){if(this.onDiscovery)throw new Error("Discovery is already in progress, call .stopDiscovery() first");this.onDiscovery=e,this.target.addEventListener("message",this._onMessage,!1),this._beacon()},e.prototype.stopDiscovery=function(){this.onDiscovery=null,this.target.removeEventListener("message",this._onMessage)},e.prototype._beacon=function(){var e,s,r,o,t,i,n;for(e=this.server?"__cross_frame_dhcp_offer":"__cross_frame_dhcp_discovery",i=[this.target.top];i.length;)for(t=i.shift(),t!==this.target&&t.postMessage(e,this.origin),n=t.frames,r=0,o=n.length;r<o;r++)s=n[r],i.push(s)},e.prototype._onMessage=function(e){var s,r,o,t,i,n,c,a,p;a=e.source,i=e.origin,s=e.data,("null"===i||i.match("moz-extension:")||"moz-extension:"===window.location.protocol)&&(i="*"),(o="function"==typeof s.match?s.match(/^__cross_frame_dhcp_(discovery|offer|request|ack)(?::(\d+))?$/):void 0)&&(t=o[1],p=o[2],n=this._processMessage(t,p,i),c=n.reply,r=n.discovered,p=n.token,c&&a.postMessage("__cross_frame_dhcp_"+c,i),r&&this.onDiscovery.call(null,a,i,p))},e.prototype._processMessage=function(e,s,r){var o,t;if(t=null,o=!1,this.server){if("discovery"===e)t="offer";else if("request"===e)s=this._generateToken(),t="ack:"+s,o=!0;else if("offer"===e||"ack"===e)throw new Error("A second Discovery server has been detected at "+r+".\nThis is unsupported and will cause unexpected behaviour.")}else"offer"===e?this.requestInProgress||(this.requestInProgress=!0,t="request"):"ack"===e&&(this.requestInProgress=!1,o=!0);return{reply:t,discovered:o,token:s}},e.prototype._generateToken=function(){return(""+Math.random()).replace(/\D/g,"")},e}();

},{}],99:[function(require,module,exports){
"use strict";function RPC(t,e,s,o){if(!(this instanceof RPC))return new RPC(t,e,s,o);var r=this;if(this.src=t,this.dst=e,"*"===s)this.origin="*";else{var n=new URL(s);this.origin=n.protocol+"//"+n.host}this._sequence=0,this._callbacks={},this._onmessage=function(t){r._destroyed||r.dst===t.source&&("*"!==r.origin&&t.origin!==r.origin||t.data&&"object"===_typeof(t.data)&&"frame-rpc"===t.data.protocol&&Array.isArray(t.data.arguments)&&r._handle(t.data))},this.src.addEventListener("message",this._onmessage),this._methods=("function"==typeof o?o(this):o)||{}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VERSION="1.0.0";module.exports=RPC,RPC.prototype.destroy=function(){this._destroyed=!0,this.src.removeEventListener("message",this._onmessage)},RPC.prototype.call=function(t){var e=[].slice.call(arguments,1);return this.apply(t,e)},RPC.prototype.apply=function(t,e){if(!this._destroyed){var s=this._sequence++;"function"==typeof e[e.length-1]&&(this._callbacks[s]=e[e.length-1],e=e.slice(0,-1)),this.dst.postMessage({protocol:"frame-rpc",version:VERSION,sequence:s,method:t,arguments:e},this.origin)}},RPC.prototype._handle=function(t){var e=this;if(!e._destroyed)if(t.hasOwnProperty("method")){if(!this._methods.hasOwnProperty(t.method))return;var s=t.arguments.concat(function(){e.dst.postMessage({protocol:"frame-rpc",version:VERSION,response:t.sequence,arguments:[].slice.call(arguments)},e.origin)});this._methods[t.method].apply(this._methods,s)}else if(t.hasOwnProperty("response")){var o=this._callbacks[t.response];delete this._callbacks[t.response],o&&o.apply(null,t.arguments)}};

},{}],100:[function(require,module,exports){
"use strict";function polyglot(){var e={},o=configFrom(window).locale||"en";return e=function(e){return{en:require("../sidebar/translations/english_en"),ja:require("../sidebar/translations/japanese_ja")}[e]}(o),new Polyglot({locale:o,phrases:e})}var Polyglot=require("node-polyglot"),configFrom=require("../annotator/config/index");module.exports=polyglot;

},{"../annotator/config/index":68,"../sidebar/translations/english_en":102,"../sidebar/translations/japanese_ja":103,"node-polyglot":45}],101:[function(require,module,exports){
"use strict";function assign(o,s){for(var n in s)s.hasOwnProperty(n)&&(o[n]=s[n]);return o}function jsonConfigsFrom(o){for(var s={},n=o.querySelectorAll("script.js-hypothesis-config"),r=0;r<n.length;r++){var t;try{t=JSON.parse(n[r].textContent)}catch(o){console.warn("Could not parse settings from js-hypothesis-config tags",o),t={}}assign(s,t)}return s}module.exports={jsonConfigsFrom:jsonConfigsFrom};

},{}],102:[function(require,module,exports){
module.exports={
    "This feedback is visible only to you.": "This feedback is visible only to you.",
    "Only me": "Only me",
    "This is a highlight. Click \\": "This is a highlight. Click \\",
    "Share": "Share",
    "Tweet link": "Tweet link",
    "Share on Facebook": "Share on Facebook",
    "Post on Google Plus": "Post on Google Plus",
    "Share via email": "Share via email",
    "Group.": "Group.",
    "Only group members will be able to view this annotation.": "Only group members will be able to view this annotation.",
    "Only me.": "Only me.",
    "No one else will be able to view this annotation.": "No one else will be able to view this annotation.",
    "Expand": "Expand",
    "Message not available.": "Message not available.",
    "You must be logged in to leave feedback.": "You must be logged in to leave feedback.",
    "View more information about the Creative Commons Public Domain dedication": "View more information about the Creative Commons Public Domain dedication",
    "Feedback can be freely reused by anyone for any purpose.": "Feedback can be freely reused by anyone for any purpose.",
    "Show replies": "Show replies",
    "Saving...": "Saving...",
    "Edit": "Edit",
    "Delete": "Delete",
    "Show the full excerpt": "Show the full excerpt",
    "More": "More",
    "Show the first few lines only": "Show the first few lines only",
    "Less": "Less",
    "Change the selected group": "Change the selected group",
    "Show public annotations": "Show public annotations",
    "View group activity and invite others": "View group activity and invite others",
    "Create a new group to share annotations": "Create a new group to share annotations",
    "New group": "New group",
    "Send us an email": "Send us an email",
    "Close": "Close",
    "Help": "Help",
    "About this version": "About this version",
    "Version": "Version",
    "User agent": "User agent",
    "URL": "URL",
    "PDF fingerprint": "PDF fingerprint",
    "Username": "Username",
    "Date": "Date",
    "Change the language": "Change the language",
    "Select the language": "Select the language",
    "This is a public annotation created with Hypothesis.": "This is a public annotation created with Hypothesis.",
    "Sign up": "Sign up",
    "Log in": "Log in",
    "View all your annotations": "View all your annotations",
    "account.settings": "account.settings",
    "Log out": "Log out",
    "My Annotations": "My Annotations",
    "Parsed as Markdown": "Parsed as Markdown",
    "Preview": "Preview",
    "Write": "Write",
    "Embolden text": "Embolden text",
    "Italicize text": "Italicize text",
    "Quote text": "Quote text",
    "Insert link": "Insert link",
    "Insert image": "Insert image",
    "Insert mathematical notation (LaTex is supported)": "Insert mathematical notation (LaTex is supported)",
    "Insert numbered list": "Insert numbered list",
    "Insert list": "Insert list",
    "Hidden from users.": "Hidden from users.",
    "Hide this feedback from non-moderators": "Hide this feedback from non-moderators",
    "Hide": "Hide",
    "Make this feedback visible to everyone": "Make this feedback visible to everyone",
    "Unhide": "Unhide",
    "New note": "New note",
    "Publish this feedback to": "Publish this feedback to",
    "Change annotation sharing setting": "Change annotation sharing setting",
    "Cancel changes to this feedback": "Cancel changes to this feedback",
    "Cancel": "Cancel",
    "Loading": "Loading",
    "Clear the search filter and show all feedback": "Clear the search filter and show all feedback",
    "Clear search": "Clear search",
    "Show all feedback and notes": "Show all feedback and notes",
    "Show all feedback": "Show all feedback",
    "Show all notes": "Show all notes",
    "Feedback": "Feedback",
    "Page Notes": "Page Notes",
    "Orphans": "Orphans",
    "There are no page notes in this group.": "There are no page notes in this group.",
    "There is no feedback in this group.": "There is no feedback in this group.",
    "Share the link below to show anyone these annotations and invite them to contribute their own.": "Share the link below to show anyone these annotations and invite them to contribute their own.",
    "This feedback is not available.": "This feedback is not available.",
    "You do not have permission to view this feedback.": "You do not have permission to view this feedback.",
    "How to get started": "How to get started",
    "Start annotating": "Start annotating",
    "Create page level notes": "Create page level notes",
    "View feedback through your profile": "View feedback through your profile",
    "Sort by": "Sort by",
    "Filter the feedback list": "Filter the feedback list",
    "Share this page": "Share this page",
    "Show feedback": "Show %{bucketLength} feedback",
    "Toggle or Resize Sidebar":"Toggle or Resize Sidebar",
    "Close Sidebar":"Close Sidebar",
    "Hide Highlights":"Hide Highlights",
    "Highlight": "Highlight"
}
},{}],103:[function(require,module,exports){
module.exports={
    "Feedback": "注釈",
    "Filter the feedback list": "アノテーションリストをフィルタリングする",
    "This feedback is visible only to you.": "このフィードバックはあなたにしか見えません。",
    "Change the selected group": "選択したグループを変更する",
    "Change the language": "言語を変更する",
    "Only me": "Only me",
    "This is a highlight. Click \\": "This is a highlight. Click \\",
    "Share": "Share",
    "Tweet link": "Tweet link",
    "Share on Facebook": "Share on Facebook",
    "Post on Google Plus": "Post on Google Plus",
    "Share via email": "Share via email",
    "Group.": "Group.",
    "Only group members will be able to view this annotation.": "Only group members will be able to view this annotation.",
    "Only me.": "Only me.",
    "No one else will be able to view this annotation.": "No one else will be able to view this annotation.",
    "Expand": "Expand",
    "Message not available.": "Message not available.",
    "You must be logged in to leave feedback.": "You must be logged in to leave feedback.",
    "View more information about the Creative Commons Public Domain dedication": "View more information about the Creative Commons Public Domain dedication",
    "Feedback can be freely reused by anyone for any purpose.": "Feedback can be freely reused by anyone for any purpose.",
    "Show replies": "Show replies",
    "Saving...": "Saving...",
    "Edit": "編集します",
    "Delete": "削除",
    "Show the full excerpt": "Show the full excerpt",
    "More": "More",
    "Show the first few lines only": "Show the first few lines only",
    "Less": "Less",
    "Show public annotations": "Show public annotations",
    "View group activity and invite others": "View group activity and invite others",
    "Create a new group to share annotations": "Create a new group to share annotations",
    "New group": "New group",
    "Send us an email": "Send us an email",
    "Close": "Close",
    "Help": "Help",
    "About this version": "About this version",
    "Version": "Version",
    "User agent": "User agent",
    "URL": "URL",
    "PDF fingerprint": "PDF fingerprint",
    "Username": "Username",
    "Date": "Date",
    "Select the language": "Select the language",
    "This is a public annotation created with Hypothesis.": "This is a public annotation created with Hypothesis.",
    "Sign up": "Sign up",
    "Log in": "Log in",
    "View all your annotations": "View all your annotations",
    "account.settings": "account.settings",
    "Log out": "Log out",
    "My Annotations": "My Annotations",
    "Parsed as Markdown": "Parsed as Markdown",
    "Preview": "Preview",
    "Write": "Write",
    "Embolden text": "Embolden text",
    "Italicize text": "Italicize text",
    "Quote text": "Quote text",
    "Insert link": "Insert link",
    "Insert image": "Insert image",
    "Insert mathematical notation (LaTex is supported)": "Insert mathematical notation (LaTex is supported)",
    "Insert numbered list": "Insert numbered list",
    "Insert list": "Insert list",
    "Hidden from users.": "Hidden from users.",
    "Hide this feedback from non-moderators": "Hide this feedback from non-moderators",
    "Hide": "Hide",
    "Make this feedback visible to everyone": "Make this feedback visible to everyone",
    "Unhide": "Unhide",
    "New note": "New note",
    "Publish this feedback to": "Publish this feedback to",
    "Change annotation sharing setting": "Change annotation sharing setting",
    "Cancel changes to this feedback": "Cancel changes to this feedback",
    "Cancel": "Cancel",
    "Loading": "Loading",
    "Clear the search filter and show all feedback": "Clear the search filter and show all feedback",
    "Clear search": "Clear search",
    "Show all feedback and notes": "Show all feedback and notes",
    "Show all feedback": "Show all feedback",
    "Show all notes": "Show all notes",
    "Page Notes": "Page Notes",
    "Orphans": "Orphans",
    "There are no page notes in this group.": "There are no page notes in this group.",
    "There is no feedback in this group.": "There is no feedback in this group.",
    "Share the link below to show anyone these annotations and invite them to contribute their own.": "Share the link below to show anyone these annotations and invite them to contribute their own.",
    "This feedback is not available.": "This feedback is not available.",
    "You do not have permission to view this feedback.": "You do not have permission to view this feedback.",
    "How to get started": "How to get started",
    "Start annotating": "Start annotating",
    "Create page level notes": "Create page level notes",
    "View feedback through your profile": "View feedback through your profile",
    "Sort by": "Sort by",
    "Share this page": "Share this page",
    "Show one annotation": "1つの注釈を表示する",
    "Show feedback": "%{bucketLength} つのフィードバックを表示",
    "Toggle or Resize Sidebar":"サイドバーの表示/非表示"
}
},{}]},{},[79])
//# sourceMappingURL=annotator.bundle.js.map
