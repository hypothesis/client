/**
 * Tries to get the extension ID which is running this script, or undefined if
 * this script is not being run by the browser extension
 *
 * @param {Window} window_
 * @return {string | undefined}
 */
export function getExtensionId(window_ = window) {
  return /** @type {any} */ (window_).chrome?.runtime?.id;
}

/**
 * Verifies if there's a config script in the document that was generated by a
 * specific extension
 *
 * @param {string} extensionId
 * @param {Document} document_
 * @return {boolean}
 */
export function hasExtensionConfig(extensionId, document_ = document) {
  return !!document_.querySelector(
    `script.js-hypothesis-config[data-extension-id=${extensionId}]`
  );
}
