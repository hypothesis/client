@import 'tailwindcss' source(none);

@config '../../../tailwind-sidebar.config.js';

@layer base {
  html,
  body {
    @apply h-full;
  }

  body {
    @apply bg-white font-sans text-base text-color-text;
  }


  /* See https://tailwindcss.com/docs/upgrade-guide#default-border-color. */
  * {
    border-color: #dbdbdb;
  }

  /* TODO: Find all component-src uses of <a> elements directly and update to
     use `Link` component (for styling) or verify that they don't rely on this
     element style. */
  a {
    /* Ensure the tag has width in order for :focus styling to render correctly. */
    @apply inline-block;
    /* Give links a radius to allow :focus styling to appear similar to that of buttons. */
    @apply rounded;
    @apply text-brand no-underline;
  }

  a:active,
  a:focus {
    @apply no-underline;
  }

  a:hover {
    @apply text-brand-dark no-underline;
  }

  /* TODO: Research history of this and whether it's still appropriate. */
  p {
    @apply hyphens-auto;
  }
}

/* See https://tailwindcss.com/docs/upgrade-guide#default-ring-width-and-color. */
@theme {
  --default-ring-width: 2px;
  --default-ring-color: #59a7e8;
}

@import '@hypothesis/annotation-ui/StyledText.css';

@layer components {
  /* Style a background to contain a vertical dashed line, horizontally-
     centered, that gets darker on hover.
  
     Linear gradient, sizing and positioning derived from
     https://css-tricks.com/more-control-over-css-borders-with-background-image/ */
  .bg-thread-line {
    /* Use TW gradient stops to color the line. These set --tw-gradient-from CSS properties. */
    @apply from-grey-3 hover:from-grey-4;
    @apply bg-no-repeat bg-center;

    background-image: repeating-linear-gradient(
      180deg,
      var(--tw-gradient-from),
      var(--tw-gradient-from) 4px,
      transparent 4px,
      transparent 6px,
      var(--tw-gradient-from) 6px
    );
    background-size: 1px 100%;
  }

  /* Applies to any text: strikeout effect. */
  .p-redacted-text {
	  @apply line-through grayscale contrast-50 text-color-text-light;
  }

  /* Disable scroll anchoring as it interferes with `ThreadList` and
	   `visible-threads` calculations and can cause a render loop. */
	.js-thread-list-scroll-root {
		overflow-anchor: none;
	}
}

@utility container {
  @apply m-auto px-[9px] max-w-[768px];
}
